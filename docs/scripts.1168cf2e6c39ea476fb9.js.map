{"version":3,"sources":["src/assets/scripts/three/OrbitControls.js","src/assets/scripts/polyfills/object.js","src/assets/scripts/tween.js/dist/tween.umd.js","src/assets/scripts/vanillaTilt.js"],"names":["orbitControls","devObj","THREE","_changeEvent","type","_startEvent","_endEvent","OrbitControls","EventDispatcher","object","domElement","super","undefined","console","warn","document","error","this","style","touchAction","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","clone","position0","position","zoom0","zoom","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","listenToKeyEvents","addEventListener","onKeyDown","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","update","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","min","max","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","ownerDocument","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","getSecondPointerPosition","x","y","subVectors","handleTouchMovePan","handleTouchMoveDolly","push","addPointer","pointerType","trackPointer","DOLLY_ROTATE","onTouchStart","mouseAction","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","removePointer","preventDefault","handleMouseWheel","needsUpdate","code","handleKeyDown","pointerId","i","splice","passive","MapControls","Object","values","O","map","e","fromEntries","entries","o","forEach","pair","obj","ownProps","ownValues","resArray","Array","prototype","includes","item","included","btoa","chars","ascii","indices","cache","c","window","data","len","b64","charCodeAt","pads","slice","atob","pos","indexOf","padded","String","fromCharCode","global","factory","exports","module","define","amd","globalThis","self","TWEEN","a","Easing","Linear","None","amount","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","Back","s","Bounce","now$1","process","hrtime","time","performance","now","bind","Date","getTime","Group","_tweens","_tweensAddedDuringUpdate","getAll","_this","tweenId","removeAll","tween","getId","remove","preserve","tweenIds","Interpolation","k","m","f","floor","fn","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","p2","p3","v0","v1","t2","Sequence","nextId","_nextId","mainGroup","Tween","_object","_group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_id","_isChainStopped","_goToEnd","isPlaying","isPaused","to","properties","duration","create","d","start","property","_swapEndStartRepeatValues","parseFloat","_setupProperties","startValue","startValueIsArray","isArray","propType","isInterpolationList","endValues","_handleRelativeValue","concat","reverse","prop","stop","stopChainedTweens","_onStopCallback","end","pause","resume","numChainedTweens","group","delay","repeat","times","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","tweens","_i","arguments","onStart","callback","_onStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","autoStart","elapsed","value","_updateProperties","startIsArray","endIsArray","charAt","tmp","endValue","VERSION","exports$1","default","defineProperty","VanillaTilt","settings","Node","width","height","gammazero","betazero","lastgammazero","lastbetazero","transitionTimeout","updateCall","updateBind","resetBind","extendSettings","glare","isSettingTrue","glarePrerender","fullPageListening","gyroscope","gyroscopeSamples","elementListener","getElementListener","prepareGlare","updateClientSize","addEventListeners","updateInitialPosition","setting","mouseEventElement","querySelector","onMouseEnterBind","onMouseEnter","onMouseMoveBind","onMouseLeaveBind","onMouseLeave","onWindowResizeBind","onWindowResize","onDeviceOrientationBind","onDeviceOrientation","clearTimeout","cancelAnimationFrame","removeEventListeners","vanillaTilt","gamma","beta","updateElementPosition","posX","gyroscopeMinAngleX","gyroscopeMaxAngleX","posY","gyroscopeMinAngleY","gyroscopeMaxAngleY","requestAnimationFrame","willChange","setTransition","transform","perspective","resetGlare","glareElement","opacity","startX","startY","backupScale","tiltX","toFixed","tiltY","percentageX","percentageY","atan2","rect","getBoundingClientRect","offsetWidth","offsetHeight","getValues","axis","CustomEvent","jsTiltGlare","createElement","classList","jsTiltGlareInner","appendChild","glareElementWrapper","assign","innerWidth","documentElement","body","innerHeight","updateGlareSize","transition","speed","setTimeout","defaultSettings","newSettings","hasAttribute","attribute","getAttribute","JSON","parse","elements","NodeList","call","init","querySelectorAll"],"mappings":"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","file":"scripts.1168cf2e6c39ea476fb9.js","sourcesContent":["function orbitControls (devObj) {\r\n\r\n    let {THREE} = devObj\r\n\t// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n\t//\r\n\t//    Orbit - left mouse / touch: one-finger move\r\n\t//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n\t//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\n\tconst _changeEvent = {\r\n\t\ttype: 'change'\r\n\t};\r\n\tconst _startEvent = {\r\n\t\ttype: 'start'\r\n\t};\r\n\tconst _endEvent = {\r\n\t\ttype: 'end'\r\n\t};\r\n\r\n\tclass OrbitControls extends THREE.EventDispatcher {\r\n\r\n\t\tconstructor( object, domElement ) {\r\n\r\n\t\t\tsuper();\r\n\t\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\t\t\tthis.object = object;\r\n\t\t\tthis.domElement = domElement;\r\n\t\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\r\n\t\t\t// Set to false to disable this control\r\n\r\n\t\t\tthis.enabled = true; // \"target\" sets the location of focus, where the object orbits around\r\n\r\n\t\t\tthis.target = new THREE.Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\r\n\r\n\t\t\tthis.minDistance = 0;\r\n\t\t\tthis.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\r\n\r\n\t\t\tthis.minZoom = 0;\r\n\t\t\tthis.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\r\n\t\t\t// Range is 0 to Math.PI radians.\r\n\r\n\t\t\tthis.minPolarAngle = 0; // radians\r\n\r\n\t\t\tthis.maxPolarAngle = Math.PI; // radians\r\n\t\t\t// How far you can orbit horizontally, upper and lower limits.\r\n\t\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\r\n\t\t\tthis.minAzimuthAngle = - Infinity; // radians\r\n\r\n\t\t\tthis.maxAzimuthAngle = Infinity; // radians\r\n\t\t\t// Set to true to enable damping (inertia)\r\n\t\t\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\r\n\t\t\tthis.enableDamping = false;\r\n\t\t\tthis.dampingFactor = 0.05; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t\t\t// Set to false to disable zooming\r\n\r\n\t\t\tthis.enableZoom = true;\r\n\t\t\tthis.zoomSpeed = 1.0; // Set to false to disable rotating\r\n\r\n\t\t\tthis.enableRotate = true;\r\n\t\t\tthis.rotateSpeed = 1.0; // Set to false to disable panning\r\n\r\n\t\t\tthis.enablePan = true;\r\n\t\t\tthis.panSpeed = 1.0;\r\n\t\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\r\n\t\t\tthis.keyPanSpeed = 7.0; // pixels moved per arrow key push\r\n\t\t\t// Set to true to automatically rotate around the target\r\n\t\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\r\n\t\t\tthis.autoRotate = false;\r\n\t\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\r\n\t\t\t// The four arrow keys\r\n\r\n\t\t\tthis.keys = {\r\n\t\t\t\tLEFT: 'ArrowLeft',\r\n\t\t\t\tUP: 'ArrowUp',\r\n\t\t\t\tRIGHT: 'ArrowRight',\r\n\t\t\t\tBOTTOM: 'ArrowDown'\r\n\t\t\t}; // Mouse buttons\r\n\r\n\t\t\tthis.mouseButtons = {\r\n\t\t\t\tLEFT: THREE.MOUSE.ROTATE,\r\n\t\t\t\tMIDDLE: THREE.MOUSE.DOLLY,\r\n\t\t\t\tRIGHT: THREE.MOUSE.PAN\r\n\t\t\t}; // Touch fingers\r\n\r\n\t\t\tthis.touches = {\r\n\t\t\t\tONE: THREE.TOUCH.ROTATE,\r\n\t\t\t\tTWO: THREE.TOUCH.DOLLY_PAN\r\n\t\t\t}; // for reset\r\n\r\n\t\t\tthis.target0 = this.target.clone();\r\n\t\t\tthis.position0 = this.object.position.clone();\r\n\t\t\tthis.zoom0 = this.object.zoom; // the target DOM element for key events\r\n\r\n\t\t\tthis._domElementKeyEvents = null; //\r\n\t\t\t// public methods\r\n\t\t\t//\r\n\r\n\t\t\tthis.getPolarAngle = function () {\r\n\r\n\t\t\t\treturn spherical.phi;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\t\t\treturn spherical.theta;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tthis.listenToKeyEvents = function ( domElement ) {\r\n\r\n\t\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\r\n\t\t\t\tthis._domElementKeyEvents = domElement;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tthis.saveState = function () {\r\n\r\n\t\t\t\tscope.target0.copy( scope.target );\r\n\t\t\t\tscope.position0.copy( scope.object.position );\r\n\t\t\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tthis.reset = function () {\r\n\r\n\t\t\t\tscope.target.copy( scope.target0 );\r\n\t\t\t\tscope.object.position.copy( scope.position0 );\r\n\t\t\t\tscope.object.zoom = scope.zoom0;\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\t\tscope.dispatchEvent( _changeEvent );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t}; // this method is exposed, but perhaps it would be better if we can make it private...\r\n\r\n\r\n\t\t\tthis.update = function () {\r\n\r\n\t\t\t\tconst offset = new THREE.Vector3(); // so camera.up is the orbit axis\r\n\r\n\t\t\t\tconst quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\r\n\t\t\t\tconst quatInverse = quat.clone().invert();\r\n\t\t\t\tconst lastPosition = new THREE.Vector3();\r\n\t\t\t\tconst lastQuaternion = new THREE.Quaternion();\r\n\t\t\t\tconst twoPI = 2 * Math.PI;\r\n\t\t\t\treturn function update() {\r\n\r\n\t\t\t\t\tconst position = scope.object.position;\r\n\t\t\t\t\toffset.copy( position ).sub( scope.target ); // rotate offset to \"y-axis-is-up\" space\r\n\r\n\t\t\t\t\toffset.applyQuaternion( quat ); // angle from z-axis around y-axis\r\n\r\n\t\t\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t\t\t} // restrict theta to be between desired limits\r\n\r\n\r\n\t\t\t\t\tlet min = scope.minAzimuthAngle;\r\n\t\t\t\t\tlet max = scope.maxAzimuthAngle;\r\n\r\n\t\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\t\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tspherical.theta = spherical.theta > ( min + max ) / 2 ? Math.max( min, spherical.theta ) : Math.min( max, spherical.theta );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} // restrict phi to be between desired limits\r\n\r\n\r\n\t\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\t\t\t\t\tspherical.makeSafe();\r\n\t\t\t\t\tspherical.radius *= scale; // restrict radius to be between desired limits\r\n\r\n\t\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) ); // move target to panned location\r\n\r\n\t\t\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toffset.setFromSpherical( spherical ); // rotate offset back to \"camera-up-vector-is-up\" space\r\n\r\n\t\t\t\t\toffset.applyQuaternion( quatInverse );\r\n\t\t\t\t\tposition.copy( scope.target ).add( offset );\r\n\t\t\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\r\n\t\t\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\r\n\t\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\t\t\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscale = 1; // update condition is:\r\n\t\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\t\t\tif ( zoomChanged || lastPosition.distanceToSquared( scope.object.position ) > EPS || 8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\t\t\tscope.dispatchEvent( _changeEvent );\r\n\t\t\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\t\t\tzoomChanged = false;\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}();\r\n\r\n\t\t\tthis.dispose = function () {\r\n\r\n\t\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\r\n\t\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\r\n\t\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\r\n\t\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\r\n\t\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\t\t\tif ( scope._domElementKeyEvents !== null ) {\r\n\r\n\t\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\r\n\r\n\t\t\t\t} //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t\t\t}; //\r\n\t\t\t// internals\r\n\t\t\t//\r\n\r\n\r\n\t\t\tconst scope = this;\r\n\t\t\tconst STATE = {\r\n\t\t\t\tNONE: - 1,\r\n\t\t\t\tROTATE: 0,\r\n\t\t\t\tDOLLY: 1,\r\n\t\t\t\tPAN: 2,\r\n\t\t\t\tTOUCH_ROTATE: 3,\r\n\t\t\t\tTOUCH_PAN: 4,\r\n\t\t\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\t\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t\t\t};\r\n\t\t\tlet state = STATE.NONE;\r\n\t\t\tconst EPS = 0.000001; // current position in spherical coordinates\r\n\r\n\t\t\tconst spherical = new THREE.Spherical();\r\n\t\t\tconst sphericalDelta = new THREE.Spherical();\r\n\t\t\tlet scale = 1;\r\n\t\t\tconst panOffset = new THREE.Vector3();\r\n\t\t\tlet zoomChanged = false;\r\n\t\t\tconst rotateStart = new THREE.Vector2();\r\n\t\t\tconst rotateEnd = new THREE.Vector2();\r\n\t\t\tconst rotateDelta = new THREE.Vector2();\r\n\t\t\tconst panStart = new THREE.Vector2();\r\n\t\t\tconst panEnd = new THREE.Vector2();\r\n\t\t\tconst panDelta = new THREE.Vector2();\r\n\t\t\tconst dollyStart = new THREE.Vector2();\r\n\t\t\tconst dollyEnd = new THREE.Vector2();\r\n\t\t\tconst dollyDelta = new THREE.Vector2();\r\n\t\t\tconst pointers = [];\r\n\t\t\tconst pointerPositions = {};\r\n\r\n\t\t\tfunction getAutoRotationAngle() {\r\n\r\n\t\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getZoomScale() {\r\n\r\n\t\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction rotateLeft( angle ) {\r\n\r\n\t\t\t\tsphericalDelta.theta -= angle;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction rotateUp( angle ) {\r\n\r\n\t\t\t\tsphericalDelta.phi -= angle;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst panLeft = function () {\r\n\r\n\t\t\t\tconst v = new THREE.Vector3();\r\n\t\t\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\r\n\t\t\t\t\tv.multiplyScalar( - distance );\r\n\t\t\t\t\tpanOffset.add( v );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}();\r\n\r\n\t\t\tconst panUp = function () {\r\n\r\n\t\t\t\tconst v = new THREE.Vector3();\r\n\t\t\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tv.multiplyScalar( distance );\r\n\t\t\t\t\tpanOffset.add( v );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}(); // deltaX and deltaY are in pixels; right and down are positive\r\n\r\n\r\n\t\t\tconst pan = function () {\r\n\r\n\t\t\t\tconst offset = new THREE.Vector3();\r\n\t\t\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\t\t\tconst element = scope.domElement;\r\n\r\n\t\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\t\t// perspective\r\n\t\t\t\t\t\tconst position = scope.object.position;\r\n\t\t\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\t\t\tlet targetDistance = offset.length(); // half of the fov is center to top of screen\r\n\r\n\t\t\t\t\t\ttargetDistance *= Math.tan( scope.object.fov / 2 * Math.PI / 180.0 ); // we use only clientHeight here so aspect ratio does not distort speed\r\n\r\n\t\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\t\t// orthographic\r\n\t\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}();\r\n\r\n\t\t\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\tscale /= dollyScale;\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\t\t\tzoomChanged = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\t\t\tscope.enableZoom = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\tscale *= dollyScale;\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\t\t\tzoomChanged = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\t\t\tscope.enableZoom = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} //\r\n\t\t\t// event callbacks - update the object state\r\n\t\t\t//\r\n\r\n\r\n\t\t\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\t\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\t\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\t\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\t\t\trotateEnd.set( event.clientX, event.clientY );\r\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\t\t\t\tconst element = scope.domElement;\r\n\t\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\t\t\t\trotateStart.copy( rotateEnd );\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\t\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\t\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdollyStart.copy( dollyEnd );\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\t\t\tpanEnd.set( event.clientX, event.clientY );\r\n\t\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\t\t\t\tpan( panDelta.x, panDelta.y );\r\n\t\t\t\tpanStart.copy( panEnd );\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseUp( ) { // no-op\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleMouseWheel( event ) {\r\n\r\n\t\t\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleKeyDown( event ) {\r\n\r\n\t\t\t\tlet needsUpdate = false;\r\n\r\n\t\t\t\tswitch ( event.code ) {\r\n\r\n\t\t\t\t\tcase scope.keys.UP:\r\n\t\t\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\t\t\tneedsUpdate = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tscope.update();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchStartRotate() {\r\n\r\n\t\t\t\tif ( pointers.length === 1 ) {\r\n\r\n\t\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\r\n\t\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\r\n\t\t\t\t\trotateStart.set( x, y );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchStartPan() {\r\n\r\n\t\t\t\tif ( pointers.length === 1 ) {\r\n\r\n\t\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\r\n\t\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\r\n\t\t\t\t\tpanStart.set( x, y );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchStartDolly() {\r\n\r\n\t\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\r\n\t\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\r\n\t\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\r\n\t\t\t\tdollyStart.set( 0, distance );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchStartDollyPan() {\r\n\r\n\t\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\r\n\t\t\t\tif ( scope.enablePan ) handleTouchStartPan();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchStartDollyRotate() {\r\n\r\n\t\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\r\n\t\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\t\t\tif ( pointers.length == 1 ) {\r\n\r\n\t\t\t\t\trotateEnd.set( event.pageX, event.pageY );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst position = getSecondPointerPosition( event );\r\n\t\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\r\n\t\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\r\n\t\t\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\t\t\t\tconst element = scope.domElement;\r\n\t\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\t\t\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\t\t\tif ( pointers.length === 1 ) {\r\n\r\n\t\t\t\t\tpanEnd.set( event.pageX, event.pageY );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconst position = getSecondPointerPosition( event );\r\n\t\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\r\n\t\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\r\n\t\t\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\t\t\t\tpan( panDelta.x, panDelta.y );\r\n\t\t\t\tpanStart.copy( panEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\t\t\tconst position = getSecondPointerPosition( event );\r\n\t\t\t\tconst dx = event.pageX - position.x;\r\n\t\t\t\tconst dy = event.pageY - position.y;\r\n\t\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\r\n\t\t\t\tdollyEnd.set( 0, distance );\r\n\t\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\t\t\t\tdollyOut( dollyDelta.y );\r\n\t\t\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\t\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\t\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleTouchEnd( ) { // no-op\r\n\t\t\t} //\r\n\t\t\t// event handlers - FSM: listen for events and reset state\r\n\t\t\t//\r\n\r\n\r\n\t\t\tfunction onPointerDown( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\t\tif ( pointers.length === 0 ) {\r\n\r\n\t\t\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\r\n\t\t\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\t\t\t} //\r\n\r\n\r\n\t\t\t\taddPointer( event );\r\n\r\n\t\t\t\tif ( event.pointerType === 'touch' ) {\r\n\r\n\t\t\t\t\tonTouchStart( event );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tonMouseDown( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onPointerMove( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\t\tif ( event.pointerType === 'touch' ) {\r\n\r\n\t\t\t\t\tonTouchMove( event );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tonMouseMove( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onPointerUp( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\t\tif ( event.pointerType === 'touch' ) {\r\n\r\n\t\t\t\t\tonTouchEnd();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tonMouseUp( event );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tremovePointer( event ); //\r\n\r\n\t\t\t\tif ( pointers.length === 0 ) {\r\n\r\n\t\t\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\t\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onPointerCancel( event ) {\r\n\r\n\t\t\t\tremovePointer( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onMouseDown( event ) {\r\n\r\n\t\t\t\tlet mouseAction;\r\n\r\n\t\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\t\t\tcase THREE.MOUSE.DOLLY:\r\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\t\t\t\t\t\thandleMouseDownDolly( event );\r\n\t\t\t\t\t\tstate = STATE.DOLLY;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.MOUSE.ROTATE:\r\n\t\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\t\t\t\thandleMouseDownPan( event );\r\n\t\t\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\t\t\t\thandleMouseDownRotate( event );\r\n\t\t\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.MOUSE.PAN:\r\n\t\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\t\t\t\thandleMouseDownRotate( event );\r\n\t\t\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\t\t\t\thandleMouseDownPan( event );\r\n\t\t\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\t\t\tscope.dispatchEvent( _startEvent );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onMouseMove( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t\t\tswitch ( state ) {\r\n\r\n\t\t\t\t\tcase STATE.ROTATE:\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\t\t\thandleMouseMoveRotate( event );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase STATE.DOLLY:\r\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\t\t\t\t\t\thandleMouseMoveDolly( event );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase STATE.PAN:\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\t\t\thandleMouseMovePan( event );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onMouseUp( event ) {\r\n\r\n\t\t\t\thandleMouseUp( event );\r\n\t\t\t\tscope.dispatchEvent( _endEvent );\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onMouseWheel( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE ) return;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tscope.dispatchEvent( _startEvent );\r\n\t\t\t\thandleMouseWheel( event );\r\n\t\t\t\tscope.dispatchEvent( _endEvent );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onKeyDown( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\r\n\t\t\t\thandleKeyDown( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onTouchStart( event ) {\r\n\r\n\t\t\t\ttrackPointer( event );\r\n\r\n\t\t\t\tswitch ( pointers.length ) {\r\n\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\t\t\tcase THREE.TOUCH.ROTATE:\r\n\t\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\t\t\t\t\thandleTouchStartRotate();\r\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase THREE.TOUCH.PAN:\r\n\t\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\t\t\t\t\thandleTouchStartPan();\r\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\t\t\tcase THREE.TOUCH.DOLLY_PAN:\r\n\t\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\t\t\t\t\t\t\t\thandleTouchStartDollyPan();\r\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase THREE.TOUCH.DOLLY_ROTATE:\r\n\t\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\t\t\t\t\t\t\t\thandleTouchStartDollyRotate();\r\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\t\t\tscope.dispatchEvent( _startEvent );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onTouchMove( event ) {\r\n\r\n\t\t\t\ttrackPointer( event );\r\n\r\n\t\t\t\tswitch ( state ) {\r\n\r\n\t\t\t\t\tcase STATE.TOUCH_ROTATE:\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\t\t\thandleTouchMoveRotate( event );\r\n\t\t\t\t\t\tscope.update();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase STATE.TOUCH_PAN:\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\t\t\thandleTouchMovePan( event );\r\n\t\t\t\t\t\tscope.update();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\t\t\t\t\t\thandleTouchMoveDollyPan( event );\r\n\t\t\t\t\t\tscope.update();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\t\t\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\t\t\t\t\t\tscope.update();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onTouchEnd( event ) {\r\n\r\n\t\t\t\thandleTouchEnd( event );\r\n\t\t\t\tscope.dispatchEvent( _endEvent );\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction onContextMenu( event ) {\r\n\r\n\t\t\t\tif ( scope.enabled === false ) return;\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction addPointer( event ) {\r\n\r\n\t\t\t\tpointers.push( event );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction removePointer( event ) {\r\n\r\n\t\t\t\tdelete pointerPositions[ event.pointerId ];\r\n\r\n\t\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\r\n\r\n\t\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\r\n\r\n\t\t\t\t\t\tpointers.splice( i, 1 );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction trackPointer( event ) {\r\n\r\n\t\t\t\tlet position = pointerPositions[ event.pointerId ];\r\n\r\n\t\t\t\tif ( position === undefined ) {\r\n\r\n\t\t\t\t\tposition = new THREE.Vector2();\r\n\t\t\t\t\tpointerPositions[ event.pointerId ] = position;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tposition.set( event.pageX, event.pageY );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction getSecondPointerPosition( event ) {\r\n\r\n\t\t\t\tconst pointer = event.pointerId === pointers[ 0 ].pointerId ? pointers[ 1 ] : pointers[ 0 ];\r\n\t\t\t\treturn pointerPositions[ pointer.pointerId ];\r\n\r\n\t\t\t} //\r\n\r\n\r\n\t\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\r\n\t\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\r\n\t\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\r\n\t\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, {\r\n\t\t\t\tpassive: false\r\n\t\t\t} ); // force an update at start\r\n\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t} // This set of controls performs orbiting, dollying (zooming), and panning.\r\n\t// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n\t// This is very similar to OrbitControls, another set of touch behavior\r\n\t//\r\n\t//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n\t//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n\t//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\n\r\n\tclass MapControls extends OrbitControls {\r\n\r\n\t\tconstructor( object, domElement ) {\r\n\r\n\t\t\tsuper( object, domElement );\r\n\t\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\t\t\tthis.mouseButtons.LEFT = THREE.MOUSE.PAN;\r\n\t\t\tthis.mouseButtons.RIGHT = THREE.MOUSE.ROTATE;\r\n\t\t\tthis.touches.ONE = THREE.TOUCH.PAN;\r\n\t\t\tthis.touches.TWO = THREE.TOUCH.DOLLY_ROTATE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tTHREE.MapControls = MapControls;\r\n\tTHREE.OrbitControls = OrbitControls;\r\n\r\n}\r\n","if (Object.values === undefined) {\n\tObject.values = function values(O) {\n        return Object.keys(O).map(function(e) {\n            return O[e]\n        })\n\t};\n}\n\nif (!Object.fromEntries) {\n    Object.fromEntries = function fromEntries(entries){\n        var o = {}\n        var k\n        var v\n        entries.forEach(function(pair){\n\n            k = pair[0]\n            v = pair[1]\n            \n            o[k] = v;\n        });\n        return o\n    }\n}\n\nif (!Object.entries) {\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        ownValues = Object.values(obj),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], ownValues[i]];\n    \n    return resArray;\n  };\n}\n\nif( !Array.prototype.includes){\n    Array.prototype.includes = function includes(item){\n        var included = false\n        try{\n            this.forEach(function(x,i){\n                if(x === item){\n                    included = true\n                    throw('e')\n                }\n            })\n        }\n        catch(e){}\n        return included\n    }\n}\n\n// https://base64.guru/developers/javascript/examples/polyfill\n(function () {\n    // Do not implement polyfill if browser already support Base64 algorithms\n    if (typeof btoa === 'function') {\n      return false;\n    }\n  \n    // A helper that returns Base64 characters and their indices.\n    var chars = {\n      ascii: function () {\n        return 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n      },\n      indices: function () {\n        if (!this.cache) {\n          this.cache = {};\n          var ascii = chars.ascii();\n  \n          for (var c = 0; c < ascii.length; c++) {\n            var chr = ascii[c];\n            this.cache[chr] = c;\n          }\n        }\n        return this.cache;\n      }\n    };\n  \n    /**\n     * Binary to ASCII (encode data to Base64)\n     * @param {String} data\n     * @returns {String}\n     */\n    window.btoa = function (data) {\n      var ascii = chars.ascii(),\n        len = data.length - 1,\n        i = -1,\n        b64 = '';\n  \n      while (i < len) {\n        var code = data.charCodeAt(++i) << 16 | data.charCodeAt(++i) << 8 | data.charCodeAt(++i);\n        b64 += ascii[(code >>> 18) & 63] + ascii[(code >>> 12) & 63] + ascii[(code >>> 6) & 63] + ascii[code & 63];\n      }\n  \n      var pads = data.length % 3;\n      if (pads > 0) {\n        b64 = b64.slice(0, pads - 3);\n  \n        while (b64.length % 4 !== 0) {\n          b64 += '=';\n        }\n      }\n  \n      return b64;\n    };\n  \n    /**\n     * ASCII to binary (decode Base64 to original data)\n     * @param {String} b64\n     * @returns {String}\n     */\n    window.atob = function (b64) {\n      var indices = chars.indices(),\n        pos = b64.indexOf('='),\n        padded = pos > -1,\n        len = padded ? pos : b64.length,\n        i = -1,\n        data = '';\n  \n      while (i < len) {\n        var code = indices[b64[++i]] << 18 | indices[b64[++i]] << 12 | indices[b64[++i]] << 6 | indices[b64[++i]];\n        if (code !== 0) {\n          data += String.fromCharCode((code >>> 16) & 255, (code >>> 8) & 255, code & 255);\n        }\n      }\n  \n      if (padded) {\n        data = data.slice(0, pos - b64.length);\n      }\n  \n      return data;\n    };\n  })();\n","(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\r\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\r\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.TWEEN = {}));\r\n}(this, (function (exports) { 'use strict';\r\n\r\n    /**\r\n     * The Ease class provides a collection of easing functions for use with tween.js.\r\n     */\r\n    var Easing = {\r\n        Linear: {\r\n            None: function (amount) {\r\n                return amount;\r\n            },\r\n        },\r\n        Quadratic: {\r\n            In: function (amount) {\r\n                return amount * amount;\r\n            },\r\n            Out: function (amount) {\r\n                return amount * (2 - amount);\r\n            },\r\n            InOut: function (amount) {\r\n                if ((amount *= 2) < 1) {\r\n                    return 0.5 * amount * amount;\r\n                }\r\n                return -0.5 * (--amount * (amount - 2) - 1);\r\n            },\r\n        },\r\n        Cubic: {\r\n            In: function (amount) {\r\n                return amount * amount * amount;\r\n            },\r\n            Out: function (amount) {\r\n                return --amount * amount * amount + 1;\r\n            },\r\n            InOut: function (amount) {\r\n                if ((amount *= 2) < 1) {\r\n                    return 0.5 * amount * amount * amount;\r\n                }\r\n                return 0.5 * ((amount -= 2) * amount * amount + 2);\r\n            },\r\n        },\r\n        Quartic: {\r\n            In: function (amount) {\r\n                return amount * amount * amount * amount;\r\n            },\r\n            Out: function (amount) {\r\n                return 1 - --amount * amount * amount * amount;\r\n            },\r\n            InOut: function (amount) {\r\n                if ((amount *= 2) < 1) {\r\n                    return 0.5 * amount * amount * amount * amount;\r\n                }\r\n                return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\r\n            },\r\n        },\r\n        Quintic: {\r\n            In: function (amount) {\r\n                return amount * amount * amount * amount * amount;\r\n            },\r\n            Out: function (amount) {\r\n                return --amount * amount * amount * amount * amount + 1;\r\n            },\r\n            InOut: function (amount) {\r\n                if ((amount *= 2) < 1) {\r\n                    return 0.5 * amount * amount * amount * amount * amount;\r\n                }\r\n                return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\r\n            },\r\n        },\r\n        Sinusoidal: {\r\n            In: function (amount) {\r\n                return 1 - Math.cos((amount * Math.PI) / 2);\r\n            },\r\n            Out: function (amount) {\r\n                return Math.sin((amount * Math.PI) / 2);\r\n            },\r\n            InOut: function (amount) {\r\n                return 0.5 * (1 - Math.cos(Math.PI * amount));\r\n            },\r\n        },\r\n        Exponential: {\r\n            In: function (amount) {\r\n                return amount === 0 ? 0 : Math.pow(1024, amount - 1);\r\n            },\r\n            Out: function (amount) {\r\n                return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\r\n            },\r\n            InOut: function (amount) {\r\n                if (amount === 0) {\r\n                    return 0;\r\n                }\r\n                if (amount === 1) {\r\n                    return 1;\r\n                }\r\n                if ((amount *= 2) < 1) {\r\n                    return 0.5 * Math.pow(1024, amount - 1);\r\n                }\r\n                return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\r\n            },\r\n        },\r\n        Circular: {\r\n            In: function (amount) {\r\n                return 1 - Math.sqrt(1 - amount * amount);\r\n            },\r\n            Out: function (amount) {\r\n                return Math.sqrt(1 - --amount * amount);\r\n            },\r\n            InOut: function (amount) {\r\n                if ((amount *= 2) < 1) {\r\n                    return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\r\n                }\r\n                return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\r\n            },\r\n        },\r\n        Elastic: {\r\n            In: function (amount) {\r\n                if (amount === 0) {\r\n                    return 0;\r\n                }\r\n                if (amount === 1) {\r\n                    return 1;\r\n                }\r\n                return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\r\n            },\r\n            Out: function (amount) {\r\n                if (amount === 0) {\r\n                    return 0;\r\n                }\r\n                if (amount === 1) {\r\n                    return 1;\r\n                }\r\n                return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\r\n            },\r\n            InOut: function (amount) {\r\n                if (amount === 0) {\r\n                    return 0;\r\n                }\r\n                if (amount === 1) {\r\n                    return 1;\r\n                }\r\n                amount *= 2;\r\n                if (amount < 1) {\r\n                    return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\r\n                }\r\n                return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\r\n            },\r\n        },\r\n        Back: {\r\n            In: function (amount) {\r\n                var s = 1.70158;\r\n                return amount * amount * ((s + 1) * amount - s);\r\n            },\r\n            Out: function (amount) {\r\n                var s = 1.70158;\r\n                return --amount * amount * ((s + 1) * amount + s) + 1;\r\n            },\r\n            InOut: function (amount) {\r\n                var s = 1.70158 * 1.525;\r\n                if ((amount *= 2) < 1) {\r\n                    return 0.5 * (amount * amount * ((s + 1) * amount - s));\r\n                }\r\n                return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\r\n            },\r\n        },\r\n        Bounce: {\r\n            In: function (amount) {\r\n                return 1 - Easing.Bounce.Out(1 - amount);\r\n            },\r\n            Out: function (amount) {\r\n                if (amount < 1 / 2.75) {\r\n                    return 7.5625 * amount * amount;\r\n                }\r\n                else if (amount < 2 / 2.75) {\r\n                    return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\r\n                }\r\n                else if (amount < 2.5 / 2.75) {\r\n                    return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\r\n                }\r\n                else {\r\n                    return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\r\n                }\r\n            },\r\n            InOut: function (amount) {\r\n                if (amount < 0.5) {\r\n                    return Easing.Bounce.In(amount * 2) * 0.5;\r\n                }\r\n                return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\r\n            },\r\n        },\r\n    };\r\n\r\n    var now;\r\n    // Include a performance.now polyfill.\r\n    // In node.js, use process.hrtime.\r\n    // eslint-disable-next-line\r\n    // @ts-ignore\r\n    if (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\r\n        now = function () {\r\n            // eslint-disable-next-line\r\n            // @ts-ignore\r\n            var time = process.hrtime();\r\n            // Convert [seconds, nanoseconds] to milliseconds.\r\n            return time[0] * 1000 + time[1] / 1000000;\r\n        };\r\n    }\r\n    // In a browser, use self.performance.now if it is available.\r\n    else if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\r\n        // This must be bound, because directly assigning this function\r\n        // leads to an invocation exception in Chrome.\r\n        now = self.performance.now.bind(self.performance);\r\n    }\r\n    // Use Date.now if it is available.\r\n    else if (Date.now !== undefined) {\r\n        now = Date.now;\r\n    }\r\n    // Otherwise, use 'new Date().getTime()'.\r\n    else {\r\n        now = function () {\r\n            return new Date().getTime();\r\n        };\r\n    }\r\n    var now$1 = now;\r\n\r\n    /**\r\n     * Controlling groups of tweens\r\n     *\r\n     * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\r\n     * In these cases, you may want to create your own smaller groups of tween\r\n     */\r\n    var Group = /** @class */ (function () {\r\n        function Group() {\r\n            this._tweens = {};\r\n            this._tweensAddedDuringUpdate = {};\r\n        }\r\n        Group.prototype.getAll = function () {\r\n            var _this = this;\r\n            return Object.keys(this._tweens).map(function (tweenId) {\r\n                return _this._tweens[tweenId];\r\n            });\r\n        };\r\n        Group.prototype.removeAll = function () {\r\n            this._tweens = {};\r\n        };\r\n        Group.prototype.add = function (tween) {\r\n            this._tweens[tween.getId()] = tween;\r\n            this._tweensAddedDuringUpdate[tween.getId()] = tween;\r\n        };\r\n        Group.prototype.remove = function (tween) {\r\n            delete this._tweens[tween.getId()];\r\n            delete this._tweensAddedDuringUpdate[tween.getId()];\r\n        };\r\n        Group.prototype.update = function (time, preserve) {\r\n            if (time === void 0) { time = now$1(); }\r\n            if (preserve === void 0) { preserve = false; }\r\n            var tweenIds = Object.keys(this._tweens);\r\n            if (tweenIds.length === 0) {\r\n                return false;\r\n            }\r\n            // Tweens are updated in \"batches\". If you add a new tween during an\r\n            // update, then the new tween will be updated in the next batch.\r\n            // If you remove a tween during an update, it may or may not be updated.\r\n            // However, if the removed tween was added during the current batch,\r\n            // then it will not be updated.\r\n            while (tweenIds.length > 0) {\r\n                this._tweensAddedDuringUpdate = {};\r\n                for (var i = 0; i < tweenIds.length; i++) {\r\n                    var tween = this._tweens[tweenIds[i]];\r\n                    var autoStart = !preserve;\r\n                    if (tween && tween.update(time, autoStart) === false && !preserve) {\r\n                        delete this._tweens[tweenIds[i]];\r\n                    }\r\n                }\r\n                tweenIds = Object.keys(this._tweensAddedDuringUpdate);\r\n            }\r\n            return true;\r\n        };\r\n        return Group;\r\n    }());\r\n\r\n    /**\r\n     *\r\n     */\r\n    var Interpolation = {\r\n        Linear: function (v, k) {\r\n            var m = v.length - 1;\r\n            var f = m * k;\r\n            var i = Math.floor(f);\r\n            var fn = Interpolation.Utils.Linear;\r\n            if (k < 0) {\r\n                return fn(v[0], v[1], f);\r\n            }\r\n            if (k > 1) {\r\n                return fn(v[m], v[m - 1], m - f);\r\n            }\r\n            return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\r\n        },\r\n        Bezier: function (v, k) {\r\n            var b = 0;\r\n            var n = v.length - 1;\r\n            var pw = Math.pow;\r\n            var bn = Interpolation.Utils.Bernstein;\r\n            for (var i = 0; i <= n; i++) {\r\n                b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\r\n            }\r\n            return b;\r\n        },\r\n        CatmullRom: function (v, k) {\r\n            var m = v.length - 1;\r\n            var f = m * k;\r\n            var i = Math.floor(f);\r\n            var fn = Interpolation.Utils.CatmullRom;\r\n            if (v[0] === v[m]) {\r\n                if (k < 0) {\r\n                    i = Math.floor((f = m * (1 + k)));\r\n                }\r\n                return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\r\n            }\r\n            else {\r\n                if (k < 0) {\r\n                    return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\r\n                }\r\n                if (k > 1) {\r\n                    return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\r\n                }\r\n                return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\r\n            }\r\n        },\r\n        Utils: {\r\n            Linear: function (p0, p1, t) {\r\n                return (p1 - p0) * t + p0;\r\n            },\r\n            Bernstein: function (n, i) {\r\n                var fc = Interpolation.Utils.Factorial;\r\n                return fc(n) / fc(i) / fc(n - i);\r\n            },\r\n            Factorial: (function () {\r\n                var a = [1];\r\n                return function (n) {\r\n                    var s = 1;\r\n                    if (a[n]) {\r\n                        return a[n];\r\n                    }\r\n                    for (var i = n; i > 1; i--) {\r\n                        s *= i;\r\n                    }\r\n                    a[n] = s;\r\n                    return s;\r\n                };\r\n            })(),\r\n            CatmullRom: function (p0, p1, p2, p3, t) {\r\n                var v0 = (p2 - p0) * 0.5;\r\n                var v1 = (p3 - p1) * 0.5;\r\n                var t2 = t * t;\r\n                var t3 = t * t2;\r\n                return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\r\n            },\r\n        },\r\n    };\r\n\r\n    /**\r\n     * Utils\r\n     */\r\n    var Sequence = /** @class */ (function () {\r\n        function Sequence() {\r\n        }\r\n        Sequence.nextId = function () {\r\n            return Sequence._nextId++;\r\n        };\r\n        Sequence._nextId = 0;\r\n        return Sequence;\r\n    }());\r\n\r\n    var mainGroup = new Group();\r\n\r\n    /**\r\n     * Tween.js - Licensed under the MIT license\r\n     * https://github.com/tweenjs/tween.js\r\n     * ----------------------------------------------\r\n     *\r\n     * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\r\n     * Thank you all, you're awesome!\r\n     */\r\n    var Tween = /** @class */ (function () {\r\n        function Tween(_object, _group) {\r\n            if (_group === void 0) { _group = mainGroup; }\r\n            this._object = _object;\r\n            this._group = _group;\r\n            this._isPaused = false;\r\n            this._pauseStart = 0;\r\n            this._valuesStart = {};\r\n            this._valuesEnd = {};\r\n            this._valuesStartRepeat = {};\r\n            this._duration = 1000;\r\n            this._initialRepeat = 0;\r\n            this._repeat = 0;\r\n            this._yoyo = false;\r\n            this._isPlaying = false;\r\n            this._reversed = false;\r\n            this._delayTime = 0;\r\n            this._startTime = 0;\r\n            this._easingFunction = Easing.Linear.None;\r\n            this._interpolationFunction = Interpolation.Linear;\r\n            this._chainedTweens = [];\r\n            this._onStartCallbackFired = false;\r\n            this._id = Sequence.nextId();\r\n            this._isChainStopped = false;\r\n            this._goToEnd = false;\r\n        }\r\n        Tween.prototype.getId = function () {\r\n            return this._id;\r\n        };\r\n        Tween.prototype.isPlaying = function () {\r\n            return this._isPlaying;\r\n        };\r\n        Tween.prototype.isPaused = function () {\r\n            return this._isPaused;\r\n        };\r\n        Tween.prototype.to = function (properties, duration) {\r\n            // TODO? restore this, then update the 07_dynamic_to example to set fox\r\n            // tween's to on each update. That way the behavior is opt-in (there's\r\n            // currently no opt-out).\r\n            // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\r\n            this._valuesEnd = Object.create(properties);\r\n            if (duration !== undefined) {\r\n                this._duration = duration;\r\n            }\r\n            return this;\r\n        };\r\n        Tween.prototype.duration = function (d) {\r\n            this._duration = d;\r\n            return this;\r\n        };\r\n        Tween.prototype.start = function (time) {\r\n            if (this._isPlaying) {\r\n                return this;\r\n            }\r\n            // eslint-disable-next-line\r\n            this._group && this._group.add(this);\r\n            this._repeat = this._initialRepeat;\r\n            if (this._reversed) {\r\n                // If we were reversed (f.e. using the yoyo feature) then we need to\r\n                // flip the tween direction back to forward.\r\n                this._reversed = false;\r\n                for (var property in this._valuesStartRepeat) {\r\n                    this._swapEndStartRepeatValues(property);\r\n                    this._valuesStart[property] = this._valuesStartRepeat[property];\r\n                }\r\n            }\r\n            this._isPlaying = true;\r\n            this._isPaused = false;\r\n            this._onStartCallbackFired = false;\r\n            this._isChainStopped = false;\r\n            this._startTime = time !== undefined ? (typeof time === 'string' ? now$1() + parseFloat(time) : time) : now$1();\r\n            this._startTime += this._delayTime;\r\n            this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat);\r\n            return this;\r\n        };\r\n        Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat) {\r\n            for (var property in _valuesEnd) {\r\n                var startValue = _object[property];\r\n                var startValueIsArray = Array.isArray(startValue);\r\n                var propType = startValueIsArray ? 'array' : typeof startValue;\r\n                var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\r\n                // If `to()` specifies a property that doesn't exist in the source object,\r\n                // we should not set that property in the object\r\n                if (propType === 'undefined' || propType === 'function') {\r\n                    continue;\r\n                }\r\n                // Check if an Array was provided as property value\r\n                if (isInterpolationList) {\r\n                    var endValues = _valuesEnd[property];\r\n                    if (endValues.length === 0) {\r\n                        continue;\r\n                    }\r\n                    // handle an array of relative values\r\n                    endValues = endValues.map(this._handleRelativeValue.bind(this, startValue));\r\n                    // Create a local copy of the Array with the start value at the front\r\n                    _valuesEnd[property] = [startValue].concat(endValues);\r\n                }\r\n                // handle the deepness of the values\r\n                if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\r\n                    _valuesStart[property] = startValueIsArray ? [] : {};\r\n                    // eslint-disable-next-line\r\n                    for (var prop in startValue) {\r\n                        // eslint-disable-next-line\r\n                        // @ts-ignore FIXME?\r\n                        _valuesStart[property][prop] = startValue[prop];\r\n                    }\r\n                    _valuesStartRepeat[property] = startValueIsArray ? [] : {}; // TODO? repeat nested values? And yoyo? And array values?\r\n                    // eslint-disable-next-line\r\n                    // @ts-ignore FIXME?\r\n                    this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property]);\r\n                }\r\n                else {\r\n                    // Save the starting value, but only once.\r\n                    if (typeof _valuesStart[property] === 'undefined') {\r\n                        _valuesStart[property] = startValue;\r\n                    }\r\n                    if (!startValueIsArray) {\r\n                        // eslint-disable-next-line\r\n                        // @ts-ignore FIXME?\r\n                        _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\r\n                    }\r\n                    if (isInterpolationList) {\r\n                        // eslint-disable-next-line\r\n                        // @ts-ignore FIXME?\r\n                        _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\r\n                    }\r\n                    else {\r\n                        _valuesStartRepeat[property] = _valuesStart[property] || 0;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        Tween.prototype.stop = function () {\r\n            if (!this._isChainStopped) {\r\n                this._isChainStopped = true;\r\n                this.stopChainedTweens();\r\n            }\r\n            if (!this._isPlaying) {\r\n                return this;\r\n            }\r\n            // eslint-disable-next-line\r\n            this._group && this._group.remove(this);\r\n            this._isPlaying = false;\r\n            this._isPaused = false;\r\n            if (this._onStopCallback) {\r\n                this._onStopCallback(this._object);\r\n            }\r\n            return this;\r\n        };\r\n        Tween.prototype.end = function () {\r\n            this._goToEnd = true;\r\n            this.update(Infinity);\r\n            return this;\r\n        };\r\n        Tween.prototype.pause = function (time) {\r\n            if (time === void 0) { time = now$1(); }\r\n            if (this._isPaused || !this._isPlaying) {\r\n                return this;\r\n            }\r\n            this._isPaused = true;\r\n            this._pauseStart = time;\r\n            // eslint-disable-next-line\r\n            this._group && this._group.remove(this);\r\n            return this;\r\n        };\r\n        Tween.prototype.resume = function (time) {\r\n            if (time === void 0) { time = now$1(); }\r\n            if (!this._isPaused || !this._isPlaying) {\r\n                return this;\r\n            }\r\n            this._isPaused = false;\r\n            this._startTime += time - this._pauseStart;\r\n            this._pauseStart = 0;\r\n            // eslint-disable-next-line\r\n            this._group && this._group.add(this);\r\n            return this;\r\n        };\r\n        Tween.prototype.stopChainedTweens = function () {\r\n            for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\r\n                this._chainedTweens[i].stop();\r\n            }\r\n            return this;\r\n        };\r\n        Tween.prototype.group = function (group) {\r\n            this._group = group;\r\n            return this;\r\n        };\r\n        Tween.prototype.delay = function (amount) {\r\n            this._delayTime = amount;\r\n            return this;\r\n        };\r\n        Tween.prototype.repeat = function (times) {\r\n            this._initialRepeat = times;\r\n            this._repeat = times;\r\n            return this;\r\n        };\r\n        Tween.prototype.repeatDelay = function (amount) {\r\n            this._repeatDelayTime = amount;\r\n            return this;\r\n        };\r\n        Tween.prototype.yoyo = function (yoyo) {\r\n            this._yoyo = yoyo;\r\n            return this;\r\n        };\r\n        Tween.prototype.easing = function (easingFunction) {\r\n            this._easingFunction = easingFunction;\r\n            return this;\r\n        };\r\n        Tween.prototype.interpolation = function (interpolationFunction) {\r\n            this._interpolationFunction = interpolationFunction;\r\n            return this;\r\n        };\r\n        Tween.prototype.chain = function () {\r\n            var tweens = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                tweens[_i] = arguments[_i];\r\n            }\r\n            this._chainedTweens = tweens;\r\n            return this;\r\n        };\r\n        Tween.prototype.onStart = function (callback) {\r\n            this._onStartCallback = callback;\r\n            return this;\r\n        };\r\n        Tween.prototype.onUpdate = function (callback) {\r\n            this._onUpdateCallback = callback;\r\n            return this;\r\n        };\r\n        Tween.prototype.onRepeat = function (callback) {\r\n            this._onRepeatCallback = callback;\r\n            return this;\r\n        };\r\n        Tween.prototype.onComplete = function (callback) {\r\n            this._onCompleteCallback = callback;\r\n            return this;\r\n        };\r\n        Tween.prototype.onStop = function (callback) {\r\n            this._onStopCallback = callback;\r\n            return this;\r\n        };\r\n        /**\r\n         * @returns true if the tween is still playing after the update, false\r\n         * otherwise (calling update on a paused tween still returns true because\r\n         * it is still playing, just paused).\r\n         */\r\n        Tween.prototype.update = function (time, autoStart) {\r\n            if (time === void 0) { time = now$1(); }\r\n            if (autoStart === void 0) { autoStart = true; }\r\n            if (this._isPaused)\r\n                return true;\r\n            var property;\r\n            var elapsed;\r\n            var endTime = this._startTime + this._duration;\r\n            if (!this._goToEnd && !this._isPlaying) {\r\n                if (time > endTime)\r\n                    return false;\r\n                if (autoStart)\r\n                    this.start(time);\r\n            }\r\n            this._goToEnd = false;\r\n            if (time < this._startTime) {\r\n                return true;\r\n            }\r\n            if (this._onStartCallbackFired === false) {\r\n                if (this._onStartCallback) {\r\n                    this._onStartCallback(this._object);\r\n                }\r\n                this._onStartCallbackFired = true;\r\n            }\r\n            elapsed = (time - this._startTime) / this._duration;\r\n            elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\r\n            var value = this._easingFunction(elapsed);\r\n            // properties transformations\r\n            this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\r\n            if (this._onUpdateCallback) {\r\n                this._onUpdateCallback(this._object, elapsed);\r\n            }\r\n            if (elapsed === 1) {\r\n                if (this._repeat > 0) {\r\n                    if (isFinite(this._repeat)) {\r\n                        this._repeat--;\r\n                    }\r\n                    // Reassign starting values, restart by making startTime = now\r\n                    for (property in this._valuesStartRepeat) {\r\n                        if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\r\n                            this._valuesStartRepeat[property] =\r\n                                // eslint-disable-next-line\r\n                                // @ts-ignore FIXME?\r\n                                this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\r\n                        }\r\n                        if (this._yoyo) {\r\n                            this._swapEndStartRepeatValues(property);\r\n                        }\r\n                        this._valuesStart[property] = this._valuesStartRepeat[property];\r\n                    }\r\n                    if (this._yoyo) {\r\n                        this._reversed = !this._reversed;\r\n                    }\r\n                    if (this._repeatDelayTime !== undefined) {\r\n                        this._startTime = time + this._repeatDelayTime;\r\n                    }\r\n                    else {\r\n                        this._startTime = time + this._delayTime;\r\n                    }\r\n                    if (this._onRepeatCallback) {\r\n                        this._onRepeatCallback(this._object);\r\n                    }\r\n                    return true;\r\n                }\r\n                else {\r\n                    if (this._onCompleteCallback) {\r\n                        this._onCompleteCallback(this._object);\r\n                    }\r\n                    for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\r\n                        // Make the chained tweens start exactly at the time they should,\r\n                        // even if the `update()` method was called way past the duration of the tween\r\n                        this._chainedTweens[i].start(this._startTime + this._duration);\r\n                    }\r\n                    this._isPlaying = false;\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\r\n            for (var property in _valuesEnd) {\r\n                // Don't update properties that do not exist in the source object\r\n                if (_valuesStart[property] === undefined) {\r\n                    continue;\r\n                }\r\n                var start = _valuesStart[property] || 0;\r\n                var end = _valuesEnd[property];\r\n                var startIsArray = Array.isArray(_object[property]);\r\n                var endIsArray = Array.isArray(end);\r\n                var isInterpolationList = !startIsArray && endIsArray;\r\n                if (isInterpolationList) {\r\n                    _object[property] = this._interpolationFunction(end, value);\r\n                }\r\n                else if (typeof end === 'object' && end) {\r\n                    // eslint-disable-next-line\r\n                    // @ts-ignore FIXME?\r\n                    this._updateProperties(_object[property], start, end, value);\r\n                }\r\n                else {\r\n                    // Parses relative end values with start as base (e.g.: +10, -3)\r\n                    end = this._handleRelativeValue(start, end);\r\n                    // Protect against non numeric properties.\r\n                    if (typeof end === 'number') {\r\n                        // eslint-disable-next-line\r\n                        // @ts-ignore FIXME?\r\n                        _object[property] = start + (end - start) * value;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        Tween.prototype._handleRelativeValue = function (start, end) {\r\n            if (typeof end !== 'string') {\r\n                return end;\r\n            }\r\n            if (end.charAt(0) === '+' || end.charAt(0) === '-') {\r\n                return start + parseFloat(end);\r\n            }\r\n            else {\r\n                return parseFloat(end);\r\n            }\r\n        };\r\n        Tween.prototype._swapEndStartRepeatValues = function (property) {\r\n            var tmp = this._valuesStartRepeat[property];\r\n            var endValue = this._valuesEnd[property];\r\n            if (typeof endValue === 'string') {\r\n                this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\r\n            }\r\n            else {\r\n                this._valuesStartRepeat[property] = this._valuesEnd[property];\r\n            }\r\n            this._valuesEnd[property] = tmp;\r\n        };\r\n        return Tween;\r\n    }());\r\n\r\n    var VERSION = '18.6.4';\r\n\r\n    /**\r\n     * Tween.js - Licensed under the MIT license\r\n     * https://github.com/tweenjs/tween.js\r\n     * ----------------------------------------------\r\n     *\r\n     * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\r\n     * Thank you all, you're awesome!\r\n     */\r\n    var nextId = Sequence.nextId;\r\n    /**\r\n     * Controlling groups of tweens\r\n     *\r\n     * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\r\n     * In these cases, you may want to create your own smaller groups of tweens.\r\n     */\r\n    var TWEEN = mainGroup;\r\n    // This is the best way to export things in a way that's compatible with both ES\r\n    // Modules and CommonJS, without build hacks, and so as not to break the\r\n    // existing API.\r\n    // https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\r\n    var getAll = TWEEN.getAll.bind(TWEEN);\r\n    var removeAll = TWEEN.removeAll.bind(TWEEN);\r\n    var add = TWEEN.add.bind(TWEEN);\r\n    var remove = TWEEN.remove.bind(TWEEN);\r\n    var update = TWEEN.update.bind(TWEEN);\r\n    var exports$1 = {\r\n        Easing: Easing,\r\n        Group: Group,\r\n        Interpolation: Interpolation,\r\n        now: now$1,\r\n        Sequence: Sequence,\r\n        nextId: nextId,\r\n        Tween: Tween,\r\n        VERSION: VERSION,\r\n        getAll: getAll,\r\n        removeAll: removeAll,\r\n        add: add,\r\n        remove: remove,\r\n        update: update,\r\n    };\r\n\r\n    exports.Easing = Easing;\r\n    exports.Group = Group;\r\n    exports.Interpolation = Interpolation;\r\n    exports.Sequence = Sequence;\r\n    exports.Tween = Tween;\r\n    exports.VERSION = VERSION;\r\n    exports.add = add;\r\n    exports.default = exports$1;\r\n    exports.getAll = getAll;\r\n    exports.nextId = nextId;\r\n    exports.now = now$1;\r\n    exports.remove = remove;\r\n    exports.removeAll = removeAll;\r\n    exports.update = update;\r\n\r\n    Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n})));\r\n","var VanillaTilt = (function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * Created by Sergiu andor (micku7zu) on 1/27/2017.\r\n     * Original idea: https://github.com/gijsroge/tilt.js\r\n     * MIT License.\r\n     * Version 1.7.0\r\n     */\r\n\r\n    class VanillaTilt {\r\n      constructor(element, settings = {}) {\r\n        if (!(element instanceof Node)) {\r\n          throw (\"Can't initialize VanillaTilt because \" + element + \" is not a Node.\");\r\n        }\r\n\r\n        this.width = null;\r\n        this.height = null;\r\n        this.clientWidth = null;\r\n        this.clientHeight = null;\r\n        this.left = null;\r\n        this.top = null;\r\n\r\n        // for Gyroscope sampling\r\n        this.gammazero = null;\r\n        this.betazero = null;\r\n        this.lastgammazero = null;\r\n        this.lastbetazero = null;\r\n\r\n        this.transitionTimeout = null;\r\n        this.updateCall = null;\r\n        this.event = null;\r\n\r\n        this.updateBind = this.update.bind(this);\r\n        this.resetBind = this.reset.bind(this);\r\n\r\n        this.element = element;\r\n        this.settings = this.extendSettings(settings);\r\n\r\n        this.reverse = this.settings.reverse ? -1 : 1;\r\n        this.glare = VanillaTilt.isSettingTrue(this.settings.glare);\r\n        this.glarePrerender = VanillaTilt.isSettingTrue(this.settings[\"glare-prerender\"]);\r\n        this.fullPageListening = VanillaTilt.isSettingTrue(this.settings[\"full-page-listening\"]);\r\n        this.gyroscope = VanillaTilt.isSettingTrue(this.settings.gyroscope);\r\n        this.gyroscopeSamples = this.settings.gyroscopeSamples;\r\n\r\n        this.elementListener = this.getElementListener();\r\n\r\n        if (this.glare) {\r\n          this.prepareGlare();\r\n        }\r\n\r\n        if (this.fullPageListening) {\r\n          this.updateClientSize();\r\n        }\r\n\r\n        this.addEventListeners();\r\n        this.updateInitialPosition();\r\n      }\r\n\r\n      static isSettingTrue(setting) {\r\n        return setting === \"\" || setting === true || setting === 1;\r\n      }\r\n\r\n      /**\r\n       * Method returns element what will be listen mouse events\r\n       * @return {Node}\r\n       */\r\n      getElementListener() {\r\n        if (this.fullPageListening) {\r\n          return [window.document];\r\n        }\r\n\r\n        if (typeof this.settings[\"mouse-event-element\"] === \"string\") {\r\n          const mouseEventElement = document.querySelector(this.settings[\"mouse-event-element\"]);\r\n\r\n          if (mouseEventElement) {\r\n            return [mouseEventElement];\r\n          }\r\n        }\r\n\r\n        if (this.settings[\"mouse-event-element\"] instanceof Node) {\r\n          return this.settings[\"mouse-event-element\"];\r\n        }\r\n\r\n        if(Array.isArray(this.settings[\"mouse-event-element\"])){\r\n            return this.settings[\"mouse-event-element\"]\r\n        }\r\n\r\n        return [this.element];\r\n      }\r\n\r\n      /**\r\n       * Method set listen methods for this.elementListener\r\n       * @return {Node}\r\n       */\r\n      addEventListeners() {\r\n        this.onMouseEnterBind = this.onMouseEnter.bind(this);\r\n        this.onMouseMoveBind = this.onMouseMove.bind(this);\r\n        this.onMouseLeaveBind = this.onMouseLeave.bind(this);\r\n        this.onWindowResizeBind = this.onWindowResize.bind(this);\r\n        this.onDeviceOrientationBind = this.onDeviceOrientation.bind(this);\r\n        \r\n        this.elementListener\r\n        .forEach((x,i)=>{\r\n            x.addEventListener(\"mouseenter\", this.onMouseEnterBind);\r\n            x.addEventListener(\"mouseleave\", this.onMouseLeaveBind);\r\n            x.addEventListener(\"mousemove\", this.onMouseMoveBind);\r\n        })\r\n\r\n        if (this.glare || this.fullPageListening) {\r\n          window.addEventListener(\"resize\", this.onWindowResizeBind);\r\n        }\r\n\r\n        if (this.gyroscope) {\r\n          window.addEventListener(\"deviceorientation\", this.onDeviceOrientationBind);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Method remove event listeners from current this.elementListener\r\n       */\r\n      removeEventListeners() {\r\n        this.elementListener\r\n        .forEach((x,i)=>{\r\n            x.removeEventListener(\"mouseenter\", this.onMouseEnterBind);\r\n            x.removeEventListener(\"mouseleave\", this.onMouseLeaveBind);\r\n            x.removeEventListener(\"mousemove\", this.onMouseMoveBind);\r\n        })\r\n\r\n        if (this.gyroscope) {\r\n          window.removeEventListener(\"deviceorientation\", this.onDeviceOrientationBind);\r\n        }\r\n\r\n        if (this.glare || this.fullPageListening) {\r\n          window.removeEventListener(\"resize\", this.onWindowResizeBind);\r\n        }\r\n      }\r\n\r\n      destroy() {\r\n        clearTimeout(this.transitionTimeout);\r\n        if (this.updateCall !== null) {\r\n          cancelAnimationFrame(this.updateCall);\r\n        }\r\n\r\n        this.reset();\r\n\r\n        this.removeEventListeners();\r\n        this.element.vanillaTilt = null;\r\n        delete this.element.vanillaTilt;\r\n\r\n        this.element = null;\r\n      }\r\n\r\n      onDeviceOrientation(event) {\r\n        if (event.gamma === null || event.beta === null) {\r\n          return;\r\n        }\r\n\r\n        this.updateElementPosition();\r\n\r\n        if (this.gyroscopeSamples > 0) {\r\n          this.lastgammazero = this.gammazero;\r\n          this.lastbetazero = this.betazero;\r\n\r\n          if (this.gammazero === null) {\r\n            this.gammazero = event.gamma;\r\n            this.betazero = event.beta;\r\n          } else {\r\n            this.gammazero = (event.gamma + this.lastgammazero) / 2;\r\n            this.betazero = (event.beta + this.lastbetazero) / 2;\r\n          }\r\n\r\n          this.gyroscopeSamples -= 1;\r\n        }\r\n\r\n        const totalAngleX = this.settings.gyroscopeMaxAngleX - this.settings.gyroscopeMinAngleX;\r\n        const totalAngleY = this.settings.gyroscopeMaxAngleY - this.settings.gyroscopeMinAngleY;\r\n\r\n        const degreesPerPixelX = totalAngleX / this.width;\r\n        const degreesPerPixelY = totalAngleY / this.height;\r\n\r\n        const angleX = event.gamma - (this.settings.gyroscopeMinAngleX + this.gammazero);\r\n        const angleY = event.beta - (this.settings.gyroscopeMinAngleY + this.betazero);\r\n\r\n        const posX = angleX / degreesPerPixelX;\r\n        const posY = angleY / degreesPerPixelY;\r\n\r\n        if (this.updateCall !== null) {\r\n          cancelAnimationFrame(this.updateCall);\r\n        }\r\n\r\n        this.event = {\r\n          clientX: posX + this.left,\r\n          clientY: posY + this.top,\r\n        };\r\n\r\n        this.updateCall = requestAnimationFrame(this.updateBind);\r\n      }\r\n\r\n      onMouseEnter() {\r\n\r\n        this.updateElementPosition();\r\n        this.element.style.willChange = \"transform\";\r\n        this.setTransition();\r\n      }\r\n\r\n      onMouseMove(event) {\r\n        if (this.updateCall !== null) {\r\n          cancelAnimationFrame(this.updateCall);\r\n        }\r\n\r\n        this.event = event;\r\n        this.updateCall = requestAnimationFrame(this.updateBind);\r\n      }\r\n\r\n      onMouseLeave() {\r\n        this.setTransition();\r\n\r\n        if (this.settings.reset) {\r\n          requestAnimationFrame(this.resetBind);\r\n        }\r\n      }\r\n\r\n      reset() {\r\n        this.event = {\r\n          clientX: this.left + this.width / 2,\r\n          clientY: this.top + this.height / 2\r\n        };\r\n\r\n        if (this.element && this.element.style) {\r\n          this.element.style.transform = `perspective(${this.settings.perspective}px) ` +\r\n            `rotateX(0deg) ` +\r\n            `rotateY(0deg) ` +\r\n            `scale3d(1, 1, 1)`;\r\n        }\r\n\r\n        this.resetGlare();\r\n      }\r\n\r\n      resetGlare() {\r\n        if (this.glare) {\r\n          this.glareElement.style.transform = \"rotate(180deg) translate(-50%, -50%)\";\r\n          this.glareElement.style.opacity = \"0\";\r\n        }\r\n      }\r\n\r\n      updateInitialPosition() {\r\n        if (this.settings.startX === 0 && this.settings.startY === 0) {\r\n          return;\r\n        }\r\n\r\n        this.onMouseEnter();\r\n\r\n        if (this.fullPageListening) {\r\n          this.event = {\r\n            clientX: (this.settings.startX + this.settings.max) / (2 * this.settings.max) * this.clientWidth,\r\n            clientY: (this.settings.startY + this.settings.max) / (2 * this.settings.max) * this.clientHeight\r\n          };\r\n        } else {\r\n          this.event = {\r\n            clientX: this.left + ((this.settings.startX + this.settings.max) / (2 * this.settings.max) * this.width),\r\n            clientY: this.top + ((this.settings.startY + this.settings.max) / (2 * this.settings.max) * this.height)\r\n          };\r\n        }\r\n\r\n\r\n        let backupScale = this.settings.scale;\r\n        this.settings.scale = 1;\r\n        this.update();\r\n        this.settings.scale = backupScale;\r\n        this.resetGlare();\r\n      }\r\n\r\n      getValues() {\r\n        let x, y;\r\n\r\n        if (this.fullPageListening) {\r\n          x = this.event.clientX / this.clientWidth;\r\n          y = this.event.clientY / this.clientHeight;\r\n        } else {\r\n          x = (this.event.clientX - this.left) / this.width;\r\n          y = (this.event.clientY - this.top) / this.height;\r\n        }\r\n\r\n        x = Math.min(Math.max(x, 0), 1);\r\n        y = Math.min(Math.max(y, 0), 1);\r\n\r\n        let tiltX = (this.reverse * (this.settings.max - x * this.settings.max * 2)).toFixed(2);\r\n        let tiltY = (this.reverse * (y * this.settings.max * 2 - this.settings.max)).toFixed(2);\r\n        let angle = Math.atan2(this.event.clientX - (this.left + this.width / 2), -(this.event.clientY - (this.top + this.height / 2))) * (180 / Math.PI);\r\n\r\n        return {\r\n          tiltX: tiltX,\r\n          tiltY: tiltY,\r\n          percentageX: x * 100,\r\n          percentageY: y * 100,\r\n          angle: angle\r\n        };\r\n      }\r\n\r\n      updateElementPosition() {\r\n        let rect = this.element.getBoundingClientRect();\r\n\r\n        this.width = this.element.offsetWidth;\r\n        this.height = this.element.offsetHeight;\r\n        this.left = rect.left;\r\n        this.top = rect.top;\r\n      }\r\n\r\n      update() {\r\n        let values = this.getValues();\r\n\r\n        this.element.style.transform = \"perspective(\" + this.settings.perspective + \"px) \" +\r\n          \"rotateX(\" + (this.settings.axis === \"x\" ? 0 : values.tiltY) + \"deg) \" +\r\n          \"rotateY(\" + (this.settings.axis === \"y\" ? 0 : values.tiltX) + \"deg) \" +\r\n          \"scale3d(\" + this.settings.scale + \", \" + this.settings.scale + \", \" + this.settings.scale + \")\";\r\n\r\n        if (this.glare) {\r\n          this.glareElement.style.transform = `rotate(${values.angle}deg) translate(-50%, -50%)`;\r\n          this.glareElement.style.opacity = `${values.percentageY * this.settings[\"max-glare\"] / 100}`;\r\n        }\r\n\r\n        this.element.dispatchEvent(new CustomEvent(\"tiltChange\", {\r\n          \"detail\": values\r\n        }));\r\n\r\n        this.updateCall = null;\r\n      }\r\n\r\n      /**\r\n       * Appends the glare element (if glarePrerender equals false)\r\n       * and sets the default style\r\n       */\r\n      prepareGlare() {\r\n        // If option pre-render is enabled we assume all html/css is present for an optimal glare effect.\r\n        if (!this.glarePrerender) {\r\n          // Create glare element\r\n          const jsTiltGlare = document.createElement(\"div\");\r\n          jsTiltGlare.classList.add(\"js-tilt-glare\");\r\n\r\n          const jsTiltGlareInner = document.createElement(\"div\");\r\n          jsTiltGlareInner.classList.add(\"js-tilt-glare-inner\");\r\n\r\n          jsTiltGlare.appendChild(jsTiltGlareInner);\r\n          this.element.appendChild(jsTiltGlare);\r\n        }\r\n\r\n        this.glareElementWrapper = this.element.querySelector(\".js-tilt-glare\");\r\n        this.glareElement = this.element.querySelector(\".js-tilt-glare-inner\");\r\n\r\n        if (this.glarePrerender) {\r\n          return;\r\n        }\r\n\r\n        Object.assign(this.glareElementWrapper.style, {\r\n          \"position\": \"absolute\",\r\n          \"top\": \"0\",\r\n          \"left\": \"0\",\r\n          \"width\": \"100%\",\r\n          \"height\": \"100%\",\r\n          \"overflow\": \"hidden\",\r\n          \"pointer-events\": \"none\"\r\n        });\r\n\r\n        Object.assign(this.glareElement.style, {\r\n          \"position\": \"absolute\",\r\n          \"top\": \"50%\",\r\n          \"left\": \"50%\",\r\n          \"pointer-events\": \"none\",\r\n          \"background-image\": `linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,\r\n          \"width\": `${this.element.offsetWidth * 2}px`,\r\n          \"height\": `${this.element.offsetWidth * 2}px`,\r\n          \"transform\": \"rotate(180deg) translate(-50%, -50%)\",\r\n          \"transform-origin\": \"0% 0%\",\r\n          \"opacity\": \"0\",\r\n        });\r\n      }\r\n\r\n      updateGlareSize() {\r\n        if (this.glare) {\r\n          Object.assign(this.glareElement.style, {\r\n            \"width\": `${this.element.offsetWidth * 2}`,\r\n            \"height\": `${this.element.offsetWidth * 2}`,\r\n          });\r\n        }\r\n      }\r\n\r\n      updateClientSize() {\r\n        this.clientWidth = window.innerWidth\r\n          || document.documentElement.clientWidth\r\n          || document.body.clientWidth;\r\n\r\n        this.clientHeight = window.innerHeight\r\n          || document.documentElement.clientHeight\r\n          || document.body.clientHeight;\r\n      }\r\n\r\n      onWindowResize() {\r\n        this.updateGlareSize();\r\n        this.updateClientSize();\r\n      }\r\n\r\n      setTransition() {\r\n        clearTimeout(this.transitionTimeout);\r\n        this.element.style.transition = this.settings.speed + \"ms \" + this.settings.easing;\r\n        if (this.glare) this.glareElement.style.transition = `opacity ${this.settings.speed}ms ${this.settings.easing}`;\r\n\r\n        this.transitionTimeout = setTimeout(() => {\r\n          this.element.style.transition = \"\";\r\n          if (this.glare) {\r\n            this.glareElement.style.transition = \"\";\r\n          }\r\n        }, this.settings.speed);\r\n\r\n      }\r\n\r\n      /**\r\n       * Method return patched settings of instance\r\n       * @param {boolean} settings.reverse - reverse the tilt direction\r\n       * @param {number} settings.max - max tilt rotation (degrees)\r\n       * @param {startX} settings.startX - the starting tilt on the X axis, in degrees. Default: 0\r\n       * @param {startY} settings.startY - the starting tilt on the Y axis, in degrees. Default: 0\r\n       * @param {number} settings.perspective - Transform perspective, the lower the more extreme the tilt gets\r\n       * @param {string} settings.easing - Easing on enter/exit\r\n       * @param {number} settings.scale - 2 = 200%, 1.5 = 150%, etc..\r\n       * @param {number} settings.speed - Speed of the enter/exit transition\r\n       * @param {boolean} settings.transition - Set a transition on enter/exit\r\n       * @param {string|null} settings.axis - What axis should be disabled. Can be X or Y\r\n       * @param {boolean} settings.glare - What axis should be disabled. Can be X or Y\r\n       * @param {number} settings.max-glare - the maximum \"glare\" opacity (1 = 100%, 0.5 = 50%)\r\n       * @param {boolean} settings.glare-prerender - false = VanillaTilt creates the glare elements for you, otherwise\r\n       * @param {boolean} settings.full-page-listening - If true, parallax effect will listen to mouse move events on the whole document, not only the selected element\r\n       * @param {string|object} settings.mouse-event-element - String selector or link to HTML-element what will be listen mouse events\r\n       * @param {boolean} settings.reset - false = If the tilt effect has to be reset on exit\r\n       * @param {gyroscope} settings.gyroscope - Enable tilting by deviceorientation events\r\n       * @param {gyroscopeSensitivity} settings.gyroscopeSensitivity - Between 0 and 1 - The angle at which max tilt position is reached. 1 = 90deg, 0.5 = 45deg, etc..\r\n       * @param {gyroscopeSamples} settings.gyroscopeSamples - How many gyroscope moves to decide the starting position.\r\n       */\r\n      extendSettings(settings) {\r\n        let defaultSettings = {\r\n          reverse: false,\r\n          max: 15,\r\n          startX: 0,\r\n          startY: 0,\r\n          perspective: 1000,\r\n          easing: \"cubic-bezier(.03,.98,.52,.99)\",\r\n          scale: 1,\r\n          speed: 300,\r\n          transition: true,\r\n          axis: null,\r\n          glare: false,\r\n          \"max-glare\": 1,\r\n          \"glare-prerender\": false,\r\n          \"full-page-listening\": false,\r\n          \"mouse-event-element\": null,\r\n          reset: true,\r\n          gyroscope: true,\r\n          gyroscopeMinAngleX: -45,\r\n          gyroscopeMaxAngleX: 45,\r\n          gyroscopeMinAngleY: -45,\r\n          gyroscopeMaxAngleY: 45,\r\n          gyroscopeSamples: 10\r\n        };\r\n\r\n        let newSettings = {};\r\n        for (var property in defaultSettings) {\r\n          if (property in settings) {\r\n            newSettings[property] = settings[property];\r\n          } else if (this.element.hasAttribute(\"data-tilt-\" + property)) {\r\n            let attribute = this.element.getAttribute(\"data-tilt-\" + property);\r\n            try {\r\n              newSettings[property] = JSON.parse(attribute);\r\n            } catch (e) {\r\n              newSettings[property] = attribute;\r\n            }\r\n\r\n          } else {\r\n            newSettings[property] = defaultSettings[property];\r\n          }\r\n        }\r\n\r\n        return newSettings;\r\n      }\r\n\r\n      static init(elements, settings) {\r\n        if (elements instanceof Node) {\r\n          elements = [elements];\r\n        }\r\n\r\n        if (elements instanceof NodeList) {\r\n          elements = [].slice.call(elements);\r\n        }\r\n\r\n        if (!(elements instanceof Array)) {\r\n          return;\r\n        }\r\n\r\n        elements.forEach((element) => {\r\n          if (!(\"vanillaTilt\" in element)) {\r\n            element.vanillaTilt = new VanillaTilt(element, settings);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    if (typeof document !== \"undefined\") {\r\n      /* expose the class to window */\r\n      window.VanillaTilt = VanillaTilt;\r\n\r\n      /**\r\n       * Auto load\r\n       */\r\n      VanillaTilt.init(document.querySelectorAll(\"[data-tilt]\"));\r\n    }\r\n\r\n    return VanillaTilt;\r\n\r\n    }());\r\n"],"sourceRoot":"webpack:///"}