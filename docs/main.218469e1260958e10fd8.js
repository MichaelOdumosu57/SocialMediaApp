(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+EXs":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return a});var i=n("JL25");function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?Object(i.a)(e):t}},"/E8u":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("KUzl"),i=n("cRt0"),a=n("+EXs");function o(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}},0:function(e,t,n){e.exports=n("zUnb")},"0FX9":function(e,t,n){var r=n("Z92M"),i=n("qmMu"),a=n("QUaw"),o=n("QAZZ");function s(e,t,n,a,o){var s=[].slice.call(arguments,1),u=s.length,l="function"==typeof s[u-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=t,t=a=void 0):2!==u||t.getContext||(a=n,n=t,t=void 0),new Promise(function(r,o){try{var s=i.create(n,a);r(e(s,t,a))}catch(u){o(u)}})}if(u<2)throw new Error("Too few arguments provided");2===u?(o=n,n=t,t=a=void 0):3===u&&(t.getContext&&void 0===o?(o=a,a=void 0):(o=a,a=n,n=t,t=void 0));try{var c=i.create(n,a);o(null,e(c,t,a))}catch(h){o(h)}}t.create=i.create,t.toCanvas=s.bind(null,a.render),t.toDataURL=s.bind(null,a.renderToDataURL),t.toString=s.bind(null,function(e,t,n){return o.render(e,n)})},"0hV+":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var r=n("QdLy"),i=n("MGFw"),a=n("WtWf"),o=n("0FX9"),s=n("fXoL"),u=["qrcElement"],l=function(){var e=function(){function e(t){Object(i.a)(this,e),this.renderer=t,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'svg'\".")}return Object(a.a)(e,[{key:"ngOnChanges",value:function(){this.createQRCode()}},{key:"isValidQrCodeText",value:function(e){return!1===this.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):!(void 0===e)}},{key:"toDataURL",value:function(){var e=this;return new Promise(function(t,n){Object(o.toDataURL)(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},function(e,r){e?n(e):t(r)})})}},{key:"toCanvas",value:function(e){var t=this;return new Promise(function(n,r){Object(o.toCanvas)(e,t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},function(e){e?r(e):n("success")})})}},{key:"toSVG",value:function(){var e=this;return new Promise(function(t,n){Object(o.toString)(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,type:"svg",version:e.version,width:e.width},function(e,r){e?n(e):t(r)})})}},{key:"renderElement",value:function(e){var t,n=Object(r.a)(this.qrcElement.nativeElement.childNodes);try{for(n.s();!(t=n.n()).done;)this.renderer.removeChild(this.qrcElement.nativeElement,t.value)}catch(i){n.e(i)}finally{n.f()}this.renderer.appendChild(this.qrcElement.nativeElement,e)}},{key:"createQRCode",value:function(){var e=this;this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error('[angularx-qrcode] Field `qrdata` is empty, set`allowEmptyString="true"` to overwrite this behaviour.');var t;switch(this.elementType){case"canvas":t=this.renderer.createElement("canvas"),this.toCanvas(t).then(function(){e.renderElement(t)}).catch(function(e){console.error("[angularx-qrcode] canvas error: ",e)});break;case"svg":t=this.renderer.createElement("div"),this.toSVG().then(function(n){e.renderer.setProperty(t,"innerHTML",n);var r=t.firstChild;e.renderer.setAttribute(r,"height","".concat(e.width)),e.renderer.setAttribute(r,"width","".concat(e.width)),e.renderElement(r)}).catch(function(e){console.error("[angularx-qrcode] svg error: ",e)});break;case"url":case"img":default:t=this.renderer.createElement("img"),this.toDataURL().then(function(n){t.setAttribute("src",n),e.renderElement(t)}).catch(function(e){console.error("[angularx-qrcode] img/url error: ",e)})}}catch(n){console.error("[angularx-qrcode] Error generating QR Code: ",n.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.ub(s.x))},e.\u0275cmp=s.ob({type:e,selectors:[["qrcode"]],viewQuery:function(e,t){var n;1&e&&s.Zb(u,3),2&e&&s.Nb(n=s.Fb())&&(t.qrcElement=n.first)},inputs:{colordark:"colordark",colorlight:"colorlight",level:"level",hidetitle:"hidetitle",size:"size",usesvg:"usesvg",allowEmptyString:"allowEmptyString",qrdata:"qrdata",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",version:"version"},features:[s.lb],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,t){1&e&&s.vb(0,"div",null,0),2&e&&s.nb(t.cssClass)},encapsulation:2,changeDetection:0}),e}(),c=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.sb({type:e}),e.\u0275inj=s.rb({providers:[]}),e}()},"1Oug":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("mrSG"),i=n("fXoL"),a=n("2Vo4"),o=n("XNiG"),s=n("xgIS"),u=n("jtHE"),l=n("LRne"),c=n("s0aK"),h={},d=[{title:"menu",metafields:Object(r.d)([{key:"body",type:"body",navigation:{name:["menu","account","socialAcct","content","dashboard"],confirm:"true",type:["body"]},nest:{group:[{name:"menu",type:"regular"}]},options:{extras:{appAttribute:{confirm:"true",type:["body"]},appThree:{confirm:"true",type:["body"]}},judima:{moving:{point:"bottom",target:"mainBackground",coordinates:{x:-50,y:0},type:"custom"}}}},{key:"title a_p_p_MenuTitle",type:"title",value:"Social Media App",split:9},{key:"container a_p_p_MenuContainer",type:"div",split:3,height:600,nest:{group:"menu",name:"A1"}},{key:"subtitle a_p_p_MenuSubTitle",type:"sub-heading",value:"Post Once Upload On All Your Apps",nest:{group:"menu",name:"B1",under:"A1"}}],Array(5).fill(null).map(function(e,t){return{key:"menu-item a_p_p_MenuItem",type:"anchor",value:["Home","Account Login","Social Media Login","Post Content","Dashboard"][t],nest:{group:"menu",name:"B"+(t+2),under:"A1"},options:{css:{"font-family":0===t?"Arial, Helvetica, sans-serif":null},extras:{appThree:{type:["link"],options:{navName:["/menu","/account","/socialAcct","/content","/dashboard"][t]}}}}}}))}],p=[{title:"account",metafields:[{key:"body",type:"body",navigation:{name:["account"],confirm:"true",type:["body"]},options:{extras:{appAttribute:{confirm:"true",type:["body"]},appAwsLogin:{confirm:"true",type:["body"]},appComponents:{type:["body"],confirm:"true"}},judima:{moving:{point:"bottom",target:"mainBackground",coordinates:{x:50,y:70},type:"custom"}}}},{key:"loginC a_p_p_LoginContainer",type:"div",split:8,left:350,height:600,latch:{type:"display",display:{type:"target",name:"login"},zChildren:Array(4).fill(null).map(function(e,t){return{bool:"b",val:["signin a_p_p_LoginSignInButton","create a_p_p_LoginCreateButton","pass a_p_p_LoginPasswordButton","delete a_p_p_LoginDeleteButton"][t],css:{"z-index":5},text:["Sign In","Create Account","Change Password","Delete Account"][t],logic:{desktop:{width:function(){return 320},height:function(){return 120},top:[100,400][Math.floor(t/2)],left:[120,600][t%2]},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:[["signIn","mainLogin","mainLoginBold"],["createAccount","mainLogin","mainLoginBold"],["password","mainLogin","mainLoginBold"],["delAcct","mainLogin","mainLoginBold"]][t]}},group:["login"]}})},options:{css:{"z-index":5,opacity:0},extras:{appAwsLogin:{type:["mainLogin","mainLoginContainer"]}}}},{key:"container a_p_p_LoginDeleteOneComponent",type:"components",split:8,left:350,height:600,top:-600,options:{extras:{options:{type:"awsLogin",lazyLoad:"true",container:{class:"a_p_p_LoginDeleteOneContainer"},panels:[Object(r.d)([{type:"title",class:"a_p_p_LoginDeleteOneComponentTitle",innerText:"Please Enter Your Username and Password and the OTP from your authenticator app",appAwsLogin:{type:["delete1","delete1Bold"]}}],Array(3).fill(null).map(function(e,t){return{type:"input",class:"a_p_p_LoginDeleteOneComponentInput",placeholder:["Username","Password","OTP"][t],appAwsLogin:{type:["delete1","delete1Bold",["delete1User","delete1Pass","delete1TOTP"][t]]}}}),[{type:"text",class:"a_p_p_LoginDeleteOneComponentTextError",style:{margin:"50px 0 0 0"},innerText:"",appAwsLogin:{type:["delete1","delete1Bold","delete1Error"]}},{type:"button",class:"a_p_p_LoginDeleteOneComponentButton",innerText:"Submit",style:{margin:"30px 0 0 41%",height:"120px",width:"200px"},appAwsLogin:{type:["delete1","delete1Bold","delete1Submit"]}}]),Object(r.d)([{type:"title",class:"a_p_p_LoginDeleteTwoComponentTitle",innerText:'Are you sure you want to delete your account?\n                                        Click"Submit" to delete your account.\n                                        Click"Cancel" to go back to The Main Login Page.',appAwsLogin:{type:["delete2","delete2Bold"]},stage:{style:{"justify-content":"space-evenly"}}}],Array(2).fill(null).map(function(e,t){return{type:"button",class:["a_p_p_LoginDeleteTwoComponentButtonDanger","a_p_p_LoginDeleteTwoComponentButton"][t],innerText:["Delete","Cancel"][t],style:{margin:"50px 0 0 0",height:"120px",width:"200px"},appAwsLogin:{type:[["delete2","delete2Bold","delete2Submit"],["delete2","delete2Bold","delete2Cancel"]][t]}}})),[{type:"title",class:"a_p_p_LoginDeleteThreeComponentTitle",innerText:"Account Sucessfully Deleted",appAwsLogin:{type:["delete3","delete3Bold"]},stage:{style:{"justify-content":"space-evenly"}}}]],component:{style:{position:"absolute"}}},appAwsLogin:{type:["delete1","delete1Bold","delete1Component"]},appComponents:{type:["lazyLoad"],duplicateIgnore:"true",zSymbolNeeded:"true",options:{lazyLoad:{delay:1e3,tryAgain:"true"}}}}}},{key:"container a_p_p_LoginCreateOneContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["create1"]}}},latch:{type:"display",display:{type:"target",name:"create1"},zChildren:Object(r.d)([{bool:"h1",val:"title a_p_p_LoginCreateOneTitle",text:"Create Account",logic:{desktop:{width:.4,height:function(){return 30},top:50,left:350},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create1"]}},group:["create1"]}],Array(3).fill(null).map(function(e,t){return{bool:"i",val:["email a_p_p_LoginCreateOneInput","password a_p_p_LoginCreateOneInput","confirmPassword a_p_p_LoginCreateOneInput"][t],logic:{desktop:{width:.65,height:function(){return 50},top:[150,250,350][t],left:50},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create1","create1Input",["create1User","create1Pass","create1ConfirmPass"][t]]},appAttribute:{type:["target"],options:{attrObject:{type:["email","text","text"][t],placeholder:["Email","Password","Confirm Password"][t]}}}},group:["create1"]}}),[{bool:"p",val:"passwordInfo a_p_p_LoginCreateOneText",text:"Password Must be a minimun of 12 characters, At least 1 number, and 1 Uppercase and Lowercase letter",logic:{desktop:{width:.25,height:function(){return 50},top:250,left:680},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create1","create1Input"]}},group:["create1"]},{bool:"p",val:"passwordError a_p_p_LoginCreateOneTextError",logic:{desktop:{width:.25,height:function(){return 50},top:400,left:680},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create1","create1Input","create1PassError"]}},group:["create1"]},{bool:"b",val:"createAcct a_p_p_LoginCreateOneButton",text:"Create Account",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:500,left:280},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create1","create1Button","create1Input"]}},group:["create1"]}])}},{key:"container a_p_p_LoginCreateFourContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["create4"]}}},latch:{type:"display",display:{type:"target",name:"create4"},zChildren:[{bool:"h1",val:"title a_p_p_LoginCreateFourTitle",text:"Please head to your email in your account to provide the confirmation code",css:{"text-align":"center"},logic:{desktop:{width:.7,height:function(){return 30},top:100,left:150},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create4","create4Bold"]}},group:["create4"]},{bool:"i",val:"input a_p_p_LoginCreateFourInput",logic:{desktop:{width:.7,height:function(){return 50},top:250,left:150},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create4","create4Bold","create4Input"]},appAttribute:{type:["target"],options:{attrObject:{placeholder:"Confirmation Code"}}}},group:["create4"]},{bool:"b",val:"button a_p_p_LoginCreateFourButton",text:"Submit",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:400,left:150},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create4","create4Bold","create4Submit"]},appAttribute:{type:["target"],options:{attrObject:{placeholder:"Confirmation Code"}}}},group:["create4"]},{bool:"b",val:"button a_p_p_LoginCreateFourButtonResend",text:"Resend Code",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:400,left:550},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create4","create4Bold","create4Resend"]},appAttribute:{type:["target"],options:{attrObject:{placeholder:"Confirmation Code"}}}},group:["create4"]}]}},{key:"container a_p_p_LoginCreateTwoContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["create2"]}}},latch:{type:"display",display:{type:"target",name:"create2"},zChildren:[{bool:"p",val:"title a_p_p_LoginCreateTwoTitle",text:"Scan the QR Code to your authenticator app",logic:{desktop:{width:.4,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create2","create2Bold"]}},group:["create2"]},{bool:"p",val:"title a_p_p_LoginCreateTwoTitle",text:"Enter the one time passcode generated by the app",logic:{desktop:{width:.3,height:function(){return 30},top:50,left:550},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create2","create2Bold"]}},group:["create2"]},{bool:"app-components",val:"qrcode a_p_p_LoginCreateTwoQR",logic:{desktop:{width:function(){return 300},height:function(){return 300},top:150,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create2","create2Bold","create2QR"]},options:{type:"qrcode"}},group:["create2"]},{bool:"i",val:"input a_p_p_LoginCreateTwoInput",text:"Enter the one time passcode generated by the app",logic:{desktop:{width:.35,height:function(){return 50},top:250,left:550},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create2","create2Bold","create2TOTP"]}},group:["create2"]},{bool:"b",val:"button a_p_p_LoginCreateTwoButton",text:"Submit",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:400,left:550},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create2","create2Bold","create2Submit"]}},group:["create2"]}]}},{key:"container a_p_p_LoginCreateThreeContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["create3"]}}},latch:{type:"display",display:{type:"target",name:"create3"},zChildren:[{bool:"p",val:"title a_p_p_LoginCreateThreeTitle",text:"Account Sucessfully Created,\n                            For Future Login Use your Password and Authenticator App,\n                            You may now proceed to the Social Media Login Page ",logic:{desktop:{width:.8,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["create3","create3Bold"]}},group:["create3"]}]}},{key:"container a_p_p_LoginSignInOneContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["signIn1"]}}},latch:{type:"display",display:{type:"target",name:"signIn1"},zChildren:Object(r.d)([{bool:"p",val:"title a_p_p_LoginSignInOneTitle",text:"Please Enter Your Username and Password and the OTP from your authenticator app",logic:{desktop:{width:.8,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["signIn1","signIn1Bold"]}},group:["signIn1"]}],Array(3).fill(null).map(function(e,t){return{bool:"i",val:"input a_p_p_LoginSignInOneInput",logic:{desktop:{width:.8,height:function(){return 50},top:[150,250,350][t],left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["signIn1","signIn1Bold",["signIn1User","signIn1Pass","signIn1TOTP"][t]]},appAttribute:{type:["target"],options:{attrObject:{placeholder:["Username","Password","six-digit code"][t]}}}},group:["signIn1"]}}),[{bool:"b",val:"button a_p_p_LoginSignInOneButton",text:"Submit ",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:450,left:300},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["signIn1","signIn1Bold","signIn1Submit"]}},group:["signIn1"]}])}},{key:"container a_p_p_LoginSignInTwoContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["signIn2"]}}},latch:{type:"display",display:{type:"target",name:"signIn2"},zChildren:[{bool:"p",val:"title a_p_p_LoginSignInTwoTitle",text:"Thank you for Signing In  you may now proceed to the Social Media Login page",logic:{desktop:{width:.8,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["signIn2","signIn2Bold"]}},group:["signIn2"]}]}},{key:"container a_p_p_LoginPasswordOneContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["password1"]}}},latch:{type:"display",display:{type:"target",name:"password1"},zChildren:Object(r.d)([{bool:"p",val:"title a_p_p_LoginPasswordOneTitle",text:"Please Enter Your Username and Password and the OTP from your authenticator app",logic:{desktop:{width:.8,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password1","password1Bold"]}},group:["password1"]}],Array(3).fill(null).map(function(e,t){return{bool:"i",val:"input a_p_p_LoginPasswordOneInput",logic:{desktop:{width:.8,height:function(){return 50},top:[150,250,350][t],left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password1","password1Bold",["password1User","password1Pass","password1TOTP"][t]]},appAttribute:{type:["target"],options:{attrObject:{placeholder:["Username","Password","six-digit code"][t]}}}},group:["password1"]}}),[{bool:"b",val:"button a_p_p_LoginPasswordOneButton",text:"Submit ",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:450,left:300},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password1","password1Bold","password1Submit"]}},group:["password1"]}])}},{key:"container a_p_p_LoginPasswordTwoContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["password2"]}}},latch:{type:"display",display:{type:"target",name:"password2"},zChildren:Object(r.d)([{bool:"p",val:"title a_p_p_LoginPasswordTwoTitle",text:"Enter Your New Password",logic:{desktop:{width:.8,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password2","password2Bold"]}},group:["password2"]}],Array(3).fill(null).map(function(e,t){return{bool:"i",val:"input a_p_p_LoginPasswordTwoInput",logic:{desktop:{width:.8,height:function(){return 50},top:[150,250,350][t],left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password2","password2Bold",["password2OldPass","password2NewPass","password2ConfirmPass"][t]]},appAttribute:{type:["target"],options:{attrObject:{placeholder:["Old Password","New Password","Confirm Password"][t]}}}},group:["password2"]}}),[{bool:"p",val:"passwordError a_p_p_LoginPasswordTwoTextError",logic:{desktop:{width:.25,height:function(){return 50},top:450,left:650},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password2","password2Bold","password2PassError"]}},group:["password2"]},{bool:"b",val:"button a_p_p_LoginPasswordTwoButton",text:"Submit ",logic:{desktop:{width:function(){return 300},height:function(){return 120},top:450,left:300},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password2","password2Bold","password2Submit"]}},group:["password2"]}])}},{key:"container a_p_p_LoginPasswordThreeContainer",type:"div",split:8,left:350,height:600,top:-600,options:{extras:{appAwsLogin:{type:["password3"]}}},latch:{type:"display",display:{type:"target",name:"password3"},zChildren:[{bool:"p",val:"title a_p_p_LoginPasswordThreeTitle",text:"Password Updated Sucesfully",logic:{desktop:{width:.8,height:function(){return 30},top:50,left:100},mobile:{width:.2,height:.2,top:0,left:0}},extras:{appAwsLogin:{type:["password3","password3Bold"]}},group:["password3"]}]}}]}],f=[{title:"socialAcct",metafields:[{key:"body",type:"body",navigation:{name:["socialAcct"],confirm:"true",type:["body"]},options:{extras:{appSocialLogin:{confirm:"true",type:["body"]},appComponents:{type:["body"],confirm:"true"}},judima:{moving:{point:"bottom",target:"mainBackground",coordinates:{x:50,y:70},type:"custom"}}}},{key:"socialAcct a_p_p_SocialAcctPod",type:"div",split:8,left:350,height:600,latch:{type:"display",display:{type:"target",name:"socialLogin"},zChildren:Array(10).fill(null).map(function(e,t){var n,r=["FB","TW","IG","PI","TM","DS","RDIT","BLOG","TW","PT"],i=["Facebook","Twitter","Instagram","Pinterest","Tumblr","Discord","Reddit","Blogger","Twitch","Patreon"].map(function(e,t){return"Manage "+e+" Account"}),a=Array(10).fill(null).map(function(e,t){return{src:mediaPrefix({media:"shared/"+t+".png"})}}),o=Array(10).fill(null).map(function(e,t){return{type:r.map(function(e,t){return e+"Manage"})[t]}});return{bool:"app-components",val:"loginPod a_p_p_SocialAcctLoginButtonPod",css:{"z-index":5},logic:{desktop:{width:function(){return 300},height:function(){return 60},top:[100,200,300,400,500].map(function(e,t){return e-40})[t%5],left:[280,630][Math.floor(t/5)]},mobile:{width:.2,height:.2,top:0,left:0}},extras:{options:{type:"socialAcctLoginButton",button:{text:i[t],class:["facebook  a_p_p_SocialAcctFBLoginButton","twitter   a_p_p_SocialAcctTWLoginButton","instagram a_p_p_SocialAcctIGLoginButton","pinterest a_p_p_SocialAcctPILoginButton","tumblr    a_p_p_SocialAcctTMLoginButton","discord   a_p_p_SocialAcctDSLoginButton","reddit    a_p_p_SocialAcctRDITLoginButton","blogger   a_p_p_SocialAcctBLOGLoginButton","twitch    a_p_p_SocialAcctTWLoginButton","patreon   a_p_p_SocialAcctPTLoginButton"][t]},icon:{src:null===(n=a[t])||void 0===n?void 0:n.src},component:{class:"a_p_p_SocialAcctLoginButtonView"}},appSocialLogin:{type:["mainLogin","mainLoginBold",o[t].type]}},group:["socialLogin"]}})},options:{extras:{appSocialLogin:{type:["mainLogin","mainLoginPod"]}}}},{key:"container a_p_p_SocialAcctFBLoginView",type:"components",split:8,left:350,height:600,top:-600,options:{extras:{options:{type:"awsLogin",lazyLoad:"true",component:{style:{"background-color":"#fff"}},panels:[Object(r.d)([{type:"title",innerText:"Facebook",class:"a_p_p_SocialAcctFBLoginViewStageTitle",appSocialLogin:{type:["FB1","FB1Bold"]}}],Array(2).fill(null).map(function(e,t){return{type:"input",class:"a_p_p_SocialAcctFBLoginViewStageInput",placeholder:["Username","Password"][t],appSocialLogin:{type:["FB1","FB1Bold",["FB1User","FB1Pass"][t]]}}}),[{type:"button",class:"a_p_p_SocialAcctFBLoginViewStageButton\n                                        a_p_p_SpecificBG1",innerText:"Submit",style:{margin:"30px auto 0 auto",height:"120px",width:"230px"},appSocialLogin:{type:["FB1","FB1Bold","FB1Submit"]}}])]},appSocialLogin:{type:["FB","FBBold","FBView1"]},appComponents:{type:["lazyLoad"],duplicateIgnore:"true",zSymbolNeeded:"true",options:{lazyLoad:{delay:1e3,tryAgain:"true"}}}}}}]}],v=Object(r.d)([{title:"mainBackground",metafields:[{key:"body",type:"body",navigation:{name:["menu","account","socialAcct","content","dashboard"],confirm:"true",type:["body"]},options:{extras:{appSection:{confirm:"true"},appAttribute:{confirm:"true",type:["body"]},appThree:{confirm:"true",type:["body"]}}}},{key:"dummy",type:"div",split:9,height:1},{key:"dummy",type:"div",split:9,height:1},{key:"mainBackground a_p_p_ThreeBackgroundMain",type:"canvas",height:1e3,split:2,options:{extras:{appThree:{type:["background"],options:{camera:{height:750}}}},judima:{formatIgnore:"true"}}}]}],d,p,f).map(function(e,t){return e.type_slug="forms",e});h.convertCMS=v;var m=h,y=n("AytR"),g=n("tk/3"),b=function(){function e(e,t){var n,h=this;this.http=e,this.renderer2Factory=t,this.a=new a.a({boardTop:"52px",boardHeight:"56px"}),this.appCurrentNav="/login",this.appReloaded="true",this.appES={router:{},resize:{},click:{},load:{},input:{},zChildUpdate:{}},this.appSubscriptionArray=[],this.appViewComplete=new o.a,this.appViewCompleteArray=[],this.appViewNavigation={routerMatcher:function(e){var t,n;if("SPA"===h.appCO0.metadata.navigation.type)return!0;if("full"===h.appCO0.metadata.navigation.type){var r=e.item;return(null===(n=null===(t=h[r].quantity[1][0].extras[0][0])||void 0===t?void 0:t.appNavigation)||void 0===n?void 0:n.name.map(function(e,t){var n="/"+e;return h.appViewNavigation.routes[n]=h.appViewNavigation.routes[n]||new Set,h.appViewNavigation.routes[n].add(r),n})).includes(h.appCurrentNav)}},routes:{},routeLengths:{}},this.appEventListener=function(e,t){void 0===t&&(t=null),"function"==typeof e&&(parseInt(i.E.major)>=9?e(t):e())},this.appAvailble=function(e,t){try{return e[t.valueOf()]}catch(n){}},this.appEvents=function(e){var t=h[e.typesES.valueOf()][e.event.valueOf()].generator.next().value;return h[e.typesES.valueOf()][e.event.valueOf()][t]=e.of,t},this.appAddScripts=function(e){return e.scripts.map(function(e,t){var n,r,i=h.renderer2.createElement("script");h.renderer2.setAttribute(i,"type",e.type||"text/javascript"),e.src&&h.renderer2.setAttribute(i,"src",e.src),e.innerText&&h.renderer2.setProperty(i,"innerText",e.innerText),e.innerText&&h.renderer2.setProperty(i,"innerHTML",e.innerText),e.async&&h.renderer2.setAttribute(i,"async",e.async),e.defer&&h.renderer2.setAttribute(i,"defer",e.defer),e.nonce&&h.renderer2.setAttribute(i,"nonce",e.nonce),e.integrity&&h.renderer2.setAttribute(i,"integrity",e.integrity),e.crossorigin&&h.renderer2.setAttribute(i,"crossorigin",e.crossorigin),e.placement?(null===(n=e.placement)||void 0===n?void 0:n.appendChild)?h.renderer2.appendChild(e.placement.appendChild,i):(null===(r=e.placement)||void 0===r?void 0:r.insertBefore)&&h.renderer2.insertBefore(e.placement.insertBefore.parent,i,e.placement.insertBefore.sibling):h.renderer2.appendChild(window.document.head,i);var a={element:i,name:e.name,loaded:"false"};return Object(s.a)(i,"load").subscribe(function(e){a.loaded="true"}),a})},this.appGetScripts=function(e){var t=e.scriptStrings,n=h.appCO0.metadata.scripts.filter(function(e,n){return t.includes(e.name)});return Array.from(n.filter(function(e,t){return"true"!==e.loaded}),function(e,t){return Object(s.a)(e.element,"load")})},this.appTestKeyword="root",this.appTV="",this.appCO0={metadata:{component:{responsiveHeightExclude:["mat-spinner","ta","c","div","ag-grid","i","b","video","gsap-cursor","img"]},ES:[],CO:[],formCentral:{applicantInput:""},ryber:{CO$:[],sectionDefault:{gap:90,left:50,width:1175,split:9,stack:20,app:{width:{value:1175,mediaQuery:null,mediaQuerySubject:new a.a(null)},type:y.a.sectionDefault.type,custom:{board:null}},mobile:{stack:100,widthRatio:.9,footerSpace:0},desktop:{footerSpace:50}}},navigation:{type:y.a.navigation.type,full:{map:{},navigated:"false",startURL:y.a.navigation.startURL}},components:{lazyLoad:{current:new o.a},ngOnDestroy:new u.a(1)},three:{camera:null,cameraValues:{"/menu":{x:0,y:0,z:1700},"/account":{x:0,y:0,z:1270},"/socialAcct":{x:0,y:0,z:920},"/content":{x:0,y:0,z:680},"/dashboard":{x:0,y:0,z:325}},cameraValuesSub:new u.a(1)},awsLogin:{accessToken:null,accessTokenSub:new o.a},scripts:[]},quantity:[]},this.socialLogin={general:{catchError:function(){return alert("There was an error please contact support"),Object(l.a)({message:"Error"})}},addFBAcct:{catchError:function(e){if("Unauthenticated"===e.error){var t=document.querySelectorAll(".a_p_p_MenuItem")[1];Object(c.h)({element:t,event:"click"}),alert("Please Sign Into your Social Media Acct")}return Object(l.a)({message:"Error"})}}},this.aws={confirmAccount:{catchError:function(e){return"Code Mismatch"===e.error&&alert("The confirmation code you entered is incorrect, Please Try Again"),Object(l.a)(e)}},createAccount:{catchError:function(e){var t=e.create1PassError,n=e.ref,r=e.changePanel,i=e.create1,a=e.zChildren,o=e.mainLogin,s=e.mainLoginBold;return function(e){return console.log(e),"Username Exists"===e.error?(a[t[0]].innerText.item="Username exists,try a  different email",n.detectChanges()):(alert("The Application Cannot process your request try again later"),r({closing:i,zChildren:a,open:o,openBold:s,ref:n}),n.detectChanges()),Object(l.a)(e)}}},general:{catchError:function(e){return alert("There seems to be an issue, Please try Again or Please Contact Support"),Object(l.a)({})}},signInUserPassTOTP:{catchError:function(e){return"Unauthenticated"===e.error?alert("Incorrect Username or Password or six-digit code Please Try Again"):"Format the target string properly"===e.error?alert("Please fill out the user,pass and six-digit code fields"):alert("There seems to be an issue contact support"),Object(l.a)({})}},deleteAcct:{catchError:function(e){return Object(l.a)({})}},refreshPage:{error:function(e){console.log(e)}}},this.renderer2=t.createRenderer(null,null);var d=Object(c.r)({ryber:this}),p=function(){var e;return Object(r.b)(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return[4,e++];case 2:return t.sent(),[3,1];case 3:return[2]}})}();function f(e){var t,n,i=e.co,a=e.mf,o=a.navigation,s=a.appSection,u=a.gsapCursor,l=a.imageURL,h=a.latch,f=a.options,v=a.nest,m=a.printGroupType,y=a.printGroup,g=a.key,b=a.type,_=a.bool,x=a.gap,w=a.stack,S=a.value,k=a.newline,O=a.form,E=a.delta,T=a.background,M=a.color,C=a.fonts,A=a.title,j=a.fontSize,L=a.italics,P=a.googleSheets,N=a.border,R=a.left,I=a.width,D=a.split,z={left:R,top:a.top,height:a.height,width:I,split:D,next:a.next,gap:x};void 0===f?f={css:{},extend:{},judima:{}}:(void 0===f.extend&&(f.extend={}),void 0===f.css&&(f.css={}),void 0===f.judima&&(f.judima={}));var B={},F={topLevelZChild:[null==v?void 0:v.group,null==v?void 0:v.under].includes(void 0)?"true":"false",formatIgnore:[null==v?void 0:v.group,null==v?void 0:v.under].includes(void 0)?"false":"true",stack:{overlapFix:"true"}},H=Object(r.a)({confirm:void 0===(null==v?void 0:v.group)?"false":"true",co:i},v),V=Object(r.a)({confirm:void 0===(null==E?void 0:E.group)?"false":"true",co:i,zSymbolNeeded:"true"},E),U=Object(r.a)(Object(r.a)({confirm:void 0===(null==u?void 0:u.group)?"false":"true"},u),{co:i}),G=Object(r.a)({confirm:void 0!==(null==h?void 0:h.type)?"true":"false",zSymbolNeeded:"true",co:i},h),W=Object(r.a)(Object(r.a)({confirm:void 0===(null==o?void 0:o.group)?"false":"true",co:i},o),{zSymbolNeeded:"true"});try{Object.values(f.extras).forEach(function(e,t){e.co=i})}catch(K){}(null==f?void 0:f.css)?f.css["z-index"]=4:f.css={"z-index":4};var q="";if("new"===b||"body"===b){var J=Object(c.n)(this.appCO0.metadata.ryber.sectionDefault),Z={gap:void 0===x?J.gap:x,left:void 0===R?J.left:R,width:void 0===I?J.width:I,split:void 0===D?J.split:D,stack:void 0===w?J.stack:w},X=Object(r.a)(Object(r.a)({height:"300px",width:"100%",top:"0px","background-color":T},f.css),{"z-index":-1});if("full"===this.appCO0.metadata.navigation.type){var Y=null===(n=null===(t=f.judima)||void 0===t?void 0:t.moving)||void 0===n?void 0:n.target;void 0!==Y&&(f.judima.moving.target=this.appCO0.metadata.navigation.full.map[Y])}var Q=Object(r.a)({},f.judima);q=d({co:i,val:g.split("_").reverse()[0]+" a_p_p_Board",bool:_,signature:A,css:X,extras:Object(r.a)({co:i,judima:Q,section:Z,type:b,component:z,appSection:{confirm:null==s?void 0:s.confirm,co:i},appDeltaNode:Object(r.a)(Object(r.a)({},V),{type:"body"}),appNest:Object(r.a)(Object(r.a)({type:"body"},H),{confirm:"true"}),appNavigation:Object(r.a)({type:"body"},W)},f.extras)})}else"title"===b||"heading"===b?(X=Object(r.a)({display:"table","font-weight":L,"background-color":T,color:M,"font-family":C},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"h1",text:S,val:g+" a_p_p_Heading",css:X,extras:Object(r.a)({component:z,type:b,extend:B,judima:F,appDeltaNode:V,appLatch:G,appNest:H},f.extras)})):"input"===b?(void 0!==(null==O?void 0:O.required)&&(B.required=null==O?void 0:O.required),X=Object(r.a)({border:N,"font-size":void 0===j?"30px":j+"px","background-color":T,color:M,"font-family":C,"text-align":a["text-align"]},f.css),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"i",val:g+" a_p_p_Input",css:X,extras:Object(r.a)({judima:F,appDeltaNode:V,appFocusFont:{confirm:"true",fontSizeDefault:"32px",mobileShrink:"true"},appInputHandle:{confirm:"true",zSymbolNeeded:"true",co:i,name:this[i.valueOf()].quantity[1][1].signature+" "+p.next().value,googleSheets:P,link:null==O?void 0:O.link},appLatch:G,appNest:H,component:z,type:b},f.extras)})):"textbox"===b?(void 0!==(null==O?void 0:O.required)&&function(e){e.required=null==O?void 0:O.required}(B),X=Object(r.a)({"font-size":"27px","background-color":T,color:M,"font-family":C},f.css),B=Object(r.a)(Object(r.a)(Object(r.a)({},B),{type:"text",placeholder:S,form:"myForm"}),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"ta",val:g.split("_").reverse()[0]+" a_p_p_TextArea",css:X,extras:Object(r.a)({extend:B,judima:F,appFocusFont:{confirm:"true",fontSizeDefault:"32px",mobileShrink:"true"},appDeltaNode:V,appNest:H,appInputHandle:{confirm:"true",zSymbolNeeded:"true",co:i,name:this[i.valueOf()].quantity[1][1].signature+" "+p.next().value,googleSheets:P,link:null==O?void 0:O.link},component:z,type:b},f.extras)})):"email"===b?(void 0!==(null==O?void 0:O.required)&&function(e){e.required=null==O?void 0:O.required}(B),X=Object(r.a)({"font-size":"32px","background-color":T,color:M,"font-family":C},f.css),B=Object(r.a)(Object(r.a)(Object(r.a)({},B),{type:"email",placeholder:S,form:"myForm"}),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"i",val:g.split("_").reverse()[0]+" a_p_p_Input",css:X,extras:Object(r.a)({extend:B,appFocusFont:{confirm:"true",fontSizeDefault:"32px",mobileShrink:"true"},appDeltaNode:V,appNest:H,appInputHandle:{confirm:"true",zSymbolNeeded:"true",co:i,name:this[i.valueOf()].quantity[1][1].signature+" "+p.next().value,googleSheets:P,link:null==O?void 0:O.link},component:z,type:b},f.extras)})):"date"===b?(void 0!==(null==O?void 0:O.required)&&function(e){e.required=null==O?void 0:O.required}(B),X=Object(r.a)({"font-size":"32px","background-color":T,color:M,"font-family":C},f.css),B=Object(r.a)(Object(r.a)(Object(r.a)({},B),{type:"text",placeholder:S,form:"myForm"}),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"i",val:g.split("_").reverse()[0]+" a_p_p_Input",css:X,extras:Object(r.a)({extend:B,judima:F,appFocusFont:{confirm:"true",fontSizeDefault:"32px",mobileShrink:"true"},appDeltaNode:V,appInputHandle:{confirm:"true",zSymbolNeeded:"true",co:i,name:this[i.valueOf()].quantity[1][1].signature+" "+p.next().value,googleSheets:P,link:null==O?void 0:O.link},appLatch:G,appNest:H,component:z,appDateClick:{confirm:"true"},type:b},f.extras)})):"text"===b?(X=Object(r.a)({"background-color":T,color:M,"font-weight":L,"font-family":C,"text-align":e.mf["text-align"]},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"p",val:g+"  a_p_p_Text",text:S,css:X,extras:Object(r.a)({component:z,type:b,judima:F,extend:B,appPrintFiles:{printGroup:y,type:m},appNavigation:W,appDeltaNode:V,appLatch:G,appNest:H},f.extras)})):"loading"===b?(X=Object(r.a)({stroke:M,"text-align":e.mf["text-align"]},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),z.height=void 0===(null==z?void 0:z.height)?100:z.height,z.width=void 0===(null==z?void 0:z.height)?100:z.height,q=d({co:i,bool:"mat-spinner",val:g.split("_").reverse()[0],css:X,extras:Object(r.a)({component:z,type:b,extend:B,judima:F,appDeltaNode:V,appNest:H},f.extras)})):"div"===b?(X=Object(r.a)({"background-color":T,color:M,overflow:"auto"},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"div",val:g+" a_p_p_Nester",css:X,extras:Object(r.a)({judima:F,component:z,type:b,extend:B,appDeltaNode:V,appNest:H,appLatch:G},f.extras)})):["sub-heading","subtitle"].includes(b)?(X=Object(r.a)({"background-color":T,color:M,"font-weight":L,"font-family":C,"text-align":a["text-align"]},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"h2",val:g+" a_p_p_SubHeading",text:S,css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:b,appDeltaNode:V,appNest:H},f.extras)})):"button"===b?(X=Object(r.a)({width:"325px","background-color":T,color:M,"font-family":C,"font-weight":L},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"b",text:S,val:g+" a_p_p_Button",css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:b,appDeltaNode:V,appNest:H,appLatch:G,appNavigation:W,appGsapCursor:Object(r.a)(Object(r.a)({},U),{type:"button"})},f.extras)})):"image"===b?(X=Object(r.a)({"z-index":4},f.css),B=Object(r.a)(Object(r.a)(Object(r.a)({},B),{src:"./assets/media/"+l}),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"img",val:g+" a_p_p_Image",css:X,extras:Object(r.a)({judima:F,component:z,type:b,extend:B,appDeltaNode:V,appNest:H,appLatch:G,appNavigation:W},f.extras)})):"video"===b?(X=Object(r.a)({},f.css),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"video",val:g+" ' a_p_p_Video'",css:X,extras:Object(r.a)({judima:F,component:z,type:b,appDeltaNode:V,appLatch:G,appNest:H},f.extras)})):"photo"===b?(X=Object(r.a)({},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"c",val:g.split("_").reverse()[0]+" a_p_p_Photo",css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:b,appDeltaNode:V,appNest:H},f.extras)})):"bullet point"===b?(X=Object(r.a)({"font-size":"24px","background-color":T,color:M,"font-family":C,"font-weight":L},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"p",val:g.split("_").reverse()[0]+" a_p_p_BulletPoint",css:X,text:"\u2022 &nbsp;&nbsp;&nbsp;"+(void 0!==S?S:k.reduce(function(e,t,n){return e+"<br><br>"+t})),extras:Object(r.a)({extend:B,judima:F,component:z,type:b,appDeltaNode:V,appNest:H},f.extras)})):"count"===b?(X=Object(r.a)({display:"table","font-size":"54px"},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"p",text:S,val:g.split("_").reverse()[0]+" a_p_p_Text a_p_p_Count",css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:b,appDeltaNode:Object(r.a)(Object(r.a)({},V),{type:(null==E?void 0:E.type)||"increment"}),appNest:H},f.extras)})):"anchor"===b?(X=Object(r.a)({},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"a",val:g+" a_p_p_Anchor",text:S,css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:"anchor",appDeltaNode:V,appLatch:G,appNest:H},f.extras)})):"components"===b?(X=Object(r.a)({},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"app-components",val:g+" a_p_p_Components",text:S,css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:b,options:{},appDeltaNode:V,appLatch:G,appNest:H},f.extras)})):"canvas"===b?(X=Object(r.a)({},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"c",val:g+" a_p_p_Canvas",text:S,css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:b,options:{},appDeltaNode:V,appLatch:G,appNest:H},f.extras)})):(X=Object(r.a)({"background-color":T,color:M,"font-weight":L,"font-family":C,"text-align":e.mf["text-align"]},f.css),B=Object(r.a)(Object(r.a)({},B),f.extend),F=Object(r.a)(Object(r.a)({},F),f.judima),q=d({co:i,bool:"p",val:g.split("_").reverse()[0]+"  a_p_p_Text",text:S,css:X,extras:Object(r.a)({extend:B,judima:F,component:z,type:"text",appDeltaNode:V,appLatch:G,appNest:H},f.extras)}));return q}var v,g,b,_=(v=this,function(e){return f.call(v,e)});try{b=void 0!==g.objects}catch(S){b=!1}var x={};b?(g.objects.forEach(function(e,t){"google-sheets"===e.type_slug&&e.metafields.forEach(function(e,t){e.children.forEach(function(e,t){"subsheet titles"===e.title?h.appCO0.metadata["google-sheets"]=Object(c.n)(e.options):"office fields"===e.title&&e.children.forEach(function(e,t){"applicant_id"===e.title&&(h.appCO0.metadata.applicant_id=Object(c.n)(e.options))})})})}),void 0!==this.appCO0.metadata["google-sheets"]&&(this.appCO0.metadata["google-sheets-mapping"]=Object.fromEntries(this.appCO0.metadata["google-sheets"].map(function(e,t){return[e.key,e.value]}))),this.appCO0.metadata.applicant_id_mapping=null===(n=this.appCO0.metadata.applicant_id)||void 0===n?void 0:n.map(function(e,t){var n=h.appCO0.metadata.applicant_id[t].key;return{key:void 0===h.appCO0.metadata["google-sheets-mapping"][n.valueOf()]?e.key:h.appCO0.metadata["google-sheets-mapping"][n.valueOf()],value:e.value}}),x=g.objects.filter(function(e,t){return"google-sheets"!==e.type_slug}).map(function(e,t){var n=e.metafields.map(function(e,t){var n=Object(c.n)(e.children.filter(function(e,t){return"content"===e.title})[0]);return n.key=e.key,n});return{title:e.title,type_slug:e.type_slug,metafields:n.map(function(t,n){var i,a,o=[],s={},u=t.options.map(function(e,n){return"newline"===e.key?(o.push(e.value),null):Object.values(t.options[n])}).filter(function(e,t){return null!==e});e.metafields[n].children.filter(function(e,t){return"google subsheets"===e.title}).forEach(function(e,t){e.children.forEach(function(e,t){var n=Object(c.n)(e.options);n.forEach(function(e,t){null==e||delete e.selected,n[t]=Object.values(e)}),s[h.appCO0.metadata["google-sheets-mapping"][e.key].valueOf()]=n})}),(u=Object.fromEntries(u)).googleSheets=Object(c.n)(s),void 0!==u.background&&(u.background=null===(i=u.background)||void 0===i?void 0:i.split(" ").join("")),void 0!==u.color&&(u.color=null===(a=u.color)||void 0===a?void 0:a.split(" ").join(""));var l=Object(r.a)({key:t.key},u);return 0!==o.length&&(l.newline=o),0!==Object.keys(s).length&&(l.googleSheets=s),l})}}).filter(function(e,t){return"google-sheets"!==e.type_slug})):(x=Object(c.n)(m.convertCMS),delete m.convertCMS,Object.assign(this.appCO0.metadata,m));var w={};Object.fromEntries(x.map(function(e,t){var n,i,a=e.type_slug.split("s")[0];void 0===w[a+"CO"]?(w[a+"CO"]=0,h[a+"CO"]=[],h[a+"CO$"]=new u.a(1),h.appCO0.metadata.CO.push(a+"CO$".valueOf()),h[a+"ES".valueOf()]=Object(c.n)(h.appES),h.appCO0.metadata.ES.push(a+"ES".valueOf())):w[a+"CO".valueOf()]+=1;var o=a+"CO"+w[e.type_slug.split("s")[0]+"CO".valueOf()];h[a+"CO".valueOf()].push(o),h[a+"CO$".valueOf()].next(h[a+"CO".valueOf()]),["body","new"].includes(e.metafields[0].type)&&"full"===h.appCO0.metadata.navigation.type&&(null===(i=null===(n=e.metafields[0])||void 0===n?void 0:n.navigation)||void 0===i||i.name.forEach(function(t,n){var r="/"+t;void 0===h.appViewNavigation.routeLengths[r]&&(h.appViewNavigation.routeLengths[r]=0),h.appViewNavigation.routeLengths[r]+=1,h.appCO0.metadata.navigation.full.map[e.title]=o}));var s=Object(l.a)(e),d=[];return h.appCO0.metadata.ryber.CO$.push(s.subscribe(function(n){var i=h[a+"CO".valueOf()];e.metafields.forEach(function(n,a){0===a&&"body"!==n.type&&d.push(_({co:i[i.length-1],mf:{key:"a_p_p_Board",type:"body",background:["lightgrey","white"][t%2],title:e.title}})),d.push(_({co:i[i.length-1],mf:0===a?Object(r.a)(Object(r.a)({},n),{title:e.title}):n}))}),h[o.valueOf()].metadata.order=d.splice(1),d=[]})),[o,e]}))}return e.prototype.ngOnDestroy=function(){this.appCO0.metadata.ryber.CO$.forEach(function(e,t){var n;null===(n=e.unsubscribe)||void 0===n||n.call(e)})},e.\u0275fac=function(t){return new(t||e)(i.Bb(g.a),i.Bb(i.y))},e.\u0275prov=i.qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"1sBl":function(e,t,n){var r=n("e/Dd").getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),a=[n-7],o=1;o<t-1;o++)a[o]=a[o-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),i=r.length,a=0;a<i;a++)for(var o=0;o<i;o++)0===a&&0===o||0===a&&o===i-1||a===i-1&&0===o||n.push([r[a],r[o]]);return n}},"2QA8":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("MGFw"),i=n("WtWf"),a=n("t9bE"),o=n("KUzl"),s=n("mvVQ"),u=n("/E8u"),l=n("XNiG"),c=n("9ppp"),h=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this))._value=e,i}return Object(i.a)(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=Object(a.a)(Object(o.a)(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.a;return this._value}},{key:"next",value:function(e){Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,this._value=e)}}]),n}(l.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("MGFw"),i=n("WtWf"),a=n("mvVQ"),o=n("/E8u"),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a.pending=!1,a}return Object(i.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){return Object(r.a)(this,n),t.call(this)}return Object(i.a)(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a))},"3X7Y":function(e,t,n){var r=n("u/Db");function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mvVQ"),i=n("/E8u"),a=n("MGFw"),o=n("WtWf"),s=n("lJxs"),u=n("Cfvw"),l=n("zx2A");function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(c(function(n,r){return Object(u.a)(e(n,r)).pipe(Object(s.a)(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new h(e,n))})}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(a.a)(this,e),this.project=t,this.concurrent=n}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))}}]),e}(),d=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(a.a)(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Object(o.a)(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new l.a(this),n=this.destination;n.add(t);var r=Object(l.c)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(l.b)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("MGFw"),i=n("WtWf"),a=n("JL25"),o=n("t9bE"),s=n("KUzl"),u=n("mvVQ"),l=n("/E8u"),c=n("n6bG"),h=n("gRHU"),d=n("quSY"),p=n("2QA8"),f=n("2fFW"),v=n("NJ4a"),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,i,o){var s;switch(Object(r.a)(this,n),(s=t.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h.a;break;case 1:if(!e){s.destination=h.a;break}if("object"==typeof e){e instanceof n?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(Object(a.a)(s))):(s.syncErrorThrowable=!0,s.destination=new y(Object(a.a)(s),e));break}default:s.syncErrorThrowable=!0,s.destination=new y(Object(a.a)(s),e,i,o)}return s}return Object(i.a)(n,[{key:p.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(o.a)(Object(s.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(d.a),y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,i,o,s){var u,l;Object(r.a)(this,n),(u=t.call(this))._parentSubscriber=e;var d=Object(a.a)(u);return Object(c.a)(i)?l=i:i&&(l=i.next,o=i.error,s=i.complete,i!==h.a&&(d=Object.create(i),Object(c.a)(d.unsubscribe)&&u.add(d.unsubscribe.bind(d)),d.unsubscribe=u.unsubscribe.bind(Object(a.a)(u)))),u._context=d,u._next=l,u._error=o,u._complete=s,u}return Object(i.a)(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;f.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=f.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(v.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(v.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};f.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),f.a.useDeprecatedSynchronousErrorHandling)throw n;Object(v.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!f.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return f.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(v.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(m)},"7uVY":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"8vcG":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("ZJsx"),i=n("dR+g"),a=n("ftpp");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"93si":function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentsComponent",function(){return Y});var r=n("mrSG"),i=n("s0aK"),a=n("fXoL"),o=n("1Oug"),s=n("ofXK"),u=n("0hV+"),l=["pTable"];function c(e,t){if(1&e&&(a.zb(0,"span",14),a.Wb(1),a.yb()),2&e){var n=a.Gb(3);a.mb(1),a.Xb(n.options.header.title)}}function h(e,t){1&e&&a.Ub(0,c,2,1,"ng-template",13)}function d(e,t){if(1&e&&(a.zb(0,"div",15),a.vb(1,"img",16),a.zb(2,"h3",17),a.Wb(3),a.yb(),a.vb(4,"button",18),a.yb()),2&e){var n=t.$implicit;a.mb(1),a.Kb("src",n.src,a.Rb),a.mb(2),a.Yb(" ",n.name," ")}}function p(e,t){if(1&e&&(a.zb(0,"p-carousel",10),a.Ub(1,h,1,0,void 0,11),a.Ub(2,d,5,2,"ng-template",12),a.yb()),2&e){var n=a.Gb();a.Jb("value",n.options.value)("numVisible",n.options.numVisible)("circular",n.options.circular)("responsiveOptions",n.options.responsiveOptions)("orientation",n.options.orientation)("autoplayInterval",n.options.autoplayInterval)("contentClass",n.options.contentClass)("ngStyle",n.options.style)("styleClass",n.options.styleClass),a.mb(1),a.Jb("ngIf",n.options.header)}}function f(e,t){if(1&e&&a.vb(0,"p-button",19),2&e){var n=a.Gb();a.Jb("label",n.options.label)("icon",n.options.icon)("styleClass",n.options.styleClass)("ngStyle",n.options.style)}}function v(e,t){if(1&e&&a.vb(0,"img",23),2&e){var n=a.Gb(2);a.nb(n.options.img.class),a.Jb("src",n.options.img.src,a.Rb)("ngStyle",n.options.img.style)}}function m(e,t){if(1&e&&a.vb(0,"p-button",25),2&e){var n=t.$implicit;a.Tb(n.style),a.Jb("label",n.label)("icon",n.icon)("styleClass",n.styleClass)}}function y(e,t){if(1&e&&a.Ub(0,m,1,5,"p-button",24),2&e){var n=a.Gb(2);a.Jb("ngForOf",n.options.buttons)}}function g(e,t){if(1&e&&(a.zb(0,"p-card",20),a.Ub(1,v,1,4,"ng-template",13),a.zb(2,"p",21),a.Wb(3),a.yb(),a.Ub(4,y,1,1,"ng-template",22),a.yb()),2&e){var n=a.Gb();a.Jb("header",n.options.header)("subheader",(null==n.options.subheader?null:n.options.subheader.text)||n.options.subheader)("ngStyle",n.options.style)("styleClass","p-card-shadow "+n.options.styleClass),a.mb(2),a.nb(null==n.options.cardText?null:n.options.cardText.class),a.Jb("ngStyle",null==n.options.cardText?null:n.options.cardText.style),a.mb(1),a.Xb(n.options.cardText)}}function b(e,t){}function _(e,t){if(1&e&&(a.zb(0,"div",21),a.zb(1,"h2",21),a.Wb(2),a.yb(),a.yb()),2&e){var n=t.$implicit,r=a.Gb(2);a.nb((null==n||null==n.container?null:n.container.class)||(null==r.options||null==r.options.items||null==r.options.items.container?null:r.options.items.container.class)),a.Jb("ngStyle",(null==n||null==n.container?null:n.container.style)||(null==r.options||null==r.options.items||null==r.options.items.container?null:r.options.items.container.style)),a.mb(1),a.Jb("ngStyle",(null==n||null==n.text?null:n.text.style)||(null==r.options||null==r.options.items||null==r.options.items.text?null:r.options.items.text.style)),a.mb(1),a.Xb(n.name)}}function x(e,t){if(1&e){var n=a.Ab();a.zb(0,"p-dropdown",26),a.Eb("onChange",function(e){return a.Pb(n),a.Gb().dropDown.onChange(e)}),a.Ub(1,b,0,0,"ng-template",27),a.Ub(2,_,3,5,"ng-template",12),a.yb()}if(2&e){var r=a.Gb();a.Jb("options",r.options.options)("optionLabel",r.options.optionLabel)("showClear",r.options.showClear)("placeholder",r.options.placeHolder)("ngStyle",r.options.style)("styleClass",r.options.styleClass)("ngStyle",r.options.style)("panelStyle",null==r.options.panel?null:r.options.panel.style)("panelStyleClass",null==r.options.panel?null:r.options.panel.class)}}function w(e,t){if(1&e){var n=a.Ab();a.zb(0,"img",30),a.Eb("error",function(){return a.Pb(n),a.Gb(2).profileCard.defaultPic({})}),a.yb()}if(2&e){var r=a.Gb(2);a.nb((null==r.options.pic?null:r.options.pic.class)||"a_p_p_ProfileCardPic"),a.Jb("src",null==r.options.pic?null:r.options.pic.src,a.Rb)}}function S(e,t){if(1&e&&(a.zb(0,"div",21),a.vb(1,"i"),a.yb()),2&e){var n=a.Gb(2);a.nb((null==n.options.pic||null==n.options.pic.container?null:n.options.pic.container.class)||"a_p_p_ProfileCardPic"),a.Jb("ngStyle",null==n.options.pic||null==n.options.pic.container?null:n.options.pic.container.style),a.mb(1),a.nb(null==n.options.pic?null:n.options.pic.class)}}function k(e,t){if(1&e&&(a.zb(0,"p-button",25),a.Wb(1," Add Friend "),a.yb()),2&e){var n=a.Gb(2);a.Tb(null==n.options.addButton?null:n.options.addButton.style),a.Jb("label",null==n.options.addButton?null:n.options.addButton.label)("icon",null==n.options.addButton?null:n.options.addButton.icon)("styleClass",(null==n.options.addButton?null:n.options.addButton.styleClass)||"a_p_p_ProfileCardAdd")}}function O(e,t){if(1&e&&(a.zb(0,"p-button",25),a.Wb(1," Remove "),a.yb()),2&e){var n=a.Gb(2);a.Tb(null==n.options.removeButton?null:n.options.removeButton.style),a.Jb("label",null==n.options.removeButton?null:n.options.removeButton.label)("icon",null==n.options.removeButton?null:n.options.removeButton.icon)("styleClass","p-button-secondary "+((null==n.options.removeButton?null:n.options.removeButton.styleClass)||"a_p_p_ProfileCardRemove"))}}var E=function(){return["img",void 0]};function T(e,t){if(1&e&&(a.zb(0,"div",21),a.Ub(1,w,1,3,"img",28),a.Ub(2,S,2,5,"div",4),a.zb(3,"p",21),a.Wb(4),a.yb(),a.Ub(5,k,2,5,"p-button",29),a.Ub(6,O,2,5,"p-button",29),a.yb()),2&e){var n=a.Gb();a.nb((n.options.class||"")+" a_p_p_ProfileCard"),a.Jb("ngStyle",n.options.style),a.mb(1),a.Jb("ngIf",a.Lb(11,E).includes(null==n.options.pic?null:n.options.pic.type)),a.mb(1),a.Jb("ngIf","icon"===(null==n.options.pic?null:n.options.pic.type)),a.mb(1),a.nb((null==n.options.name?null:n.options.name.class)||"a_p_p_ProfileCardName"),a.Jb("ngStyle",null==n.options.name?null:n.options.name.style),a.mb(1),a.Yb(" ",null==n.options||null==n.options.name?null:n.options.name.text," "),a.mb(1),a.Jb("ngIf","true"!==(null==n.options.addButton?null:n.options.addButton.hide)),a.mb(1),a.Jb("ngIf","true"!==(null==n.options.removeButton?null:n.options.removeButton.hide))}}function M(e,t){if(1&e&&a.vb(0,"p-progressSpinner",31),2&e){var n=a.Gb();a.Jb("ngStyle",n.options.style)("styleClass",n.options.styleClass)("strokeWidth",n.options.strokeWidth)("fill",n.options.fill)("animationDuration",n.options.animationDuration)}}function C(e,t){if(1&e){var n=a.Ab();a.zb(0,"button",38),a.Eb("click",function(e){return a.Pb(n),a.Gb(3).primengTable.filterBy(e)}),a.Wb(1),a.yb()}if(2&e){var r=t.$implicit;a.nb(r.class||"a_p_p_TableSearchButton"),a.mb(1),a.Yb(" ",r.name," ")}}function A(e,t){if(1&e){var n=a.Ab();a.Ub(0,C,2,3,"button",36),a.vb(1,"i",21),a.zb(2,"input",37),a.Eb("blur",function(e){return a.Pb(n),a.Gb(2).primengTable.filterValue(e)}),a.yb(),a.zb(3,"button",38),a.Eb("click",function(e){return a.Pb(n),a.Gb(2).primengTable.filterSubmit(e)}),a.Wb(4," Search "),a.yb(),a.zb(5,"button",38),a.Eb("click",function(e){return a.Pb(n),a.Gb(2).primengTable.filterReset(e)}),a.Wb(6," Reset "),a.yb()}if(2&e){var r=a.Gb(2);a.Jb("ngForOf",null==r.options||null==r.options.search?null:r.options.search.buttons),a.mb(1),a.nb(((null==r.options.search||null==r.options.search.icon?null:r.options.search.icon.class)||"")+" pi pi-search"),a.Jb("ngStyle",null==r.options.search||null==r.options.search.icon?null:r.options.search.icon.style),a.mb(1),a.nb((null==r.options||null==r.options.search||null==r.options.search.query?null:r.options.search.query.class)||"a_p_p_TableSearchQuery"),a.mb(1),a.nb("a_p_p_TableSearchSubmitButton"),a.mb(2),a.nb("a_p_p_TableSearchResetButton")}}function j(e,t){if(1&e&&(a.zb(0,"th",40),a.Wb(1),a.vb(2,"i"),a.yb()),2&e){var n=t.$implicit;a.Jb("pSortableColumn",n.header),a.mb(1),a.Yb(" ",n.header," "),a.mb(1),a.nb("pi pi-sort")}}function L(e,t){if(1&e&&(a.zb(0,"tr"),a.Ub(1,j,3,4,"th",39),a.yb()),2&e){var n=a.Gb(2);a.mb(1),a.Jb("ngForOf",n.options.cols)}}function P(e,t){if(1&e){var n=a.Ab();a.zb(0,"td",46),a.Eb("click",function(e){a.Pb(n);var t=a.Gb().$implicit,r=a.Gb().$implicit;return a.Gb(2).primengTable.textExpander(e,r[t.header])}),a.zb(1,"div",47),a.zb(2,"td",21),a.Wb(3),a.yb(),a.yb(),a.yb()}if(2&e){var r=a.Gb().$implicit,i=a.Gb().$implicit;a.mb(2),a.nb((i.class||"")+" a_p_p_TableRowComment"),a.Jb("ngStyle",i.style),a.mb(1),a.Yb(" ",i[r.header]," ")}}function N(e,t){if(1&e){var n=a.Ab();a.zb(0,"td",46),a.Eb("click",function(e){a.Pb(n);var t=a.Gb().$implicit,r=a.Gb().$implicit;return a.Gb(2).primengTable.textExpander(e,r[t.header])}),a.zb(1,"div",47),a.zb(2,"td",21),a.Wb(3),a.yb(),a.yb(),a.yb()}if(2&e){var r=a.Gb().$implicit,i=a.Gb().$implicit;a.mb(2),a.nb((i.class||"")+" a_p_p_TableRowComment"),a.Jb("ngStyle",i.style),a.mb(1),a.Yb(" ",i[r.header]," ")}}function R(e,t){if(1&e){var n=a.Ab();a.zb(0,"img",48),a.Eb("click",function(e){a.Pb(n);var t=a.Gb().$implicit,r=a.Gb().$implicit;return a.Gb(2).primengTable.photoExpander(e,r[t.header])}),a.yb()}if(2&e){var r=a.Gb().$implicit,i=a.Gb().$implicit;a.nb("a_p_p_TableRowPhotoEntry"),a.Jb("src",i[r.header],a.Rb)}}function I(e,t){if(1&e&&(a.zb(0,"td",21),a.Wb(1),a.yb()),2&e){var n=a.Gb().$implicit,r=a.Gb().$implicit;a.nb((r.class||"")+" a_p_p_TableRowEntry"),a.Jb("ngStyle",r.style),a.mb(1),a.Yb(" ",r[n.header]," ")}}function D(e,t){1&e&&(a.xb(0,42),a.Ub(1,P,4,4,"td",43),a.Ub(2,N,4,4,"td",43),a.Ub(3,R,1,3,"img",44),a.Ub(4,I,2,4,"td",45),a.wb()),2&e&&(a.Jb("ngSwitch",t.$implicit.header),a.mb(1),a.Jb("ngSwitchCase","Comments"),a.mb(1),a.Jb("ngSwitchCase","Merchant Address"),a.mb(1),a.Jb("ngSwitchCase","Photo"))}function z(e,t){if(1&e&&(a.zb(0,"tr"),a.Ub(1,D,5,4,"ng-container",41),a.yb()),2&e){var n=a.Gb(2);a.nb(" a_p_p_TableRow"),a.mb(1),a.Jb("ngForOf",n.options.cols)}}var B=function(){return[10,25,50]};function F(e,t){if(1&e&&(a.zb(0,"p-table",32,33),a.Ub(2,A,7,10,"ng-template",34),a.Ub(3,L,2,1,"ng-template",13),a.Ub(4,z,2,3,"ng-template",35),a.yb()),2&e){var n=a.Gb();a.nb((n.options.class||"")+" a_p_p_Table"),a.Jb("value",n.options.value||n.primengTable.value)("totalRecords",(n.options.value||n.primengTable.value).length)("ngStyle",n.options.style)("paginator",!0)("rowHover",!0)("rows",10)("rowsPerPageOptions",a.Lb(9,B))}}function H(e,t){if(1&e&&a.vb(0,"qrcode",49),2&e){var n=a.Gb();a.nb((n.options.class||"")+" a_p_p_QRMain"),a.Jb("ngStyle",n.options.style)("qrdata",n.options.qrdata)("width",356)("allowEmptyString",!0)("errorCorrectionLevel","M")}}function V(e,t){if(1&e&&(a.zb(0,"h1",21),a.Wb(1),a.yb()),2&e){var n=a.Gb().$implicit;a.nb(n.class||"a_p_p_LoginComponentTitle"),a.Jb("ngStyle",n.style),a.mb(1),a.Yb(" ",n.innerText," ")}}function U(e,t){if(1&e){var n=a.Ab();a.zb(0,"input",57),a.Eb("blur",function(e){return a.Pb(n),a.Gb().$implicit.blur(e)}),a.yb()}if(2&e){var r=a.Gb().$implicit;a.nb(r.class||"a_p_p_LoginComponentInput"),a.Jb("placeholder",r.placeholder)("ngStyle",r.style)}}function G(e,t){if(1&e){var n=a.Ab();a.zb(0,"button",58),a.Eb("click",function(e){return a.Pb(n),a.Gb().$implicit.click(e)}),a.Wb(1),a.yb()}if(2&e){var r=a.Gb().$implicit;a.nb(r.class||"a_p_p_LoginComponentButton"),a.Jb("ngStyle",r.style),a.mb(1),a.Yb(" ",r.innerText," ")}}function W(e,t){if(1&e&&(a.zb(0,"p",21),a.Wb(1),a.yb()),2&e){var n=a.Gb().$implicit;a.nb(n.class||"a_p_p_LoginComponentTextError"),a.Jb("ngStyle",n.style),a.mb(1),a.Yb(" ",n.innerText," ")}}function q(e,t){1&e&&(a.xb(0,42),a.Ub(1,V,2,4,"h1",54),a.Ub(2,U,1,4,"input",55),a.Ub(3,G,2,4,"button",56),a.Ub(4,W,2,4,"p",54),a.wb()),2&e&&(a.Jb("ngSwitch",t.$implicit.type),a.mb(1),a.Jb("ngSwitchCase","title"),a.mb(1),a.Jb("ngSwitchCase","input"),a.mb(1),a.Jb("ngSwitchCase","button"),a.mb(1),a.Jb("ngSwitchCase","text"))}function J(e,t){if(1&e&&(a.zb(0,"div",53),a.Ub(1,q,5,5,"ng-container",41),a.yb()),2&e){var n=t.$implicit;a.Jb("ngStyle",n[0].stage.style),a.mb(1),a.Jb("ngForOf",n)}}function Z(e,t){if(1&e&&(a.vb(0,"div",50),a.zb(1,"div",51),a.Ub(2,J,2,2,"div",52),a.yb()),2&e){var n=a.Gb();a.mb(2),a.Jb("ngForOf",n.options.panels)}}function X(e,t){if(1&e&&(a.zb(0,"button"),a.vb(1,"img",59),a.Wb(2),a.yb()),2&e){var n=a.Gb();a.nb(n.options.button.class),a.mb(1),a.nb("a_p_p_SocialAcctLoginIcon "+(null==n.options.icon?null:n.options.icon.class)),a.Jb("src",n.options.icon.src,a.Rb),a.mb(1),a.Yb("\n",n.options.button.text,"")}}var Y=function(){function e(e,t){var n=this;this.ryber=e,this.vcf=t,this.profileCard={defaultPic:function(e){var t=n.options;try{t.pic.src=(null==t?void 0:t.alt)||mediaPrefix({media:"components/"+["user.png","uae.png"][Math.round(Math.random())]})}catch(r){t.pic={src:(null==t?void 0:t.alt)||mediaPrefix({media:"components/"+["user.png","uae.png"][Math.round(Math.random())]})}}}},this.dropDown={onChange:function(e){var t=n.ryber,r=n.options,i=r.options.filter(function(t,n){return t.name===e.value.name})[0].onChange||r.items.container.onChange;i&&i({ryber:t,option:e.value})}},this.primengTable={filter:{field:"Group",value:"Defualt"},filterBy:function(e){n.primengTable.filter.field=e.target.innerText,n.options.search.buttons.forEach(function(t,n){t.class=t.name===e.target.innerText?" a_p_p_DashboardSelectSearchButton":"a_p_p_DashboardSearchButton"})},filterValue:function(e){n.primengTable.filter.value=e.target.value},filterSubmit:function(e){var t=n.primengTable.filter;n.table.filter(t.value,t.field,"equals")},filterReset:function(e){n.table.reset()},textExpander:function(e,t){if(""!==t){var i=n.options,a=i.expander,o=i.textExpander,s=n.ryber[i.co].metadata.zChildren;Object(r.d)(a,o).forEach(function(e,t){s[e].css.display="block"===s[e].css.display?"none":"block"}),s[o].innerText.item=t}},photoExpander:function(e,t){if(""!==t){var i=n.options,a=n.ryber,o=i.expander,s=i.photoExpander,u=i.co,l=a[u].metadata.zChildren;Object(r.d)(o,s).forEach(function(e,t){l[e].css.display="block"===l[e].css.display?"none":"block"}),a[u].metadata.attribute.current.next({attrObject:{src:t},symbol:s[0]}),console.log(l[s].extras.appAttribute)}},value:[]}}return e.prototype.ngOnInit=function(){var e=this.options,t={position:"static"};void 0===e.style?e.style=t:Object.assign(e.style,t),"awsLogin"===e.type&&(Object(i.i)(e.panels,1/0).forEach(function(e,t){!e.style&&(e.style={}),"input"===e.type&&(e.blur=function(t){e.value=t.target.value})}),e.panels.map(function(e,t){return e[0]}).forEach(function(e,t){e.stage?!e.stage.style&&(e.stage.style={}):e.stage={style:{}}}))},e.\u0275fac=function(t){return new(t||e)(a.ub(o.a),a.ub(a.G))},e.\u0275cmp=a.ob({type:e,selectors:[["app-components"]],viewQuery:function(e,t){var n;1&e&&a.Zb(l,1),2&e&&a.Nb(n=a.Fb())&&(t.table=n.first)},inputs:{options:"options"},decls:10,vars:10,consts:[[3,"value","numVisible","circular","responsiveOptions","orientation","autoplayInterval","contentClass","ngStyle","styleClass",4,"ngIf"],[3,"label","icon","styleClass","ngStyle",4,"ngIf"],[3,"header","subheader","ngStyle","styleClass",4,"ngIf"],[3,"options","optionLabel","showClear","placeholder","ngStyle","styleClass","panelStyle","panelStyleClass","onChange",4,"ngIf"],[3,"class","ngStyle",4,"ngIf"],[3,"ngStyle","styleClass","strokeWidth","fill","animationDuration",4,"ngIf"],["pageLinkSize","3","currentPageReportTemplate","Showing {first} to {last} of {options.value.length} entries",3,"value","totalRecords","class","ngStyle","paginator","rowHover","rows","rowsPerPageOptions",4,"ngIf"],[3,"class","ngStyle","qrdata","width","allowEmptyString","errorCorrectionLevel",4,"ngIf"],[3,"ngIf"],[3,"class",4,"ngIf"],[3,"value","numVisible","circular","responsiveOptions","orientation","autoplayInterval","contentClass","ngStyle","styleClass"],[4,"ngIf"],["pTemplate","item"],["pTemplate","header"],[1,"a_p_p_CarouselHeader"],[1,"a_p_p_CarouselCard"],["width","100",1,"a_p_p_CarouselImg",3,"src"],[1,"a_p_p_CarouselProfileName"],["pButton","","pRipple","","label","Add Friend","icon","pi pi-plus",1,"a_p_p_CarouselAddFriendButton"],[3,"label","icon","styleClass","ngStyle"],[3,"header","subheader","ngStyle","styleClass"],[3,"ngStyle"],["pTemplate","footer"],["alt","Card",3,"src","ngStyle"],[3,"label","icon","styleClass","style",4,"ngFor","ngForOf"],[3,"label","icon","styleClass"],[3,"options","optionLabel","showClear","placeholder","ngStyle","styleClass","panelStyle","panelStyleClass","onChange"],["pTemplate","selectedItem"],["alt","",3,"src","class","error",4,"ngIf"],[3,"label","icon","styleClass","style",4,"ngIf"],["alt","",3,"src","error"],[3,"ngStyle","styleClass","strokeWidth","fill","animationDuration"],["pageLinkSize","3","currentPageReportTemplate","Showing {first} to {last} of {options.value.length} entries",3,"value","totalRecords","ngStyle","paginator","rowHover","rows","rowsPerPageOptions"],["pTable",""],["pTemplate","caption"],["pTemplate","body"],[3,"class","click",4,"ngFor","ngForOf"],["pInputText","","type","text","placeholder","Global Search",3,"blur"],[3,"click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","a_p_p_TableRowTextArea",3,"click",4,"ngSwitchCase"],["alt","",3,"src","class","click",4,"ngSwitchCase"],[3,"class","ngStyle",4,"ngSwitchDefault"],[1,"a_p_p_TableRowTextArea",3,"click"],[1,"a_p_p_TableRowTextAreaContainer"],["alt","",3,"src","click"],[3,"ngStyle","qrdata","width","allowEmptyString","errorCorrectionLevel"],[1,"a_p_p_LoginComponentContainer"],[1,"a_p_p_LoginComponentStage"],["class","a_p_p_LoginComponentOverlay",3,"ngStyle",4,"ngFor","ngForOf"],[1,"a_p_p_LoginComponentOverlay",3,"ngStyle"],[3,"class","ngStyle",4,"ngSwitchCase"],[3,"class","placeholder","ngStyle","blur",4,"ngSwitchCase"],[3,"class","ngStyle","click",4,"ngSwitchCase"],[3,"placeholder","ngStyle","blur"],[3,"ngStyle","click"],["alt","",3,"src"]],template:function(e,t){1&e&&(a.Ub(0,p,3,10,"p-carousel",0),a.Ub(1,f,1,4,"p-button",1),a.Ub(2,g,5,8,"p-card",2),a.Ub(3,x,3,9,"p-dropdown",3),a.Ub(4,T,7,12,"div",4),a.Ub(5,M,1,5,"p-progressSpinner",5),a.Ub(6,F,5,10,"p-table",6),a.Ub(7,H,1,7,"qrcode",7),a.Ub(8,Z,3,1,"ng-template",8),a.Ub(9,X,3,6,"button",9)),2&e&&(a.Jb("ngIf","primeng-carousel"===t.options.type),a.mb(1),a.Jb("ngIf","primeng-button"===t.options.type),a.mb(1),a.Jb("ngIf","primeng-card"===t.options.type),a.mb(1),a.Jb("ngIf","primeng-dropdown"===t.options.type),a.mb(1),a.Jb("ngIf","profileCard"===t.options.type),a.mb(1),a.Jb("ngIf","primeng-progressSpinner"===t.options.type),a.mb(1),a.Jb("ngIf","primeng-table"===t.options.type),a.mb(1),a.Jb("ngIf","qrcode"===t.options.type),a.mb(1),a.Jb("ngIf","awsLogin"===t.options.type),a.mb(1),a.Jb("ngIf","socialAcctLoginButton"===t.options.type))},directives:[s.e,s.f,s.d,s.g,s.h,s.i,u.a],encapsulation:2}),e}()},"95OS":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("MT0C"),i=n("ftpp"),a=n("rc0G");function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},"9ppp":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},AZa5:function(e,t,n){var r=n("Wogr"),i=n("u/Db");function a(e){this.mode=i.BYTE,this.data=new r(e)}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=a},AytR:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0,url:"Judima",cookie:{},component:{form:{panelView:-1,lifecycleHooks:!1,zChildView:-1,zChild:[-1],topLevelZChild:[-1],drag:[-1]},app:{lifecycleHooks:!1}},directive:{deltaNode:{lifecycleHooks:!1},latch:{lifecycleHooks:!1},login:{lifecycleHooks:!1}},testingAcct:{confirm:"false",capybara:{main:"true",url:"gdp"}},sentry:{env:"gdp_development",defaultIntegrations:!0,tracingOrigins:["localhost",/^\//]},navigation:{startURL:"/menu",type:"full"},sectionDefault:{type:"custom"},dev:{socialLogin:{addFBAcct:{dummy:!1}},deleteSignIn:{dummy:!1},deleteConfirm:{dummy:!1},createAccount:{dummy:!1},confCode:{dummy:!1},totpCreateAccount:{dummy:!1},totpSignIn:{dummy:!1},passSignIn:{dummy:!1},passChange:{dummy:!1}},backend:{url:"https://socialpost-2414.herokuapp.com"},three:{camera:{position:{x:0,y:0,z:1700}}}}},BCVQ:function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(r,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),a=new RegExp("^[0-9]+$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return o.test(e)}},Cfvw:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),a=n("quSY"),o=n("kJWO"),s=n("jZKg"),u=n("Lhse"),l=n("c2HN"),c=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a(function(n){var r=new a.a;return r.add(t.schedule(function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(Object(l.a)(e))return function(e,t){return new r.a(function(n){var r=new a.a;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(Object(c.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new a.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[u.a](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(a){return void n.error(a)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},DH7j:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},ELBg:function(e,t,n){"use strict";var r={single_source_shortest_paths:function(e,t,n){var i={},a={};a[t]=0;var o,s,u,l,c,h,d=r.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(u in l=(o=d.pop()).cost,c=e[s=o.value]||{})c.hasOwnProperty(u)&&(h=l+c[u],(void 0===a[u]||a[u]>h)&&(a[u]=h,d.push(u,h),i[u]=s));if(void 0!==n&&void 0===a[n]){var p=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),r=e[r];return n.reverse(),n},find_path:function(e,t,n){var i=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,i={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r},EY2u:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("HDdC"),i=new r.a(function(e){return e.complete()});function a(e){return e?function(e){return new r.a(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},HDdC:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("MGFw"),i=n("WtWf"),a=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),u=n("kJWO"),l=n("SpAZ");function c(e){return 0===e.length?l.a:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var h=n("2fFW"),d=function(){var e=function(){function e(t){Object(r.a)(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return Object(i.a)(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof a.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new a.a(e,t,n):new a.a(s.a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||h.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){h.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof a.a?t:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=p(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:u.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:c(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=p(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function p(e){if(e||(e=h.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("MGFw"),i=n("WtWf"),a=n("JL25"),o=n("t9bE"),s=n("KUzl"),u=n("mvVQ"),l=n("/E8u"),c=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;Object(r.a)(this,e),this.SchedulerAction=t,this.now=n}return Object(i.a)(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.now;return Object(r.a)(this,n),(i=t.call(this,e,function(){return n.delegate&&n.delegate!==Object(a.a)(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return Object(i.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):Object(o.a)(Object(s.a)(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(c)},J6Nv:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},JL25:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},JzKC:function(e,t,n){var r=n("Wogr"),i=n("aZ40");t.mul=function(e,t){var n=new r(e.length+t.length-1);n.fill(0);for(var a=0;a<e.length;a++)for(var o=0;o<t.length;o++)n[a+o]^=i.mul(e[a],t[o]);return n},t.mod=function(e,t){for(var n=new r(e);n.length-t.length>=0;){for(var a=n[0],o=0;o<t.length;o++)n[o]^=i.mul(t[o],a);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},t.generateECPolynomial=function(e){for(var n=new r([1]),a=0;a<e;a++)n=t.mul(n,[1,i.exp(a)]);return n}},KUzl:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},LRne:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),a=n("jZKg");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(r.a)(o)?(t.pop(),Object(a.a)(t,o)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",function(){return i});var i=r()},Lzq4:function(e,t,n){var r=n("u/Db"),i=n("e/Dd");function a(e){this.mode=r.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}e.put(n=192*(n>>>8&255)+(255&n),13)}},e.exports=a},MGFw:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},MT0C:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,"a",function(){return r})},NPxG:function(e,t,n){var r=n("ekOh"),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}}},QAZZ:function(e,t,n){var r=n("Rb7d");function i(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function a(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){var o=r.getOptions(t),s=e.modules.size,u=e.modules.data,l=s+2*o.margin,c=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,s=0,u=0;u<e.length;u++){var l=Math.floor(u%t),c=Math.floor(u/t);l||o||(o=!0),e[u]?(s++,u>0&&l>0&&e[u-1]||(r+=o?a("M",l+n,.5+c+n):a("m",i,0),i=0,o=!1),l+1<t&&e[u+1]||(r+=a("h",s),s=0)):i++}return r}(u,s,o.margin)+'"/>',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+'viewBox="0 0 '+l+" "+l+'" shape-rendering="crispEdges">'+c+h+"</svg>\n";return"function"==typeof n&&n(null,d),d}},QUaw:function(e,t,n){var r=n("Rb7d");t.render=function(e,t,n){var i=n,a=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var o=r.getImageWidth(e.modules.size,i),s=a.getContext("2d"),u=s.createImageData(o,o);return r.qrToImageData(u.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,a,o),s.putImageData(u,0,0),a},t.renderToDataURL=function(e,n,r){var i=r;return void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={}),t.render(e,n,i).toDataURL(i.type||"image/png",(i.rendererOpts||{}).quality)}},QdLy:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ftpp");function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},RQB8:function(e,t,n){e.exports=n("ls82")},Rb7d:function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=e.width&&e.width>=21?e.width:void 0;return{width:t,scale:t?4:e.scale||4,margin:null==e.margin||e.margin<0?4:e.margin,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var i=n.modules.size,a=n.modules.data,o=t.getScale(i,r),s=Math.floor((i+2*r.margin)*o),u=r.margin*o,l=[r.color.light,r.color.dark],c=0;c<s;c++)for(var h=0;h<s;h++){var d=4*(c*s+h),p=r.color.light;c>=u&&h>=u&&c<s-u&&h<s-u&&(p=l[a[Math.floor((c-u)/o)*i+Math.floor((h-u)/o)]?1:0]),e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}},SeVD:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("ngJS"),i=n("NJ4a"),a=n("Lhse"),o=n("kJWO"),s=n("I55L"),u=n("c2HN"),l=n("XoHu"),c=function(e){if(e&&"function"==typeof e[o.a])return c=e,function(e){var t=c[o.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.a),e};if(e&&"function"==typeof e[a.a])return t=e,function(e){for(var n=t[a.a]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,c,h=Object(l.a)(e)?"an invalid object":"'".concat(e,"'"),d="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(d)}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",function(){return r})},TR1e:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},V35J:function(e,t,n){var r=n("Wogr");function i(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new r(e*e),this.data.fill(0),this.reservedBit=new r(e*e),this.reservedBit.fill(0)}i.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},i.prototype.get=function(e,t){return this.data[e*this.size+t]},i.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},i.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=i},VRyK:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),a=n("bHdf"),o=n("yCtX");function s(){for(var e=Number.POSITIVE_INFINITY,t=null,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var l=s[s.length-1];return Object(i.a)(l)?(t=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(e=s.pop())):"number"==typeof l&&(e=s.pop()),null===t&&1===s.length&&s[0]instanceof r.a?s[0]:Object(a.a)(e)(Object(o.a)(s,t))}},WMd4:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("MGFw"),i=n("WtWf"),a=n("EY2u"),o=n("LRne"),s=n("HDdC"),u=function(){var e=function(){function e(t,n,i){Object(r.a)(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return Object(i.a)(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){var e;switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return e=this.error,new s.a(function(t){return t.error(e)});case"C":return Object(a.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},Wogr:function(e,t,n){"use strict";var r=n("7uVY"),i=(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())?2147483647:1073741823;function a(e,t,n){return a.TYPED_ARRAY_SUPPORT||this instanceof a?"number"==typeof e?u(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?i.__proto__=a.prototype:i=l(e,i),i}(e,t,n,r):"string"==typeof t?function(e,t){var n=0|h(t),r=s(e,n),i=r.write(t);return i!==n&&(r=r.slice(0,i)),r}(e,t):function(e,t){if(a.isBuffer(t)){var n=0|o(t.length),r=s(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new a(e,t,n)}function o(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function s(e,t){var n;return a.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=a.prototype:(null===(n=e)&&(n=new a(t)),n.length=t),n}function u(e,t){var n=s(e,t<0?0:0|o(t));if(!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function l(e,t){for(var n=t.length<0?0:0|o(t.length),r=s(e,n),i=0;i<n;i+=1)r[i]=255&t[i];return r}function c(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function h(e){return a.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:c(e).length)}a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),a.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,r){return function(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}(c(t,e.length-n),e,n,r)}(this,e,t,n)},a.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var i=t-e;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=a.isBuffer(e)?e:new a(e),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this},a.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=u(null,t),o=0;for(n=0;n<e.length;++n){var l=e[n];if(!a.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(i,o),o+=l.length}return i},a.byteLength=h,a.prototype._isBuffer=!0,a.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=a},WtWf:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},XNiG:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return m});var r=n("WtWf"),i=n("t9bE"),a=n("KUzl"),o=n("MGFw"),s=n("mvVQ"),u=n("/E8u"),l=n("HDdC"),c=n("7o/Q"),h=n("quSY"),d=n("9ppp"),p=n("Ylt2"),f=n("2QA8"),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).destination=e,r}return n}(c.a),m=function(){var e=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Object(r.a)(n,[{key:f.a,value:function(){return new v(this)}},{key:"lift",value:function(e){var t=new y(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new d.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new d.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new d.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new d.a;return Object(i.a)(Object(a.a)(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new d.a;return this.hasError?(e.error(this.thrownError),h.a.EMPTY):this.isStopped?(e.complete(),h.a.EMPTY):(this.observers.push(e),new p.a(this,e))}},{key:"asObservable",value:function(){var e=new l.a;return e.source=this,e}}]),n}(l.a);return e.create=function(e,t){return new y(e,t)},e}(),y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this)).destination=e,i.source=r,i}return Object(r.a)(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):h.a.EMPTY}}]),n}(m)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",function(){return r})},Ylt2:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("MGFw"),i=n("WtWf"),a=n("mvVQ"),o=n("/E8u"),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this)).subject=e,a.subscriber=i,a.closed=!1,a}return Object(i.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},Z92M:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},ZJsx:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return r})},aZ40:function(e,t,n){var r,i,a=n("Wogr");a.alloc?(r=a.alloc(512),i=a.alloc(256)):(r=new a(512),i=new a(256)),function(){for(var e=1,t=0;t<255;t++)r[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)r[t]=r[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[i[e]+i[t]]}},bHdf:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("5+tZ"),i=n("SpAZ");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return r})},cRt0:function(e,t,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}n.d(t,"a",function(){return r})},"dR+g":function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",function(){return r})},"e/Dd":function(e,t){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},e6BP:function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},eQOe:function(e,t){function n(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,n=0,r=0,i=0,a=null,o=null,s=0;s<t;s++){r=i=0,a=o=null;for(var u=0;u<t;u++){var l=e.get(s,u);l===a?r++:(r>=5&&(n+=r-5+3),a=l,r=1),(l=e.get(u,s))===o?i++:(i>=5&&(n+=i-5+3),o=l,i=1)}r>=5&&(n+=r-5+3),i>=5&&(n+=i-5+3)}return n},t.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var a=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==a&&0!==a||n++}return 3*n},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,i=0,a=0;a<t;a++){r=i=0;for(var o=0;o<t;o++)r=r<<1&2047|e.get(a,o),o>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(o,a),o>=10&&(1488===i||93===i)&&n++}return 40*n},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(e,t){for(var r=t.size,i=0;i<r;i++)for(var a=0;a<r;a++)t.isReserved(a,i)||t.xor(a,i,n(e,a,i))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,i=0,a=1/0,o=0;o<r;o++){n(o),t.applyMask(o,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),s<a&&(a=s,i=o)}return i}},ekOh:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(r){return n}}},fXoL:function(e,t,n){"use strict";n.d(t,"a",function(){return Au}),n.d(t,"b",function(){return Mu}),n.d(t,"c",function(){return Cu}),n.d(t,"d",function(){return kl}),n.d(t,"e",function(){return bl}),n.d(t,"f",function(){return js}),n.d(t,"g",function(){return ts}),n.d(t,"h",function(){return zu}),n.d(t,"i",function(){return as}),n.d(t,"j",function(){return Dr}),n.d(t,"k",function(){return cu}),n.d(t,"l",function(){return _a}),n.d(t,"m",function(){return xn}),n.d(t,"n",function(){return Ia}),n.d(t,"o",function(){return ks}),n.d(t,"p",function(){return Es}),n.d(t,"q",function(){return Du}),n.d(t,"r",function(){return Hs}),n.d(t,"s",function(){return dl}),n.d(t,"t",function(){return Xu}),n.d(t,"u",function(){return Un}),n.d(t,"v",function(){return Nu}),n.d(t,"w",function(){return Pu}),n.d(t,"x",function(){return us}),n.d(t,"y",function(){return ss}),n.d(t,"z",function(){return Hr}),n.d(t,"A",function(){return cs}),n.d(t,"B",function(){return Ar}),n.d(t,"C",function(){return zs}),n.d(t,"D",function(){return nl}),n.d(t,"E",function(){return ds}),n.d(t,"F",function(){return hs}),n.d(t,"G",function(){return Gs}),n.d(t,"H",function(){return ee}),n.d(t,"I",function(){return fl}),n.d(t,"J",function(){return ll}),n.d(t,"K",function(){return wl}),n.d(t,"L",function(){return il}),n.d(t,"M",function(){return Iu}),n.d(t,"N",function(){return wa}),n.d(t,"O",function(){return Xo}),n.d(t,"P",function(){return N}),n.d(t,"Q",function(){return Mr}),n.d(t,"R",function(){return hr}),n.d(t,"S",function(){return er}),n.d(t,"T",function(){return nr}),n.d(t,"U",function(){return or}),n.d(t,"V",function(){return ir}),n.d(t,"W",function(){return rr}),n.d(t,"X",function(){return ar}),n.d(t,"Y",function(){return Wo}),n.d(t,"Z",function(){return xl}),n.d(t,"ab",function(){return qo}),n.d(t,"bb",function(){return Jo}),n.d(t,"cb",function(){return tr}),n.d(t,"db",function(){return ae}),n.d(t,"eb",function(){return Ha}),n.d(t,"fb",function(){return ro}),n.d(t,"gb",function(){return io}),n.d(t,"hb",function(){return Go}),n.d(t,"ib",function(){return Ge}),n.d(t,"jb",function(){return C}),n.d(t,"kb",function(){return $n}),n.d(t,"lb",function(){return ze}),n.d(t,"mb",function(){return Oi}),n.d(t,"nb",function(){return To}),n.d(t,"ob",function(){return ye}),n.d(t,"pb",function(){return ke}),n.d(t,"qb",function(){return z}),n.d(t,"rb",function(){return B}),n.d(t,"sb",function(){return xe}),n.d(t,"tb",function(){return Oe}),n.d(t,"ub",function(){return Za}),n.d(t,"vb",function(){return $a}),n.d(t,"wb",function(){return to}),n.d(t,"xb",function(){return eo}),n.d(t,"yb",function(){return Ka}),n.d(t,"zb",function(){return Qa}),n.d(t,"Ab",function(){return no}),n.d(t,"Bb",function(){return In}),n.d(t,"Cb",function(){return gn}),n.d(t,"Db",function(){return Tu}),n.d(t,"Eb",function(){return ao}),n.d(t,"Fb",function(){return ku}),n.d(t,"Gb",function(){return co}),n.d(t,"Hb",function(){return su}),n.d(t,"Ib",function(){return uu}),n.d(t,"Jb",function(){return Xa}),n.d(t,"Kb",function(){return ho}),n.d(t,"Lb",function(){return iu}),n.d(t,"Mb",function(){return au}),n.d(t,"Nb",function(){return wu}),n.d(t,"Ob",function(){return Ja}),n.d(t,"Pb",function(){return ct}),n.d(t,"Qb",function(){return jr}),n.d(t,"Rb",function(){return Lr}),n.d(t,"Sb",function(){return we}),n.d(t,"Tb",function(){return Oo}),n.d(t,"Ub",function(){return qa}),n.d(t,"Vb",function(){return Eu}),n.d(t,"Wb",function(){return zo}),n.d(t,"Xb",function(){return Bo}),n.d(t,"Yb",function(){return Fo}),n.d(t,"Zb",function(){return Su});var r=n("t9bE"),i=n("KUzl"),a=n("JL25");n("95OS"),n("TR1e"),n("MT0C"),n("dR+g"),n("ftpp"),n("rc0G");var o=n("QdLy"),s=n("8vcG"),u=n("vQkm"),l=n("cRt0");function c(e,t,n){return(c=Object(l.a)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Object(u.a)(i,n.prototype),i}).apply(null,arguments)}var h=n("WtWf"),d=n("MGFw"),p=n("mvVQ"),f=n("/E8u");function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,Object(i.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(n,e)})(e)}var m=n("quSY"),y=n("XNiG"),g=n("HDdC"),b=n("VRyK"),_=n("7o/Q");function x(){return function(e){return e.lift(new w(e))}}var w=function(){function e(t){Object(d.a)(this,e),this.connectable=t}return Object(h.a)(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new S(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),S=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e)).connectable=r,i}return Object(h.a)(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(_.a),k=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return Object(h.a)(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new m.a).add(this.source.subscribe(new E(this.getSubject(),this))),e.closed&&(this._connection=null,e=m.a.EMPTY)),e}},{key:"refCount",value:function(){return x()(this)}}]),n}(g.a),O=function(){var e=k.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),E=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e)).connectable=r,i}return Object(h.a)(n,[{key:"_error",value:function(e){this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(y.b);function T(){return new y.a}function M(e){for(var t in e)if(e[t]===M)return t;throw Error("Could not find renamed property on target object.")}function C(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(C).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function A(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var j=M({__forward_ref__:M});function L(e){return e.__forward_ref__=L,e.toString=function(){return C(this())},e}function P(e){return"function"==typeof(t=e)&&t.hasOwnProperty(j)&&t.__forward_ref__===L?e():e;var t}var N=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,function(e,t){var n=e?"NG0".concat(e,": "):"";return"".concat(n).concat(t)}(e,r))).code=e,i}return n}(v(Error));function R(e){return"string"==typeof e?e:null==e?"":String(e)}function I(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():R(e)}function D(e,t){var n=t?" in ".concat(t):"";throw new N("201","No provider for ".concat(I(e)," found").concat(n))}function z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function B(e){return{providers:e.providers||[],imports:e.imports||[]}}function F(e){return H(e,G)||H(e,q)}function H(e,t){return e.hasOwnProperty(t)?e[t]:null}function V(e){return e&&(e.hasOwnProperty(W)||e.hasOwnProperty(J))?e[W]:null}var U,G=M({"\u0275prov":M}),W=M({"\u0275inj":M}),q=M({ngInjectableDef:M}),J=M({ngInjectorDef:M}),Z=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function X(){return U}function Y(e){var t=U;return U=e,t}function Q(e,t,n){var r=F(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==t?t:void D(C(e),"Injector")}function K(e){return{toString:e}.toString()}var $=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ee=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),te="undefined"!=typeof globalThis&&globalThis,ne="undefined"!=typeof window&&window,re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ie="undefined"!=typeof global&&global,ae=te||ie||ne||re,oe={},se=[],ue=[],le=M({"\u0275cmp":M}),ce=M({"\u0275dir":M}),he=M({"\u0275pipe":M}),de=M({"\u0275mod":M}),pe=M({"\u0275loc":M}),fe=M({"\u0275fac":M}),ve=M({__NG_ELEMENT_ID__:M}),me=0;function ye(e){return K(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ue,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ee.Emulated,id:"c",styles:e.styles||ue,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,a=e.pipes;return n.id+=me++,n.inputs=Se(e.inputs,t),n.outputs=Se(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ge)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(be)}:null,n})}function ge(e){return Ee(e)||function(e){return e[ce]||null}(e)}function be(e){return function(e){return e[he]||null}(e)}var _e={};function xe(e){var t={type:e.type,bootstrap:e.bootstrap||ue,declarations:e.declarations||ue,imports:e.imports||ue,exports:e.exports||ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&K(function(){_e[e.id]=e.type}),t}function we(e,t){return K(function(){var n=Te(e,!0);n.declarations=t.declarations||ue,n.imports=t.imports||ue,n.exports=t.exports||ue})}function Se(e,t){if(null==e)return oe;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}var ke=ye;function Oe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ee(e){return e[le]||null}function Te(e,t){var n=e[de]||null;if(!n&&!0===t)throw new Error("Type ".concat(C(e)," does not have '\u0275mod' property."));return n}var Me=20,Ce=10;function Ae(e){return Array.isArray(e)&&"object"==typeof e[1]}function je(e){return Array.isArray(e)&&!0===e[1]}function Le(e){return 0!=(8&e.flags)}function Pe(e){return 2==(2&e.flags)}function Ne(e){return 1==(1&e.flags)}function Re(e){return null!==e.template}function Ie(e,t){return e.hasOwnProperty(fe)?e[fe]:null}var De=function(){function e(t,n,r){Object(d.a)(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return Object(h.a)(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ze(){return Be}function Be(e){return e.type.prototype.ngOnChanges&&(e.setInput=He),Fe}function Fe(){var e=Ve(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===oe)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function He(e,t,n,r){var i=Ve(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:oe,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[n],u=o[s];a[s]=new De(u&&u.currentValue,t,o===oe),e[r]=t}function Ve(e){return e.__ngSimpleChanges__||null}ze.ngInherit=!0;var Ue=void 0;function Ge(e){Ue=e}function We(){return void 0!==Ue?Ue:"undefined"!=typeof document?document:void 0}function qe(e){return!!e.listen}var Je={createRenderer:function(e,t){return We()}};function Ze(e){for(;Array.isArray(e);)e=e[0];return e}function Xe(e,t){return Ze(t[e])}function Ye(e,t){return Ze(t[e.index])}function Qe(e,t){return e.data[t]}function Ke(e,t){return e[t]}function $e(e,t){var n=t[e];return Ae(n)?n:n[0]}function et(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function tt(e){return 4==(4&e[2])}function nt(e){return 128==(128&e[2])}function rt(e,t){return null==t?null:e[t]}function it(e){e[18]=0}function at(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var ot={lFrame:Tt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function st(){return ot.bindingsEnabled}function ut(){return ot.lFrame.lView}function lt(){return ot.lFrame.tView}function ct(e){ot.lFrame.contextLView=e}function ht(){for(var e=dt();null!==e&&64===e.type;)e=e.parent;return e}function dt(){return ot.lFrame.currentTNode}function pt(e,t){var n=ot.lFrame;n.currentTNode=e,n.isParent=t}function ft(){return ot.lFrame.isParent}function vt(){ot.lFrame.isParent=!1}function mt(){return ot.isInCheckNoChangesMode}function yt(e){ot.isInCheckNoChangesMode=e}function gt(){var e=ot.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function bt(){return ot.lFrame.bindingIndex++}function _t(e){ot.lFrame.currentDirectiveIndex=e}function xt(){return ot.lFrame.currentQueryIndex}function wt(e){ot.lFrame.currentQueryIndex=e}function St(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function kt(e,t,n){if(n&Z.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&Z.Host||null===(r=St(i))||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var a=ot.lFrame=Et();return a.currentTNode=t,a.lView=e,!0}function Ot(e){var t=Et(),n=e[1];ot.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Et(){var e=ot.lFrame,t=null===e?null:e.child;return null===t?Tt(e):t}function Tt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Mt(){var e=ot.lFrame;return ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ct=Mt;function At(){var e=Mt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jt(e){return(ot.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ot.lFrame.contextLView))[8]}function Lt(){return ot.lFrame.selectedIndex}function Pt(e){ot.lFrame.selectedIndex=e}function Nt(){var e=ot.lFrame;return Qe(e.tView,e.selectedIndex)}function Rt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,a=i.ngAfterContentInit,o=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,l=i.ngOnDestroy;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function It(e,t,n){Bt(e,t,3,n)}function Dt(e,t,n,r){(3&e[2])===n&&Bt(e,t,n,r)}function zt(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function Bt(e,t,n,r){for(var i=null!=r?r:-1,a=t.length-1,o=0,s=void 0!==r?65535&e[18]:0;s<a;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(Ft(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Ft(e,t,n,r){var i=n[r]<0,a=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var Ht=-1,Vt=function e(t,n,r){Object(d.a)(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ut(e,t,n){for(var r=qe(e),i=0;i<n.length;){var a=n[i];if("number"==typeof a){if(0!==a)break;i++;var o=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,o):t.setAttributeNS(o,s,u)}else{var l=a,c=n[++i];Wt(l)?r&&e.setProperty(t,l,c):r?e.setAttribute(t,l,c):t.setAttribute(l,c),i++}}return i}function Gt(e){return 3===e||4===e||6===e}function Wt(e){return 64===e.charCodeAt(0)}function qt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Jt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Jt(e,t,n,r,i){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function Zt(e){return e!==Ht}function Xt(e){return 32767&e}function Yt(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var Qt=!0;function Kt(e){var t=Qt;return Qt=e,t}var $t=0;function en(e,t){var n=nn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,tn(r.data,e),tn(t,null),tn(r.blueprint,null));var i=rn(e,t),a=e.injectorIndex;if(Zt(i))for(var o=Xt(i),s=Yt(i,t),u=s[1].data,l=0;l<8;l++)t[a+l]=s[o+l]|u[o+l];return t[a+8]=i,a}function tn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function rn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var a=i[1],o=a.type;if(null===(r=2===o?a.declTNode:1===o?i[6]:null))return Ht;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ht}function an(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ve)&&(r=n[ve]),null==r&&(r=n[ve]=$t++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function on(e,t,n){if(n&Z.Optional)return e;D(t,"NodeInjector")}function sn(e,t,n,r){if(n&Z.Optional&&void 0===r&&(r=null),0==(n&(Z.Self|Z.Host))){var i=e[9],a=Y(void 0);try{return i?i.get(t,r,n&Z.Optional):Q(t,r,n&Z.Optional)}finally{Y(a)}}return on(r,t,n)}function un(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Z.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=fn(n);if("function"==typeof a){if(!kt(t,e,r))return r&Z.Host?on(i,n,r):sn(t,n,r,i);try{var o=a();if(null!=o||r&Z.Optional)return o;D(n)}finally{Ct()}}else if("number"==typeof a){var s=null,u=nn(e,t),l=Ht,c=r&Z.Host?t[16][6]:null;for((-1===u||r&Z.SkipSelf)&&((l=-1===u?rn(e,t):t[u+8])!==Ht&&mn(r,!1)?(s=t[1],u=Xt(l),t=Yt(l,t)):u=-1);-1!==u;){var h=t[1];if(vn(a,u,h.data)){var d=hn(u,t,n,s,r,c);if(d!==ln)return d}(l=t[u+8])!==Ht&&mn(r,t[1].data[u+8]===c)&&vn(a,u,t)?(s=h,u=Xt(l),t=Yt(l,t)):u=-1}}}return sn(t,n,r,i)}var ln={};function cn(){return new yn(ht(),ut())}function hn(e,t,n,r,i,a){var o=t[1],s=o.data[e+8],u=dn(s,o,n,null==r?Pe(s)&&Qt:r!=o&&0!=(3&s.type),i&Z.Host&&a===s);return null!==u?pn(t,o,u,s):ln}function dn(e,t,n,r,i){for(var a=e.providerIndexes,o=t.data,s=1048575&a,u=e.directiveStart,l=a>>20,c=i?s+l:e.directiveEnd,h=r?s:s+l;h<c;h++){var d=o[h];if(h<u&&n===d||h>=u&&d.type===n)return h}if(i){var p=o[u];if(p&&Re(p)&&p.type===n)return u}return null}function pn(e,t,n,r){var i=e[n],a=t.data;if(i instanceof Vt){var o=i;o.resolving&&function(e,t){throw new N("200","Circular dependency in DI detected for ".concat(e).concat(""))}(I(a[n]));var s=Kt(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?Y(o.injectImpl):null;kt(e,r,Z.Default);try{i=e[n]=o.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnInit,a=r.ngDoCheck;if(r.ngOnChanges){var o=Be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==u&&Y(u),Kt(s),o.resolving=!1,Ct()}}return i}function fn(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(ve)?e[ve]:void 0;return"number"==typeof t?t>=0?255&t:cn:t}function vn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function mn(e,t){return!(e&Z.Self||e&Z.Host&&t)}var yn=function(){function e(t,n){Object(d.a)(this,e),this._tNode=t,this._lView=n}return Object(h.a)(e,[{key:"get",value:function(e,t){return un(this._tNode,this._lView,e,void 0,t)}}]),e}();function gn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var a=n[i];if(Gt(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}return null}(ht(),e)}var bn="__parameters__";function _n(e,t,n){return K(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=c(i,t);return o.annotation=a,o;function o(e,t,n){for(var r=e.hasOwnProperty(bn)?e[bn]:Object.defineProperty(e,bn,{value:[]})[bn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var xn=function(){function e(t,n){Object(d.a)(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(h.a)(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}();function wn(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),wn(r,t)):t!==e&&t.push(r)}return t}function Sn(e,t){e.forEach(function(e){return Array.isArray(e)?Sn(e,t):t(e)})}function kn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function On(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function En(e,t,n){var r=Mn(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Tn(e,t){var n=Mn(e,t);if(n>=0)return e[1|n]}function Mn(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var a=r+(i-r>>1),o=e[a<<1];if(t===o)return a<<1;o>t?i=a:r=a+1}return~(i<<1)}(e,t)}var Cn={},An=/\n/gm,jn="__source",Ln=M({provide:String,useValue:M}),Pn=void 0;function Nn(e){var t=Pn;return Pn=e,t}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.Default;if(void 0===Pn)throw new Error("inject() must be called from an injection context");return null===Pn?Q(e,void 0,t):Pn.get(e,t&Z.Optional?null:void 0,t)}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.Default;return(X()||Rn)(P(e),t)}function Dn(e){for(var t=[],n=0;n<e.length;n++){var r=P(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=Z.Default,o=0;o<r.length;o++){var s=r[o],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:a|=u:i=s}t.push(In(i,a))}else t.push(In(r))}return t}function zn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}function Bn(e,t,n,r){var i=e.ngTempTokenPath;throw t[jn]&&i.unshift(t[jn]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=C(t);if(Array.isArray(t))i=t.map(C).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):C(s)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(An,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}var Fn,Hn,Vn=zn(_n("Inject",function(e){return{token:e}}),-1),Un=zn(_n("Optional"),8),Gn=zn(_n("SkipSelf"),4);function Wn(e){var t;return(null===(t=function(){if(void 0===Fn&&(Fn=null,ae.trustedTypes))try{Fn=ae.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Fn}())||void 0===t?void 0:t.createHTML(e))||e}function qn(e){var t;return(null===(t=function(){if(void 0===Hn&&(Hn=null,ae.trustedTypes))try{Hn=ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Hn}())||void 0===t?void 0:t.createHTML(e))||e}var Jn=function(){function e(t){Object(d.a)(this,e),this.changingThisBreaksApplicationSecurity=t}return Object(h.a)(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),e}(),Zn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Jn),Xn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Jn),Yn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Jn),Qn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Jn),Kn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Jn);function $n(e){return e instanceof Jn?e.changingThisBreaksApplicationSecurity:e}function er(e,t){var n=tr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function tr(e){return e instanceof Jn&&e.getTypeName()||null}function nr(e){return new Zn(e)}function rr(e){return new Xn(e)}function ir(e){return new Yn(e)}function ar(e){return new Qn(e)}function or(e){return new Kn(e)}var sr=function(){function e(t){Object(d.a)(this,e),this.inertDocumentHelper=t}return Object(h.a)(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Wn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),ur=function(){function e(t){if(Object(d.a)(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return Object(h.a)(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Wn(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Wn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),lr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hr(e){return(e=String(e)).match(lr)||e.match(cr)?e:"unsafe:"+e}function dr(e){var t,n={},r=Object(o.a)(e.split(","));try{for(r.s();!(t=r.n()).done;)n[t.value]=!0}catch(i){r.e(i)}finally{r.f()}return n}function pr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var fr,vr=dr("area,br,col,hr,img,wbr"),mr=dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yr=dr("rp,rt"),gr=pr(yr,mr),br=pr(vr,pr(mr,dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pr(yr,dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gr),_r=dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xr=dr("srcset"),wr=pr(_r,xr,dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sr=dr("script,style,template"),kr=function(){function e(){Object(d.a)(this,e),this.sanitizedSomething=!1,this.buf=[]}return Object(h.a)(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t,n=e.nodeName.toLowerCase();if(!br.hasOwnProperty(n))return this.sanitizedSomething=!0,!Sr.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=e.attributes,i=0;i<r.length;i++){var a=r.item(i),o=a.name,s=o.toLowerCase();if(wr.hasOwnProperty(s)){var u=a.value;_r[s]&&(u=hr(u)),xr[s]&&(t=u,u=(t=String(t)).split(",").map(function(e){return hr(e.trim())}).join(", ")),this.buf.push(" ",o,'="',Tr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();br.hasOwnProperty(t)&&!vr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Tr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Er=/([^\#-~ |!])/g;function Tr(e){return e.replace(/&/g,"&amp;").replace(Or,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Er,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Mr(e,t){var n=null;try{fr=fr||function(e){var t=new ur(e);return function(){try{return!!(new window.DOMParser).parseFromString(Wn(""),"text/html")}catch(e){return!1}}()?new sr(t):t}(e);var r=t?String(t):"";n=fr.getInertBodyElement(r);var i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==a);return Wn((new kr).sanitizeChildren(Cr(n)||n))}finally{if(n)for(var o=Cr(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function Cr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ar=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function jr(e){var t=Pr();return t?qn(t.sanitize(Ar.HTML,e)||""):er(e,"HTML")?qn($n(e)):Mr(We(),R(e))}function Lr(e){var t=Pr();return t?t.sanitize(Ar.URL,e)||"":er(e,"URL")?$n(e):hr(R(e))}function Pr(){var e=ut();return e&&e[12]}function Nr(e){return e.ngDebugContext}function Rr(e){return e.ngOriginalError}function Ir(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Dr=function(){function e(){Object(d.a)(this,e),this._console=console}return Object(h.a)(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Ir}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Nr(e)?Nr(e):this._findContext(Rr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Rr(e);t&&Rr(t);)t=Rr(t);return t}}]),e}();function zr(e,t){e.__ngContext__=t}var Br=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ae)}();function Fr(e){return e instanceof Function?e():e}var Hr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Vr(e,t){return(void 0)(e,t)}function Ur(e){var t=e[3];return je(t)?t[3]:t}function Gr(e){return qr(e[13])}function Wr(e){return qr(e[4])}function qr(e){for(;null!==e&&!je(e);)e=e[4];return e}function Jr(e,t,n,r,i){if(null!=r){var a,o=!1;je(r)?a=r:Ae(r)&&(o=!0,r=r[0]);var s=Ze(r);0===e&&null!==n?null==i?ti(t,n,s):ei(t,n,s,i||null,!0):1===e&&null!==n?ei(t,n,s,i||null,!0):2===e?function(e,t,n){var r=ri(e,t);r&&function(e,t,n,r){qe(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,r,i){var a=n[7];a!==Ze(n)&&Jr(t,e,r,a,i);for(var o=Ce;o<n.length;o++){var s=n[o];li(s[1],s,e,t,r,a)}}(t,e,a,n,i)}}function Zr(e,t){return qe(e)?e.createText(t):e.createTextNode(t)}function Xr(e,t,n){return qe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Yr(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,at(i,-1)),n.splice(r,1)}function Qr(e,t){if(!(e.length<=Ce)){var n,r=Ce+t,i=e[r];if(i){var a=i[17];null!==a&&a!==e&&Yr(a,i),t>0&&(e[r-1][4]=i[4]);var o=On(e,Ce+t);li(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Kr(e,t){if(!(256&t[2])){var n=t[11];qe(n)&&n.destroyNode&&li(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return $r(e[1],e);for(;t;){var n=null;if(Ae(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ae(t)&&$r(t[1],t),t=t[3];null===t&&(t=e),Ae(t)&&$r(t[1],t),n=t&&t[4]}t=n}}(t)}}function $r(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Vt)){var a=n[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(t):Ze(t[o]),u=r[i=n[a+2]],l=n[a+3];"boolean"==typeof l?s.removeEventListener(n[a],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),a+=2}else{var c=r[i=n[a+1]];n[a].call(c)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();t[7]=null}}(e,t),1===t[1].type&&qe(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&je(t[3])){n!==t[3]&&Yr(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function ei(e,t,n,r,i){qe(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function ti(e,t,n){qe(e)?e.appendChild(t,n):t.appendChild(n)}function ni(e,t,n,r,i){null!==r?ei(e,t,n,r,i):ti(e,t,n)}function ri(e,t){return qe(e)?e.parentNode(t):t.parentNode}function ii(e,t,n,r){var i=function(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===ee.None||i===ee.Emulated)return null}return Ye(r,n)}(e,t.parent,n)}(e,r,t),a=t[11],o=function(e,t,n){return function(e,t,n){return 40&e.type?Ye(e,n):null}(e,0,n)}(r.parent||t[6],0,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)ni(a,i,n[s],o,!1);else ni(a,i,n,o,!1)}function ai(e,t){if(null!==t){var n=t.type;if(3&n)return Ye(t,e);if(4&n)return si(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return ai(e,r);var i=e[t.index];return je(i)?si(-1,i):Ze(i)}if(32&n)return Vr(t,e)()||Ze(e[t.index]);var a=oi(e,t);return null!==a?Array.isArray(a)?a[0]:ai(Ur(e[16]),a):ai(e,t.next)}return null}function oi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function si(e,t){var n=Ce+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return ai(r,i)}return t[7]}function ui(e,t,n,r,i,a,o){for(;null!=n;){var s=r[n.index],u=n.type;if(o&&0===t&&(s&&zr(Ze(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)ui(e,t,n.child,r,i,a,!1),Jr(t,e,i,s,a);else if(32&u){for(var l=Vr(n,r),c=void 0;c=l();)Jr(t,e,i,c,a);Jr(t,e,i,s,a)}else 16&u?ci(e,t,r,n,i,a):Jr(t,e,i,s,a);n=o?n.projectionNext:n.next}}function li(e,t,n,r,i,a){ui(n,r,e.firstChild,t,i,a,!1)}function ci(e,t,n,r,i,a){var o=n[16],s=o[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Jr(t,e,i,s[u],a);else ui(e,t,s,o[3],i,a,!0)}function hi(e,t,n){qe(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function di(e,t,n){qe(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function pi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}var fi="ng-template";function vi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==pi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function mi(e){return 4===e.type&&e.value!==fi}function yi(e,t,n){return t===(4!==e.type||n?e.value:fi)}function gi(e,t,n){for(var r=4,i=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(Gt(e[t]))return t;return e.length}(i),o=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!yi(e,u,n)||""===u&&1===t.length){if(bi(r))return!1;o=!0}}else{var l=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!vi(e.attrs,l,n)){if(bi(r))return!1;o=!0}continue}var c=_i(8&r?"class":u,i,mi(e),n);if(-1===c){if(bi(r))return!1;o=!0;continue}if(""!==l){var h;h=c>a?"":i[c+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==pi(d,l,0)||2&r&&l!==h){if(bi(r))return!1;o=!0}}}}else{if(!o&&!bi(r)&&!bi(u))return!1;if(o&&bi(u))continue;o=!1,r=u|1&r}}return bi(r)||o}function bi(e){return 0==(1&e)}function _i(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var a=!1;i<t.length;){var o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function xi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(gi(e,t[r],n))return!0;return!1}function wi(e,t){return e?":not("+t.trim()+")":t}function Si(e){for(var t=e[0],n=1,r=2,i="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&r){var s=e[++n];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||bi(o)||(t+=wi(a,i),i=""),r=o,a=a||!bi(r);n++}return""!==i&&(t+=wi(a,i)),t}var ki={};function Oi(e){Ei(lt(),ut(),Lt()+e,mt())}function Ei(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&It(t,i,n)}else{var a=e.preOrderHooks;null!==a&&Dt(t,a,0,n)}Pt(n)}function Ti(e,t){return e<<17|t<<2}function Mi(e){return e>>17&32767}function Ci(e){return 2|e}function Ai(e){return(131068&e)>>2}function ji(e,t){return-131069&e|t<<2}function Li(e){return 1|e}function Pi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var a=e.data[i];wt(n[r]),a.contentQueries(2,t[i],i)}}}function Ni(e,t,n,r,i,a,o,s,u,l){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,it(c),c[3]=c[15]=e,c[8]=n,c[10]=o||e&&e[10],c[11]=s||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=a,c[16]=2==t.type?e[16]:c,c}function Ri(e,t,n,r,i){var a,o,s=e.data[t];if(null===s)s=function(e,t,n,r,i){var a=dt(),o=ft(),s=e.data[t]=function(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}(e,t,n,r,i),ot.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=(a=ot.lFrame).currentTNode,a.isParent?o:o.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return pt(s,!0),s}function Ii(e,t,n,r){if(0===n)return-1;for(var i=t.length,a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Di(e,t,n){Ot(t);try{var r=e.viewQuery;null!==r&&pa(1,r,n);var i=e.template;null!==i&&Fi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Pi(e,t),e.staticViewQueries&&pa(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)ua(e,t[n])}(t,a)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,At()}}function zi(e,t,n,r){var i=t[2];if(256!=(256&i)){Ot(t);var a=mt();try{it(t),ot.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Fi(e,t,n,2,r);var o=3==(3&i);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&It(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Dt(t,u,0,null),zt(t,0)}if(function(e){for(var t=Gr(e);null!==t;t=Wr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&at(i[3],1),i[2]|=1024}}(t),function(e){for(var t=Gr(e);null!==t;t=Wr(t))for(var n=Ce;n<t.length;n++){var r=t[n],i=r[1];nt(r)&&zi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Pi(e,t),!a)if(o){var l=e.contentCheckHooks;null!==l&&It(t,l)}else{var c=e.contentHooks;null!==c&&Dt(t,c,1),zt(t,1)}!function(e,t){var n,r,i=e.hostBindingOpCodes;if(null!==i)try{for(var a=0;a<i.length;a++){var o=i[a];if(o<0)Pt(~o);else{var s=o,u=i[++a],l=i[++a];n=s,r=void 0,(r=ot.lFrame).bindingIndex=r.bindingRootIndex=u,_t(n),l(2,t[s])}}}finally{Pt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)oa(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&pa(2,d,r),!a)if(o){var p=e.viewCheckHooks;null!==p&&It(t,p)}else{var f=e.viewHooks;null!==f&&Dt(t,f,2),zt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,at(t[3],-1))}finally{At()}}}function Bi(e,t,n,r){var i=t[10],a=!mt(),o=tt(t);try{a&&!o&&i.begin&&i.begin(),o&&Di(e,t,r),zi(e,t,n,r)}finally{a&&!o&&i.end&&i.end()}}function Fi(e,t,n,r,i){var a=Lt(),o=2&r;try{Pt(-1),o&&t.length>Me&&Ei(e,t,Me,mt()),n(r,i)}finally{Pt(a)}}function Hi(e,t,n){if(Le(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}function Vi(e,t,n){st()&&(function(e,t,n,r){var i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||en(n,t),zr(r,t);for(var o=n.initialInputs,s=i;s<a;s++){var u=e.data[s],l=Re(u);l&&na(t,n,u);var c=pn(t,e,s,n);zr(c,t),null!==o&&ra(0,s-i,c,u,0,o),l&&($e(n.index,t)[8]=c)}}(e,t,n,Ye(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,a=n.index,o=ot.lFrame.currentDirectiveIndex;try{Pt(a);for(var s=r;s<i;s++){var u=e.data[s],l=t[s];_t(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Qi(u,l)}}finally{Pt(-1),_t(o)}}(e,t,n))}function Ui(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye,r=t.localNames;if(null!==r)for(var i=t.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?n(t,e):e[o];e[i++]=s}}function Gi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wi(e,t,n,r,i,a,o,s,u,l){var c=Me+r,h=c+i,d=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:ki);return n}(c,h),p="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1}}function qi(e,t,n,r){var i=va(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&ma(e).push(r,i.length-1))}function Ji(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Zi(e,t,n,r,i,a,o,s){var u,l,c=Ye(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(ga(e,n,u,r,i),Pe(t)&&function(e,t){var n=$e(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(l=r)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,i=null!=o?o(i,t.value||"",r):i,qe(a)?a.setProperty(c,r,i):Wt(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Xi(e,t,n,r){var i=!1;if(st()){var a=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];xi(n,o.selectors,!1)&&(i||(i=[]),an(en(n,t),e,o.type),Re(o)?(Ki(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==a){i=!0,ea(n,e.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=Ii(e,t,a.length,null),d=0;d<a.length;d++){var p=a[d];n.mergedAttrs=qt(n.mergedAttrs,p.hostAttrs),ta(e,n,t,h,p),$i(h,p,o),null!==p.contentQueries&&(n.flags|=8),null===p.hostBindings&&null===p.hostAttrs&&0===p.hostVars||(n.flags|=128);var f=p.type.prototype;!l&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),c||!f.ngOnChanges&&!f.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,a=[],o=null,s=null,u=t.directiveStart;u<n;u++){var l=r[u],c=l.inputs,h=null===i||mi(t)?null:ia(c,i);a.push(h),o=Ji(c,u,o),s=Ji(l.outputs,u,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var a=n[t[i+1]];if(null==a)throw new N("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],a)}}(n,r,o)}return n.mergedAttrs=qt(n.mergedAttrs,n.attrs),i}function Yi(e,t,n,r,i,a){var o=a.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,o)}}function Qi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ki(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function $i(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Re(t)&&(n[""]=e)}}function ea(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ta(e,t,n,r,i){e.data[r]=i;var a=i.factory||(i.factory=Ie(i.type)),o=new Vt(a,Re(i),null);e.blueprint[r]=o,n[r]=o,Yi(e,t,0,r,Ii(e,n,i.hostVars,ki),i)}function na(e,t,n){var r=Ye(t,e),i=Gi(n),a=e[10],o=la(e,Ni(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=o}function ra(e,t,n,r,i,a){var o=a[t];if(null!==o)for(var s=r.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],h=o[u++];null!==s?r.setInput(n,h,l,c):n[c]=h}}function ia(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function aa(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function oa(e,t){var n=$e(t,e);if(nt(n)){var r=n[1];80&n[2]?zi(r,n,r.template,n[8]):n[5]>0&&sa(n)}}function sa(e){for(var t=Gr(e);null!==t;t=Wr(t))for(var n=Ce;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];zi(i,r,i.template,r[8])}else r[5]>0&&sa(r)}var a=e[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=$e(a[o],e);nt(s)&&s[5]>0&&sa(s)}}function ua(e,t){var n=$e(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Di(r,n,n[8])}function la(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ca(e){for(;e;){e[2]|=64;var t=Ur(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ha(e,t,n){var r=t[10];r.begin&&r.begin();try{zi(e,t,e.template,n)}catch(i){throw ya(t,i),i}finally{r.end&&r.end()}}function da(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=et(n),i=r[1];Bi(i,r,i.template,n)}}(e[8])}function pa(e,t,n){wt(0),t(e,n)}var fa=function(){return Promise.resolve(null)}();function va(e){return e[7]||(e[7]=[])}function ma(e){return e.cleanup||(e.cleanup=[])}function ya(e,t){var n=e[9],r=n?n.get(Dr,null):null;r&&r.handleError(t)}function ga(e,t,n,r,i){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],u=t[o],l=e.data[o];null!==l.setInput?l.setInput(u,i,r,s):u[s]=i}}function ba(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?i=A(i,s):2==a&&(r=A(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var _a=new xn("INJECTOR",-1),xa=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn;if(t===Cn){var n=new Error("NullInjectorError: No provider for ".concat(C(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),wa=new xn("Set Injector scope."),Sa={},ka={},Oa=[],Ea=void 0;function Ta(){return void 0===Ea&&(Ea=new xa),Ea}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Ca(e,n,t||Ta(),r)}var Ca=function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&Sn(n,function(e){return i.processProvider(e,t,n)}),Sn([t],function(e){return i.processInjectorType(e,[],o)}),this.records.set(_a,ja(void 0,this));var s=this.records.get(wa);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:C(t))}return Object(h.a)(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.Default;this.assertNotDestroyed();var r=Nn(this);try{if(!(n&Z.SkipSelf)){var i=this.records.get(e);if(void 0===i){var a=Na(e)&&F(e);i=a&&this.injectableDefInScope(a)?ja(Aa(e),Sa):null,this.records.set(e,i)}if(null!=i)return this.hydrate(e,i)}var o=n&Z.Self?Ta():this.parent;return o.get(e,t=n&Z.Optional&&t===Cn?null:t)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(C(e)),r)throw u;return Bn(u,e,"R3InjectorError",this.source)}throw u}finally{Nn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(C(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=P(e)))return!1;var i=V(e),a=null==i&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(i=V(a)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(o);try{Sn(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var l=function(e){var t=u[e],n=t.ngModule,i=t.providers;Sn(i,function(e){return r.processProvider(e,n,i||Oa)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(o);var h=Ie(o)||function(){return new o};this.records.set(o,ja(h,Sa));var d=i.providers;if(null!=d&&!s){var p=e;Sn(d,function(e){return r.processProvider(e,p,d)})}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Pa(e=P(e))?e:P(e&&e.provide),i=function(e,t,n){return La(e)?ja(void 0,e.useValue):ja(function(e,t,n){var r,i=void 0;if(Pa(e)){var a=P(e);return Ie(a)||Aa(a)}if(La(e))i=function(){return P(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,Object(s.a)(Dn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return In(P(e.useExisting))};else{var o=P(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ie(o)||Aa(o);i=function(){return c(o,Object(s.a)(Dn(e.deps)))}}return i}(e),Sa)}(e);if(Pa(e)||!0!==e.multi)this.records.get(r);else{var a=this.records.get(r);a||((a=ja(void 0,Sa,!0)).factory=function(){return Dn(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Sa&&(t.value=ka,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function Aa(e){var t=F(e),n=null!==t?t.factory:Ie(e);if(null!==n)return n;if(e instanceof xn)throw new Error("Token ".concat(C(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(C(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[G]||e[q]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ja(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function La(e){return null!==e&&"object"==typeof e&&Ln in e}function Pa(e){return"function"==typeof e}function Na(e){return"function"==typeof e||"object"==typeof e&&e instanceof xn}var Ra=function(e,t,n){return function(e){var t=Ma(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return t._resolveInjectorDefTypes(),t}({name:n},t,e,n)},Ia=function(){var e=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Ra(e,t,""):Ra(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Cn,e.NULL=new xa,e.\u0275prov=z({token:e,providedIn:"any",factory:function(){return In(_a)}}),e.__NG_ELEMENT_ID__=-1,e}();function Da(e,t){Rt(et(e)[1],ht())}var za=null;function Ba(){if(!za){var e=ae.Symbol;if(e&&e.iterator)za=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(za=r)}}return za}var Fa=function(){function e(t){Object(d.a)(this,e),this.wrapped=t}return Object(h.a)(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ha(e){return!!Va(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ba()in e)}function Va(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ua(e,t,n){return e[t]=n}function Ga(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Wa(e,t,n,r){return Ga(e,bt(),n)?t+R(n)+r:ki}function qa(e,t,n,r,i,a,o,s){var u=ut(),l=lt(),c=e+Me,h=l.firstCreatePass?function(e,t,n,r,i,a,o,s,u){var l=t.consts,c=Ri(t,e,4,o||null,rt(l,s));Xi(t,n,c,rt(l,u)),Rt(t,c);var h=c.tViews=Wi(2,c,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,l,u,t,n,r,i,a,o):l.data[c];pt(h,!1);var d=u[11].createComment("");ii(l,u,d,h),zr(d,u),la(u,u[c]=aa(d,u,d,h)),Ne(h)&&Vi(l,u,h),null!=o&&Ui(u,h,s)}function Ja(e){return Ke(ot.lFrame.contextLView,Me+e)}function Za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.Default,n=ut();if(null===n)return In(e,t);var r=ht();return un(r,n,P(e),t)}function Xa(e,t,n){var r=ut();return Ga(r,bt(),t)&&Zi(lt(),Nt(),r,e,t,r[11],n,!1),Xa}function Ya(e,t,n,r,i){var a=i?"class":"style";ga(e,n,t.inputs[a],a,r)}function Qa(e,t,n,r){var i=ut(),a=lt(),o=Me+e,s=i[11],u=i[o]=Xr(s,t,ot.lFrame.currentNamespace),l=a.firstCreatePass?function(e,t,n,r,i,a,o){var s=t.consts,u=Ri(t,e,2,i,rt(s,a));return Xi(t,n,u,rt(s,o)),null!==u.attrs&&ba(u,u.attrs,!1),null!==u.mergedAttrs&&ba(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,a,i,0,t,n,r):a.data[o];pt(l,!0);var c=l.mergedAttrs;null!==c&&Ut(s,u,c);var h=l.classes;null!==h&&di(s,u,h);var d=l.styles;null!==d&&hi(s,u,d),64!=(64&l.flags)&&ii(a,i,u,l),0===ot.lFrame.elementDepthCount&&zr(u,i),ot.lFrame.elementDepthCount++,Ne(l)&&(Vi(a,i,l),Hi(a,l,i)),null!==r&&Ui(i,l)}function Ka(){var e=ht();ft()?vt():pt(e=e.parent,!1);var t=e;ot.lFrame.elementDepthCount--;var n=lt();n.firstCreatePass&&(Rt(n,e),Le(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ya(n,t,ut(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ya(n,t,ut(),t.stylesWithoutHost,!1)}function $a(e,t,n,r){Qa(e,t,n,r),Ka()}function eo(e,t,n){var r=ut(),i=lt(),a=e+Me,o=i.firstCreatePass?function(e,t,n,r,i){var a=t.consts,o=rt(a,r),s=Ri(t,e,8,"ng-container",o);return null!==o&&ba(s,o,!0),Xi(t,n,s,rt(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,i,r,t,n):i.data[a];pt(o,!0);var s=r[a]=r[11].createComment("");ii(i,r,s,o),zr(s,r),Ne(o)&&(Vi(i,r,o),Hi(i,o,r)),null!=n&&Ui(r,o)}function to(){var e=ht(),t=lt();ft()?vt():pt(e=e.parent,!1),t.firstCreatePass&&(Rt(t,e),Le(e)&&t.queries.elementEnd(e))}function no(){return ut()}function ro(e){return!!e&&"function"==typeof e.then}function io(e){return!!e&&"function"==typeof e.subscribe}function ao(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ut(),a=lt(),o=ht();return so(a,i,i[11],o,e,t,n,r),ao}function oo(e,t,n,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===n&&i[a+1]===r){var s=t[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}function so(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Ne(r),l=e.firstCreatePass,c=l&&ma(e),h=va(t),d=!0;if(3&r.type){var p=Ye(r,t),f=s?s(p):oe,v=f.target||p,m=h.length,y=s?function(e){return s(Ze(e[r.index])).target}:r.index;if(qe(n)){var g=null;if(!s&&u&&(g=oo(e,t,i,r.index)),null!==g){var b=g.__ngLastListenerFn__||g;b.__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,d=!1}else{a=lo(r,t,0,a,!1);var _=n.listen(f.name||v,i,a);h.push(a,_),c&&c.push(i,y,m,m+1)}}else a=lo(r,t,0,a,!0),v.addEventListener(i,a,o),h.push(a),c&&c.push(i,y,m,o)}else a=lo(r,t,0,a,!1);var x,w=r.outputs;if(d&&null!==w&&(x=w[i])){var S=x.length;if(S)for(var k=0;k<S;k+=2){var O=x[k],E=x[k+1],T=t[O],M=T[E],C=M.subscribe(a),A=h.length;h.push(a,C),c&&c.push(i,r.index,A,-(A+1))}}}function uo(e,t,n,r){try{return!1!==n(r)}catch(i){return ya(e,i),!1}}function lo(e,t,n,r,i){return function n(a){if(a===Function)return r;var o=2&e.flags?$e(e.index,t):t;0==(32&t[2])&&ca(o);for(var s=uo(t,0,r,a),u=n.__ngNextListenerFn__;u;)s=uo(t,0,u,a)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return jt(e)}function ho(e,t,n){return po(e,"",t,"",n),ho}function po(e,t,n,r,i){var a=ut(),o=Wa(a,t,n,r);return o!==ki&&Zi(lt(),Nt(),a,e,o,a[11],i,!1),po}function fo(e,t,n,r,i){for(var a=e[n+1],o=null===t,s=r?Mi(a):Ai(a),u=!1;0!==s&&(!1===u||o);){var l=e[s+1];vo(e[s],t)&&(u=!0,e[s+1]=r?Li(l):Ci(l)),s=r?Mi(l):Ai(l)}u&&(e[n+1]=r?Ci(a):Li(a))}function vo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Mn(e,t)>=0}var mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yo(e){return e.substring(mo.key,mo.keyEnd)}function go(e){return e.substring(mo.value,mo.valueEnd)}function bo(e,t){var n=mo.textEnd;return n===t?-1:(t=mo.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,mo.key=t,n),wo(e,t,n))}function _o(e,t){var n=mo.textEnd,r=mo.key=wo(e,t,n);return n===r?-1:(r=mo.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=So(e,r,n),r=mo.value=wo(e,r,n),r=mo.valueEnd=function(e,t,n){for(var r=-1,i=-1,a=-1,o=t,s=o;o<n;){var u=e.charCodeAt(o++);if(59===u)return s;34===u||39===u?s=o=ko(e,u,o,n):t===o-4&&85===a&&82===i&&76===r&&40===u?s=o=ko(e,41,o,n):u>32&&(s=o),a=i,i=r,r=-33&u}return s}(e,r,n),So(e,r,n))}function xo(e){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=e.length}function wo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function So(e,t,n,r){return(t=wo(e,t,n))<n&&t++,t}function ko(e,t,n,r){for(var i=-1,a=n;a<r;){var o=e.charCodeAt(a++);if(o==t&&92!==i)return a;i=92==o&&92===i?0:o}throw new Error}function Oo(e){Co(Po,Eo,e,!1)}function Eo(e,t){for(var n=function(e){return xo(e),_o(e,wo(e,0,mo.textEnd))}(t);n>=0;n=_o(t,n))Po(e,yo(t),go(t))}function To(e){Co(En,Mo,e,!0)}function Mo(e,t){for(var n=function(e){return xo(e),bo(e,wo(e,0,mo.textEnd))}(t);n>=0;n=bo(t,n))En(e,yo(t),!0)}function Co(e,t,n,r){var i,a,o=lt(),s=(a=(i=ot.lFrame).bindingIndex,i.bindingIndex=i.bindingIndex+2,a);o.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var a=i[Lt()],o=Ao(e,n);Do(a,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=ot.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Lo(n=jo(null,e,t,n,r),t.attrs,r),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=jo(i,e,t,n,r),null===a){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Ai(r))return e[Mi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Mi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Lo(s=jo(null,e,t,s[1],r),t.attrs,r))}else a=function(e,t,n){for(var r=void 0,i=t.directiveEnd,a=1+t.directiveStylingLast;a<i;a++)r=Lo(r,e[a].hostAttrs,n);return Lo(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function(e,t,n,r,i,a){var o=a?t.classBindings:t.styleBindings,s=Mi(o),u=Ai(o);e[r]=n;var l,c=!1;if(Array.isArray(n)?(null===(l=n[1])||Mn(n,l)>0)&&(c=!0):l=n,i)if(0!==u){var h=Mi(e[s+1]);e[r+1]=Ti(h,s),0!==h&&(e[h+1]=ji(e[h+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Ti(s,0),0!==s&&(e[s+1]=ji(e[s+1],r)),s=r;else e[r+1]=Ti(u,0),0===s?s=r:e[u+1]=ji(e[u+1],r),u=r;c&&(e[r+1]=Ci(e[r+1])),fo(e,l,r,!0),fo(e,l,r,!1),function(e,t,n,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Mn(a,t)>=0&&(n[r+1]=Li(n[r+1]))}(t,l,e,r,a),o=Ti(s,u),a?t.classBindings=o:t.styleBindings=o}(i,a,t,n,o,r)}}(o,null,s,r);var u=ut();if(n!==ki&&Ga(u,s,n)){var l=o.data[Lt()];if(Do(l,r)&&!Ao(o,s)){var c=r?l.classesWithoutHost:l.stylesWithoutHost;null!==c&&(n=A(c,n||"")),Ya(o,l,u,n,r)}else!function(e,t,n,r,i,a,o,s){i===ki&&(i=se);for(var u=0,l=0,c=0<i.length?i[0]:null,h=0<a.length?a[0]:null;null!==c||null!==h;){var d=u<i.length?i[u+1]:void 0,p=l<a.length?a[l+1]:void 0,f=null,v=void 0;c===h?(u+=2,l+=2,d!==p&&(f=h,v=p)):null===h||null!==c&&c<h?(u+=2,f=c):(l+=2,f=h,v=p),null!==f&&No(e,t,n,r,f,v,o,s),c=u<i.length?i[u]:null,h=l<a.length?a[l]:null}}(o,l,u,u[11],u[s+1],u[s+1]=function(e,t,n){if(null==n||""===n)return se;var r=[],i=$n(n);if(Array.isArray(i))for(var a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function Ao(e,t){return t>=e.expandoStartIndex}function jo(e,t,n,r,i){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(r=Lo(r,(a=t[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Lo(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),En(e,o,!!n||t[++a]))}return void 0===e?null:e}function Po(e,t,n){En(e,t,$n(n))}function No(e,t,n,r,i,a,o,s){if(3&t.type){var u=e.data,l=u[s+1];Io(1==(1&l)?Ro(u,t,n,i,Ai(l),o):void 0)||(Io(a)||2==(2&l)&&(a=Ro(u,null,n,i,s,o)),function(e,t,n,r,i){var a=qe(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{var o=-1===r.indexOf("-")?void 0:Hr.DashCase;if(null==i)a?e.removeStyle(n,r,o):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=Hr.Important),a?e.setStyle(n,r,i,o):n.style.setProperty(r,i,s?"important":"")}}}(r,o,Xe(Lt(),n),i,a))}}function Ro(e,t,n,r,i,a){for(var o=null===t,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,h=null===c,d=n[i+1];d===ki&&(d=h?se:void 0);var p=h?Tn(d,r):c===r?d:void 0;if(l&&!Io(p)&&(p=Tn(u,r)),Io(p)&&(s=p,o))return s;var f=e[i+1];i=o?Mi(f):Ai(f)}if(null!==t){var v=a?t.residualClasses:t.residualStyles;null!=v&&(s=Tn(v,r))}return s}function Io(e){return void 0!==e}function Do(e,t){return 0!=(e.flags&(t?16:32))}function zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ut(),r=lt(),i=e+Me,a=r.firstCreatePass?Ri(r,i,1,t,null):r.data[i],o=n[i]=Zr(n[11],t);ii(r,n,o,a),pt(a,!1)}function Bo(e){return Fo("",e,""),Bo}function Fo(e,t,n){var r=ut(),i=Wa(r,e,t,n);return i!==ki&&function(e,t,n){var r=Xe(t,e);!function(e,t,n){qe(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,Lt(),i),Fo}var Ho=void 0,Vo=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Uo={};function Go(e,t,n){"string"!=typeof t&&(n=t,t=e[Xo.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Uo[t]=e,n&&(Uo[t][Xo.ExtraData]=n)}function Wo(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Zo(t);if(n)return n;var r=t.split("-")[0];if(n=Zo(r))return n;if("en"===r)return Vo;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function qo(e){return Wo(e)[Xo.CurrencyCode]||null}function Jo(e){return Wo(e)[Xo.PluralCase]}function Zo(e){return e in Uo||(Uo[e]=ae.ng&&ae.ng.common&&ae.ng.common.locales&&ae.ng.common.locales[e]),Uo[e]}var Xo=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),Yo="en-US";function Qo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(n,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ko=function e(){Object(d.a)(this,e)},$o=function e(){Object(d.a)(this,e)},es=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(C(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),ts=function(){var e=function e(){Object(d.a)(this,e)};return e.NULL=new es,e}();function ns(){}function rs(e,t){return new as(Ye(e,t))}var is=function(){return rs(ht(),ut())},as=function(){var e=function e(t){Object(d.a)(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=is,e}();function os(e){return e instanceof as?e.nativeElement:e}var ss=function e(){Object(d.a)(this,e)},us=function(){var e=function e(){Object(d.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return ls()},e}(),ls=function(){var e=ut(),t=$e(ht().index,e);return function(e){return e[11]}(Ae(t)?t:e)},cs=function(){var e=function e(){Object(d.a)(this,e)};return e.\u0275prov=z({token:e,providedIn:"root",factory:function(){return null}}),e}(),hs=function e(t){Object(d.a)(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},ds=new hs("11.2.14"),ps=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"supports",value:function(e){return Ha(e)}},{key:"create",value:function(e){return new vs(e)}}]),e}(),fs=function(e,t){return t},vs=function(){function e(t){Object(d.a)(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fs}return Object(h.a)(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var a=!n||t&&t.currentIndex<bs(n,r,i)?t:n,o=bs(a,r,i),s=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{i||(i=[]);var u=o-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,d=h+c;l<=d&&d<u&&(i[c]=h+1)}i[a.previousIndex]=l-u}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ha(e))throw new Error("Error trying to diff '".concat(C(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==a&&Object.is(a.trackById,i)?(o&&(a=this._verifyReinsertion(a,r,i,s)),Object.is(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,i,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ba()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,i)?(o&&(a=t._verifyReinsertion(a,e,i,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,i,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new ms(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new gs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),ms=function e(t,n){Object(d.a)(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ys=function(){function e(){Object(d.a)(this,e),this._head=null,this._tail=null}return Object(h.a)(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),gs=function(){function e(){Object(d.a)(this,e),this.map=new Map}return Object(h.a)(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ys,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function bs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var _s=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"supports",value:function(e){return e instanceof Map||Va(e)}},{key:"create",value:function(){return new xs}}]),e}(),xs=function(){function e(){Object(d.a)(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(h.a)(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Va(e)))throw new Error("Error trying to diff '".concat(C(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var a=new ws(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ws=function e(t){Object(d.a)(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Ss(){return new ks([new ps])}var ks=function(){var e=function(){function e(t){Object(d.a)(this,e),this.factories=t}return Object(h.a)(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Ss())},deps:[[e,new Gn,new Un]]}}}]),e}();return e.\u0275prov=z({token:e,providedIn:"root",factory:Ss}),e}();function Os(){return new Es([new _s])}var Es=function(){var e=function(){function e(t){Object(d.a)(this,e),this.factories=t}return Object(h.a)(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Os())},deps:[[e,new Gn,new Un]]}}}]),e}();return e.\u0275prov=z({token:e,providedIn:"root",factory:Os}),e}();function Ts(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=t[n.index];if(null!==a&&r.push(Ze(a)),je(a))for(var o=Ce;o<a.length;o++){var u=a[o],l=u[1].firstChild;null!==l&&Ts(u[1],u,l,r)}var c=n.type;if(8&c)Ts(e,t,n.child,r);else if(32&c)for(var h=Vr(n,t),d=void 0;d=h();)r.push(d);else if(16&c){var p=oi(t,n);if(Array.isArray(p))r.push.apply(r,Object(s.a)(p));else{var f=Ur(t[16]);Ts(f[1],f,p,r,!0)}}n=i?n.projectionNext:n.next}return r}var Ms=function(){function e(t,n){Object(d.a)(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return Object(h.a)(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Ts(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(je(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Qr(e,n),On(t,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){qi(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){ca(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ha(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){yt(!0);try{ha(e,t,n)}finally{yt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,li(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Cs=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e))._view=e,r}return Object(h.a)(n,[{key:"detectChanges",value:function(){da(this._view)}},{key:"checkNoChanges",value:function(){!function(e){yt(!0);try{da(e)}finally{yt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ms),As=Ls,js=function(){var e=function e(){Object(d.a)(this,e)};return e.__NG_ELEMENT_ID__=As,e.__ChangeDetectorRef__=!0,e}();function Ls(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ps(ht(),ut(),e)}function Ps(e,t,n){if(!n&&Pe(e)){var r=$e(e.index,t);return new Ms(r,r)}return 47&e.type?new Ms(t[16],t):null}var Ns=[new _s],Rs=new ks([new ps]),Is=new Es(Ns),Ds=function(){return Fs(ht(),ut())},zs=function(){var e=function e(){Object(d.a)(this,e)};return e.__NG_ELEMENT_ID__=Ds,e}(),Bs=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this))._declarationLView=e,a._declarationTContainer=r,a.elementRef=i,a}return Object(h.a)(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Ni(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Di(t,n,e),new Ms(n)}}]),n}(zs);function Fs(e,t){return 4&e.type?new Bs(t,e,rs(e,t)):null}var Hs=function e(){Object(d.a)(this,e)},Vs=function e(){Object(d.a)(this,e)},Us=function(){return Zs(ht(),ut())},Gs=function(){var e=function e(){Object(d.a)(this,e)};return e.__NG_ELEMENT_ID__=Us,e}(),Ws=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this))._lContainer=e,a._hostTNode=r,a._hostLView=i,a}return Object(h.a)(n,[{key:"element",get:function(){return rs(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new yn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=rn(this._hostTNode,this._hostLView);if(Zt(e)){var t=Yt(e,this._hostLView),n=Xt(e);return new yn(t[1].data[n+8],t)}return new yn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=qs(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-Ce}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var a=n||this.parentInjector;if(!i&&null==e.ngModule&&a){var o=a.get(Hs,null);o&&(i=o)}var s=e.create(a,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(je(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var a=n[3],o=new Ws(a,a[6],a[3]);o.detach(o.indexOf(e))}}var s=this._adjustIndex(t),u=this._lContainer;!function(e,t,n,r){var i=Ce+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-Ce?(t[4]=n[i],kn(n,Ce+r,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,u,s);var l=si(s,u),c=n[11],h=ri(c,u[7]);return null!==h&&function(e,t,n,r,i,a){r[0]=i,r[6]=t,li(e,r,n,1,i,a)}(r,u[6],c,n,h,l),e.attachToViewContainerRef(),kn(Js(u),s,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=qs(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Qr(this._lContainer,t);n&&(On(Js(this._lContainer),t),Kr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Qr(this._lContainer,t);return n&&null!=On(Js(this._lContainer),t)?new Ms(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Gs);function qs(e){return e[8]}function Js(e){return e[8]||(e[8]=[])}function Zs(e,t){var n,r=t[e.index];if(je(r))n=r;else{var i;if(8&e.type)i=Ze(r);else{var a=t[11];i=a.createComment("");var o=Ye(e,t);ei(a,ri(a,o),i,function(e,t){return qe(e)?e.nextSibling(t):t.nextSibling}(a,o),!1)}t[e.index]=n=aa(r,t,i,e),la(t,n)}return new Ws(n,e,t)}var Xs={},Ys=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).ngModule=e,r}return Object(h.a)(n,[{key:"resolveComponentFactory",value:function(e){var t=Ee(e);return new $s(t,this.ngModule)}}]),n}(ts);function Qs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Ks=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Br}}),$s=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Si).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return Object(h.a)(n,[{key:"inputs",get:function(){return Qs(this.componentDef.inputs)}},{key:"outputs",get:function(){return Qs(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,a,o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var a=e.get(n,Xs,i);return a!==Xs||r===Xs?a:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(ss,Je),u=o.get(cs,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(qe(e))return e.selectRootElement(t,n===ee.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):Xr(s.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,p={components:[],scheduler:Br,clean:fa,playerHandler:null,flags:0},f=Wi(0,null,null,1,0,null,null,null,null,null),v=Ni(null,f,p,d,null,null,s,l,u,o);Ot(v);try{var m=function(e,t,n,r,i,a){var o=n[1];n[20]=e;var s=Ri(o,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(ba(s,u,!0),null!==e&&(Ut(i,e,u),null!==s.classes&&di(i,e,s.classes),null!==s.styles&&hi(i,e,s.styles)));var l=r.createRenderer(e,t),c=Ni(n,Gi(t),null,t.onPush?64:16,n[20],s,r,l,null,null);return o.firstCreatePass&&(an(en(s,n),o,t.type),Ki(o,s),ea(s,n.length,1)),la(n,c),n[20]=c}(h,this.componentDef,v,s,l);if(h)if(n)Ut(l,h,["ng-version",ds.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!bi(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),g=y.attrs,b=y.classes;g&&Ut(l,h,g),b&&b.length>0&&di(l,h,b.join(" "))}if(a=Qe(f,Me),void 0!==t)for(var _=a.projection=[],x=0;x<this.ngContentSelectors.length;x++){var w=t[x];_.push(null!=w?Array.from(w):null)}i=function(e,t,n,r,i){var a=n[1],o=function(e,t,n){var r=ht();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ta(e,r,t,Ii(e,t,1,null),n));var i=pn(t,e,r.directiveStart,r);zr(i,t);var a=Ye(r,t);return a&&zr(a,t),i}(a,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(function(e){return e(o,t)}),t.contentQueries){var s=ht();t.contentQueries(1,o,s.directiveStart)}var u=ht();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Pt(u.index),Yi(n[1],u,0,u.directiveStart,u.directiveEnd,t),Qi(t,o)),o}(m,this.componentDef,v,p,[Da]),Di(f,v,null)}finally{At()}return new eu(this.componentType,i,rs(a,v),v,a)}}]),n}($o),eu=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a,o){var s;return Object(d.a)(this,n),(s=t.call(this)).location=i,s._rootLView=a,s._tNode=o,s.instance=r,s.hostView=s.changeDetectorRef=new Cs(a),s.componentType=e,s}return Object(h.a)(n,[{key:"injector",get:function(){return new yn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(Ko),tu=new Map,nu=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=Object(a.a)(i),i.destroyCbs=[],i.componentFactoryResolver=new Ys(Object(a.a)(i));var o=Te(e),s=e[pe]||null;return s&&Qo(s),i._bootstrapComponents=Fr(o.bootstrap),i._r3Injector=Ma(e,r,[{provide:Hs,useValue:Object(a.a)(i)},{provide:ts,useValue:i.componentFactoryResolver}],C(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return Object(h.a)(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.Default;return e===Ia||e===Hs||e===_a?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Hs),ru=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var r,i,a;return Object(d.a)(this,n),(r=t.call(this)).moduleType=e,null!==Te(e)&&(i=e,a=new Set,function e(t){var n=Te(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(C(t)," vs ").concat(C(t.name)))}(r,tu.get(r),t),tu.set(r,t));var i,s=Fr(n.imports),u=Object(o.a)(s);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.has(l)||(a.add(l),e(l))}}catch(c){u.e(c)}finally{u.f()}}(i)),r}return Object(h.a)(n,[{key:"create",value:function(e){return new nu(this.moduleType,e)}}]),n}(Vs);function iu(e,t,n){var r=gt()+e,i=ut();return i[r]===ki?Ua(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function au(e,t,n,r){return ou(ut(),gt(),e,t,n,r)}function ou(e,t,n,r,i,a){var o=t+n;return Ga(e,o,i)?Ua(e,o+1,a?r.call(a,i):r(i)):function(e,t){var n=e[t];return n===ki?void 0:n}(e,o+1)}function su(e,t){var n,r=lt(),i=e+Me;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new N("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var a=n.factory||(n.factory=Ie(n.type)),o=Y(Za);try{var s=Kt(!1),u=a();return Kt(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,ut(),i,u),u}finally{Y(o)}}function uu(e,t,n){var r=e+Me,i=ut(),a=Ke(i,r);return function(e,t){return Fa.isWrapped(t)&&(t=Fa.unwrap(t),e[ot.lFrame.bindingIndex]=ki),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?ou(i,gt(),t,a.transform,n,a):a.transform(n))}function lu(e){return function(t){setTimeout(e,void 0,t)}}var cu=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(d.a)(this,n),(e=t.call(this)).__isAsync=r,e}return Object(h.a)(n,[{key:"emit",value:function(e){Object(r.a)(Object(i.a)(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,a){var o,s,u,l=e,c=t||function(){return null},h=a;if(e&&"object"==typeof e){var d=e;l=null===(o=d.next)||void 0===o?void 0:o.bind(d),c=null===(s=d.error)||void 0===s?void 0:s.bind(d),h=null===(u=d.complete)||void 0===u?void 0:u.bind(d)}this.__isAsync&&(c=lu(c),l&&(l=lu(l)),h&&(h=lu(h)));var p=Object(r.a)(Object(i.a)(n.prototype),"subscribe",this).call(this,{next:l,error:c,complete:h});return e instanceof m.a&&e.add(p),p}}]),n}(y.a);function hu(){return this._results[Ba()]()}var du=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(d.a)(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Ba(),r=e.prototype;r[n]||(r[n]=hu)}return Object(h.a)(e,[{key:"changes",get:function(){return this._changes||(this._changes=new cu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=wn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),pu=function(){function e(t){Object(d.a)(this,e),this.queryList=t,this.matches=null}return Object(h.a)(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d.a)(this,e),this.queries=t}return Object(h.a)(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],a=0;a<r;a++){var o=n.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Ou(e,t).matches&&this.queries[t].setDirty()}}]),e}(),vu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(d.a)(this,e),this.predicate=t,this.flags=n,this.read=r},mu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d.a)(this,e),this.queries=t}return Object(h.a)(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),yu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(d.a)(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(h.a)(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,gu(t,i)),this.matchTNodeWithReadOption(e,t,dn(t,e,i,!1,!1))}else n===zs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,dn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===as||r===Gs||r===zs&&4&t.type)this.addMatch(t.index,-2);else{var i=dn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function gu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function bu(e,t,n,r){return-1===n?function(e,t){return 11&e.type?rs(e,t):4&e.type?Fs(e,t):null}(t,e):-2===n?function(e,t,n){return n===as?rs(t,e):n===zs?Fs(t,e):n===Gs?Zs(t,e):void 0}(e,t,r):pn(e,e[1],n,t)}function _u(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var a=e.data,o=n.matches,s=[],u=0;u<o.length;u+=2){var l=o[u];s.push(l<0?null:bu(t,a[l],o[u+1],n.metadata.read))}i.matches=s}return i.matches}function xu(e,t,n,r){var i=e.queries.getByIndex(n),a=i.matches;if(null!==a)for(var o=_u(e,t,i,n),s=0;s<a.length;s+=2){var u=a[s];if(u>0)r.push(o[s/2]);else{for(var l=a[s+1],c=t[-u],h=Ce;h<c.length;h++){var d=c[h];d[17]===d[3]&&xu(d[1],d,l,r)}if(null!==c[9])for(var p=c[9],f=0;f<p.length;f++){var v=p[f];xu(v[1],v,l,r)}}}return r}function wu(e){var t=ut(),n=lt(),r=xt();wt(r+1);var i=Ou(n,r);if(e.dirty&&tt(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var a=i.crossesNgTemplate?xu(n,t,r,[]):_u(n,t,i,r);e.reset(a,os),e.notifyOnChanges()}return!0}return!1}function Su(e,t,n){var r=lt();r.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new mu),e.queries.track(new yu(t,-1))}(r,new vu(e,t,n)),2==(2&t)&&(r.staticViewQueries=!0)),function(e,t,n){var r=new du(4==(4&n));qi(e,t,r,r.destroy),null===t[19]&&(t[19]=new fu),t[19].queries.push(new pu(r))}(r,ut(),t)}function ku(){return e=ut(),t=xt(),e[19].queries[t].queryList;var e,t}function Ou(e,t){return e.queries.getByIndex(t)}function Eu(e,t){return Fs(e,t)}function Tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z.Default,t=Ls(!0);if(null!=t||e&Z.Optional)return t;D("ChangeDetectorRef")}var Mu=new xn("Application Initializer"),Cu=function(){var e=function(){function e(t){var n=this;Object(d.a)(this,e),this.appInits=t,this.resolve=ns,this.reject=ns,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return Object(h.a)(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ro(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(In(Mu,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}(),Au=new xn("AppId"),ju={provide:Au,useFactory:function(){return"".concat(Lu()).concat(Lu()).concat(Lu())},deps:[]};function Lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Pu=new xn("Platform Initializer"),Nu=new xn("Platform ID"),Ru=new xn("appBootstrapListener"),Iu=function(){var e=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}(),Du=new xn("LocaleId"),zu=new xn("DefaultCurrencyCode"),Bu=function e(t,n){Object(d.a)(this,e),this.ngModuleFactory=t,this.componentFactories=n},Fu=function(e){return new ru(e)},Hu=Fu,Vu=function(e){return Promise.resolve(Fu(e))},Uu=function(e){var t=Fu(e),n=Fr(Te(e).declarations).reduce(function(e,t){var n=Ee(t);return n&&e.push(new $s(n)),e},[]);return new Bu(t,n)},Gu=Uu,Wu=function(e){return Promise.resolve(Uu(e))},qu=function(){var e=function(){function e(){Object(d.a)(this,e),this.compileModuleSync=Hu,this.compileModuleAsync=Vu,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=Wu}return Object(h.a)(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}(),Ju=function(){return Promise.resolve(0)}();function Zu(e){"undefined"==typeof Zone?Ju.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Xu=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=t.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(Object(d.a)(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cu(!1),this.onMicrotaskEmpty=new cu(!1),this.onStable=new cu(!1),this.onError=new cu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u,l,c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&a,c.shouldCoalesceRunChangeDetection=s,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){var e=ae.requestAnimationFrame,t=ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,l=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ae,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Ku(e),Qu(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Ku(e))}(u)},(u=c)._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,n,r,i,a){try{return $u(u),e.invokeTask(n,r,i,a)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||u.shouldCoalesceRunChangeDetection)&&l(),el(u)}},onInvoke:function(e,t,n,r,i,a,o){try{return $u(u),e.invoke(n,r,i,a,o)}finally{u.shouldCoalesceRunChangeDetection&&l(),el(u)}},onHasTask:function(e,t,n,r){e.hasTask(n,r),t===n&&("microTask"==r.change?(u._hasPendingMicrotasks=r.microTask,Ku(u),Qu(u)):"macroTask"==r.change&&(u.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,n,r){return e.handleError(n,r),u.runOutsideAngular(function(){return u.onError.emit(r)}),!1}})}return Object(h.a)(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,Yu,ns,ns);try{return i.runTask(a,t,n)}finally{i.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Yu={};function Qu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Ku(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function $u(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function el(e){e._nesting--,Qu(e)}var tl=function(){function e(){Object(d.a)(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cu,this.onMicrotaskEmpty=new cu,this.onStable=new cu,this.onError=new cu}return Object(h.a)(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),nl=function(){var e=function(){function e(t){var n=this;Object(d.a)(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return Object(h.a)(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Xu.assertNotInAngularZone(),Zu(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Zu(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(In(Xu))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}(),rl=function(){var e=function(){function e(){Object(d.a)(this,e),this._applications=new Map,ol.addToWindow(this)}return Object(h.a)(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ol.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}();function il(e){ol=e}var al,ol=new(function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),sl=!0,ul=!1;function ll(){if(ul)throw new Error("Cannot enable prod mode after platform setup.");sl=!1}var cl=function(e,t,n){var r=new ru(n);return Promise.resolve(r)},hl=new xn("AllowMultipleToken"),dl=function e(t,n){Object(d.a)(this,e),this.name=t,this.token=n};function pl(e){if(al&&!al.destroyed&&!al.injector.get(hl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");al=e.get(yl);var t=e.get(Pu,null);return t&&t.forEach(function(e){return e()}),al}function fl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new xn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=ml();if(!a||a.injector.get(hl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var o=n.concat(t).concat({provide:i,useValue:!0},{provide:wa,useValue:"platform"});pl(Ia.create({providers:o,name:r}))}return vl(i)}}function vl(e){var t=ml();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function ml(){return al&&!al.destroyed?al:null}var yl=function(){var e=function(){function e(t){Object(d.a)(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(h.a)(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,a=(r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===(n=t?t.ngZone:void 0)?new tl:("zone.js"===n?void 0:n)||new Xu({enableLongStackTrace:(ul=!0,sl),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),o=[{provide:Xu,useValue:a}];return a.run(function(){var t=Ia.create({providers:o,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Dr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(function(){var e=a.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){_l(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var a=((o=n.injector.get(Cu)).runInitializers(),o.donePromise.then(function(){return Qo(n.injector.get(Du,Yo)||Yo),i._moduleDoBootstrap(n),n}));return ro(a)?a.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):a}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var o}(r,a)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=gl({},n);return cl(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(bl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(C(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(In(Ia))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}();function gl(e,t){return Array.isArray(t)?t.reduce(gl,e):Object.assign(Object.assign({},e),t)}var bl=function(){var e=function(){function e(t,n,r,i,a){var o=this;Object(d.a)(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var s=new g.a(function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){e.next(o._stable),e.complete()})}),u=new g.a(function(e){var t;o._zone.runOutsideAngular(function(){t=o._zone.onStable.subscribe(function(){Xu.assertNotInAngularZone(),Zu(function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))})})});var n=o._zone.onUnstable.subscribe(function(){Xu.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(b.a)(s,u.pipe(function(e){return x()((t=T,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,O);return r.source=e,r.subjectFactory=n,r})(e));var t}))}return Object(h.a)(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof $o?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Hs),a=n.create(Ia.NULL,[],t||n.selector,i),o=a.location.nativeElement,s=a.injector.get(nl,null),u=s&&a.injector.get(rl);return s&&u&&u.registerApplication(o,s),a.onDestroy(function(){r.detachView(a.hostView),_l(r.components,a),u&&u.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=Object(o.a)(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;_l(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ru,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(In(Xu),In(Ia),In(Dr),In(ts),In(Cu))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e}();function _l(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var xl=function(e){return null},wl=fl(null,"core",[{provide:Nu,useValue:"unknown"},{provide:yl,deps:[Ia]},{provide:rl,deps:[]},{provide:Iu,deps:[]}]),Sl=[{provide:bl,useClass:bl,deps:[Xu,Ia,Dr,ts,Cu]},{provide:Ks,deps:[Xu],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Cu,useClass:Cu,deps:[[new Un,Mu]]},{provide:qu,useClass:qu,deps:[]},ju,{provide:ks,useFactory:function(){return Rs},deps:[]},{provide:Es,useFactory:function(){return Is},deps:[]},{provide:Du,useFactory:function(e){return Qo(e=e||"undefined"!=typeof $localize&&$localize.locale||Yo),e},deps:[[new Vn(Du),new Un,new Gn]]},{provide:zu,useValue:"USD"}],kl=function(){var e=function e(t){Object(d.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)(In(bl))},e.\u0275mod=xe({type:e}),e.\u0275inj=B({providers:Sl}),e}()},ftpp:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ZJsx");function i(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},gRHU:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("2fFW"),i=n("NJ4a"),a={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},itXk:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("mvVQ"),i=n("/E8u"),a=n("MGFw"),o=n("WtWf"),s=n("z+Ro"),u=n("DH7j"),l=n("7o/Q"),c=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(l.a),h=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return Object(o.a)(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(l.a),d=n("SeVD"),p=n("HDdC");function f(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new h(e,n,r);if(!i.closed)return t instanceof p.a?t.subscribe(i):Object(d.a)(t)(i)}var v=n("yCtX"),m={};function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=void 0;return Object(s.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(u.a)(t[0])&&(t=t[0]),Object(v.a)(t,i).lift(new g(r))}var g=function(){function e(t){Object(a.a)(this,e),this.resultSelector=t}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new b(e,this.resultSelector))}}]),e}(),b=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return Object(o.a)(n,[{key:"_next",value:function(e){this.values.push(m),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(f(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===m?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(c)},jSPq:function(e,t,n){var r=n("Wogr"),i=n("JzKC");function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new r(this.degree);t.fill(0);var n=r.concat([e,t],e.length+this.degree),a=i.mod(n,this.genPoly),o=this.degree-a.length;if(o>0){var s=new r(this.degree);return s.fill(0),a.copy(s,o),s}return a},e.exports=a},jZKg:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("HDdC"),i=n("quSY");function a(e,t){return new r.a(function(n){var r=new i.a,a=0;return r.add(t.schedule(function(){a!==e.length?(n.next(e[a++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jtHE:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("MGFw"),i=n("WtWf"),a=n("t9bE"),o=n("KUzl"),s=n("mvVQ"),u=n("/E8u"),l=n("XNiG"),c=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a}return Object(i.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?Object(a.a)(Object(o.a)(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?Object(a.a)(Object(o.a)(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?Object(a.a)(Object(o.a)(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),h=new(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(c),d=n("quSY"),p=n("7o/Q"),f=n("WMd4"),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,n),(a=t.call(this,e)).scheduler=i,a.delay=o,a}return Object(i.a)(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new m(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(f.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(f.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(f.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){e.notification.observe(e.destination),this.unsubscribe()}}]),n}(p.a),m=function e(t,n){Object(r.a)(this,e),this.notification=t,this.destination=n},y=n("9ppp"),g=n("Ylt2"),b=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return Object(r.a)(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return Object(i.a)(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new _(this._getNow(),e)),this._trimBufferThenGetEvents()),Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;if(this.closed)throw new y.a;if(this.isStopped||this.hasError?t=d.a.EMPTY:(this.observers.push(e),t=new g.a(this,e)),i&&e.add(e=new v(e,i)),n)for(var o=0;o<a&&!e.closed;o++)e.next(r[o]);else for(var s=0;s<a&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||h).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(l.a),_=function e(t,n){Object(r.a)(this,e),this.time=t,this.value=n}},kJWO:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},"kk9/":function(e,t,n){var r=n("e/Dd").getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},lJxs:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("JL25"),i=n("mvVQ"),a=n("/E8u"),o=n("MGFw"),s=n("WtWf"),u=n("7o/Q");function l(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new c(e,t))}}var c=function(){function e(t,n){Object(o.a)(this,e),this.project=t,this.thisArg=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.project,this.thisArg))}}]),e}(),h=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,i,a){var s;return Object(o.a)(this,n),(s=t.call(this,e)).project=i,s.count=0,s.thisArg=a||Object(r.a)(s),s}return Object(s.a)(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(u.a)},lYJp:function(e,t,n){var r=n("e/Dd"),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,a=n<<10;r.getBCHDigit(a)-i>=0;)a^=1335<<r.getBCHDigit(a)-i;return 21522^(n<<10|a)}},ls82:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(j){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=Object.create((t&&t.prototype instanceof m?t:m).prototype),a=new M(r||[]);return i._invoke=function(e,t,n){var r=h;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?f:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=f,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",v={};function m(){}function y(){}function g(){}var b={};b[a]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(C([])));x&&x!==n&&r.call(x,a)&&(b=x);var w=g.prototype=m.prototype=Object.create(b);function S(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(h).then(function(e){l.value=e,o(l)},function(e){return n("throw",e,o,s)})}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=w.constructor=g,g.constructor=y,y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(w),u(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},mrSG:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}},mvVQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("vQkm");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},nZSm:function(e,t,n){var r=n("u/Db"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=r.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},ngJS:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},ofXK:function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return S}),n.d(t,"f",function(){return A}),n.d(t,"g",function(){return T}),n.d(t,"h",function(){return M}),n.d(t,"i",function(){return C}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return I}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return b}),n.d(t,"n",function(){return d});var r=n("QdLy"),i=n("95OS"),a=n("WtWf"),o=n("mvVQ"),s=n("/E8u"),u=n("MGFw"),l=n("fXoL"),c=null;function h(){return c}function d(e){c||(c=e)}var p=function e(){Object(u.a)(this,e)},f=new l.m("DocumentToken"),v=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),m=l.bb,y=function e(){Object(u.a)(this,e)},g=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).locale=e,r}return Object(a.a)(n,[{key:"getPluralCategory",value:function(e,t){switch(m(t||this.locale)(e)){case v.Zero:return"zero";case v.One:return"one";case v.Two:return"two";case v.Few:return"few";case v.Many:return"many";default:return"other"}}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(l.Bb(l.q))},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}();function b(e,t){t=encodeURIComponent(t);var n,a=Object(r.a)(e.split(";"));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.indexOf("="),u=-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],l=Object(i.a)(u,2),c=l[1];if(l[0].trim()===t)return decodeURIComponent(c)}}catch(h){a.e(h)}finally{a.f()}return null}var _=function(){function e(t,n,r,i){Object(u.a)(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return Object(a.a)(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),x=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(a.a)(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new _(null,t._ngForOf,-1,-1),null===i?void 0:i),o=new w(e,a);n.push(o)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new w(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,a=this._viewContainer.length;i<a;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.ub(l.G),l.ub(l.C),l.ub(l.o))},e.\u0275dir=l.pb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),w=function e(t,n){Object(u.a)(this,e),this.record=t,this.view=n},S=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._viewContainer=t,this._context=new k,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(a.a)(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){O("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){O("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.ub(l.G),l.ub(l.C))},e.\u0275dir=l.pb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),k=function e(){Object(u.a)(this,e),this.$implicit=null,this.ngIf=null};function O(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(l.jb)(t),"'."))}var E=function(){function e(t,n){Object(u.a)(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return Object(a.a)(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),T=function(){var e=function(){function e(){Object(u.a)(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object(a.a)(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l.pb({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),M=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this.ngSwitch=r,r._addCase(),this._view=new E(t,n)}return Object(a.a)(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.ub(l.G),l.ub(l.C),l.ub(T,9))},e.\u0275dir=l.pb({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),C=function(){var e=function e(t,n,r){Object(u.a)(this,e),r._addDefault(new E(t,n))};return e.\u0275fac=function(t){return new(t||e)(l.ub(l.G),l.ub(l.C),l.ub(T,9))},e.\u0275dir=l.pb({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),A=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return Object(a.a)(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=e.split("."),r=Object(i.a)(n,2),a=r[0],o=r[1];null!=(t=null!=t&&o?"".concat(t).concat(o):t)?this._renderer.setStyle(this._ngEl.nativeElement,a,t):this._renderer.removeStyle(this._ngEl.nativeElement,a)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.ub(l.i),l.ub(l.p),l.ub(l.x))},e.\u0275dir=l.pb({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),j=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),L=new(function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),P=new j,N=function(){var e=function(){function e(t){Object(u.a)(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return Object(a.a)(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(Object(l.fb)(t))return L;if(Object(l.gb)(t))return P;throw n=e,Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(l.jb)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Db())},e.\u0275pipe=l.tb({name:"async",type:e,pure:!1}),e}(),R=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.sb({type:e}),e.\u0275inj=l.rb({providers:[{provide:y,useClass:g}]}),e}(),I="browser"},pLZG:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mvVQ"),i=n("/E8u"),a=n("MGFw"),o=n("WtWf"),s=n("7o/Q");function u(e,t){return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t,n){Object(a.a)(this,e),this.predicate=t,this.thisArg=n}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.predicate,this.thisArg))}}]),e}(),c=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return Object(o.a)(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(s.a)},qmMu:function(e,t,n){var r=n("Wogr"),i=n("e/Dd"),a=n("ekOh"),o=n("e6BP"),s=n("V35J"),u=n("1sBl"),l=n("kk9/"),c=n("eQOe"),h=n("NPxG"),d=n("jSPq"),p=n("yKow"),f=n("lYJp"),v=n("u/Db"),m=n("vvrf"),y=n("7uVY");function g(e,t,n){var r,i,a=e.size,o=f.getEncodedBits(t,n);for(r=0;r<15;r++)e.set(r<6?r:r<8?r+1:a-15+r,8,i=1==(o>>r&1),!0),e.set(8,r<8?a-r-1:r<9?15-r-1+1:15-r-1,i,!0);e.set(a-8,8,1,!0)}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,f,b=a.M;return void 0!==t&&(b=a.from(t.errorCorrectionLevel,a.M),n=p.from(t.version),f=c.from(t.maskPattern),t.toSJISFunc&&i.setToSJISFunction(t.toSJISFunc)),function(e,t,n,a){var f;if(y(e))f=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var b=t;if(!b){var _=m.rawSplit(e);b=p.getBestVersionForData(_,n)}f=m.fromString(e,b||40)}var x=p.getBestVersionForData(f,n);if(!x)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<x)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+x+".\n")}else t=x;var w=function(e,t,n){var a=new o;n.forEach(function(t){a.put(t.mode.bit,4),a.put(t.getLength(),v.getCharCountIndicator(t.mode,e)),t.write(a)});var s=8*(i.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,t));for(a.getLengthInBits()+4<=s&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);for(var u=(s-a.getLengthInBits())/8,l=0;l<u;l++)a.put(l%2?17:236,8);return function(e,t,n){for(var a=i.getSymbolTotalCodewords(t),o=a-h.getTotalCodewordsCount(t,n),s=h.getBlocksCount(t,n),u=s-a%s,l=Math.floor(a/s),c=Math.floor(o/s),p=c+1,f=l-c,v=new d(f),m=0,y=new Array(s),g=new Array(s),b=0,_=new r(e.buffer),x=0;x<s;x++){var w=x<u?c:p;y[x]=_.slice(m,m+w),g[x]=v.encode(y[x]),m+=w,b=Math.max(b,w)}var S,k,O=new r(a),E=0;for(S=0;S<b;S++)for(k=0;k<s;k++)S<y[k].length&&(O[E++]=y[k][S]);for(S=0;S<f;S++)for(k=0;k<s;k++)O[E++]=g[k][S];return O}(a,e,t)}(t,n,f),S=i.getSymbolSize(t),k=new s(S);return function(e,t){for(var n=e.size,r=l.getPositions(t),i=0;i<r.length;i++)for(var a=r[i][0],o=r[i][1],s=-1;s<=7;s++)if(!(a+s<=-1||n<=a+s))for(var u=-1;u<=7;u++)o+u<=-1||n<=o+u||e.set(a+s,o+u,s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4,!0)}(k,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(k),function(e,t){for(var n=u.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],a=n[r][1],o=-2;o<=2;o++)for(var s=-2;s<=2;s++)e.set(i+o,a+s,-2===o||2===o||-2===s||2===s||0===o&&0===s,!0)}(k,t),g(k,n,0),t>=7&&function(e,t){for(var n,r,i,a=e.size,o=p.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),e.set(n,r=s%3+a-8-3,i=1==(o>>s&1),!0),e.set(r,n,i,!0)}(k,t),function(e,t){for(var n=e.size,r=-1,i=n-1,a=7,o=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!e.isReserved(i,s-u)){var l=!1;o<t.length&&(l=1==(t[o]>>>a&1)),e.set(i,s-u,l),-1==--a&&(o++,a=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(k,w),isNaN(a)&&(a=c.getBestMask(k,g.bind(null,k,n))),c.applyMask(a,k),g(k,n,a),{modules:k,version:t,errorCorrectionLevel:n,maskPattern:a,segments:f}}(e,n,b,f)}},quSY:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("MGFw"),i=n("WtWf"),a=n("DH7j"),o=n("XoHu"),s=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),l=function(){var e,t=function(){function e(t){Object(r.a)(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return Object(i.a)(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){t=v instanceof u?c(v.errors):[v]}}if(Object(a.a)(l))for(var d=-1,p=l.length;++d<p;){var f=l[d];if(Object(o.a)(f))try{f.unsubscribe()}catch(v){t=t||[],v instanceof u?t=t.concat(c(v.errors)):t.push(v)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return t.EMPTY=((e=new t).closed=!0,e),t}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof u?t.errors:t)},[])}},rc0G:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",function(){return r})},s0aK:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"h",function(){return h}),n.d(t,"m",function(){return d}),n.d(t,"o",function(){return p}),n.d(t,"u",function(){return f}),n.d(t,"k",function(){return m}),n.d(t,"n",function(){return y}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"c",function(){return _}),n.d(t,"r",function(){return w}),n.d(t,"q",function(){return S}),n.d(t,"s",function(){return k}),n.d(t,"t",function(){return O}),n.d(t,"p",function(){return E}),n.d(t,"l",function(){return T}),n.d(t,"a",function(){return M}),n.d(t,"e",function(){return C}),n.d(t,"j",function(){return A});var r=n("mrSG"),i=n("itXk"),a=n("XNiG"),o=n("AytR");function s(e){var t=e.closing,n=e.zChildren,r=e.open,i=e.openBold,a=e.ref;"component"===e.type?(t.forEach(function(e,t){e.style.opacity=0,e.style["z-index"]=4,e.stage&&Object.assign(e.stage.style,e.style)}),r.forEach(function(e,t){e.style.opacity=.5,e.style["z-index"]=5,e.stage&&Object.assign(e.stage.style,e.style)}),i.forEach(function(e,t){e.style.opacity=1,e.stage&&Object.assign(e.stage.style,e.style)})):(t.forEach(function(e,t){n[e].css.opacity=0,n[e].css["z-index"]=4}),r.forEach(function(e,t){n[e].css.opacity=.5,n[e].css["z-index"]=5}),i.forEach(function(e,t){n[e].css.opacity=1})),a.detectChanges()}window.numberParse=d,window.xPosition=f,window.judimaPageOffset=function(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return{x:t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,y:t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}},window.mediaPrefix=function(e){return"./assets/media/"+e.media},window.getDocHeight=function(){var e=document;return Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)},window.latchUtilities=u;var u={boardPercentage:function(e){var t=e.metadata,n=(null==t?void 0:t.percent)||.4;return d(getComputedStyle(e.zChildren["&#8353"].element).width)*n},centerX:function(e){var t=e.zChildren,n=e.zSymbol,r=e.metadata,i=(null==r?void 0:r.contain)||"&#8353",a=(null==r?void 0:r.containPos)||.5,o=(null==r?void 0:r.targetPos)||.5,s=window.numberParse,u=window.xPosition;try{return u({target:s(t[n].css.width),contain:s(getComputedStyle(t[i].element).width),containPos:a,targetPos:o})}catch(l){return s(getComputedStyle(t[i].element).width)/2}}};function l(e,t){return void 0===t&&(t=1),t>0?e.reduce(function(e,n){return e.concat(Array.isArray(n)?l(n,t-1):n)},[]):e.slice()}function c(e){var t=e.ryber,n=e.appTV,r=e.zProps,i=e.myContainers;i=i.map(function(e,t){return[e.element.nativeElement,e]}),r=r||{},e.classes=t[n].quantity[1].map(function(e,t){return l(e.val,1/0)[0]});var a={};return t[n].quantity.forEach(function(e,t){e.forEach(function(e,t){e.symbol.forEach(function(t,o){t.forEach(function(t,s){var u;if(null!==e.quantity[o][s]){var l=String.fromCharCode(+t.split("&#")[1]),c="&#8352"===t?document.querySelector("[class="+n+'],[id^="root"]'):document.querySelector("."+n+" ."+l),h=i.filter(function(e,t){var n;return(null==c?void 0:c.className)===(null===(n=e[0])||void 0===n?void 0:n.className)});a[t]={element:c,css:e.ngCss[o][s],cssDefault:e.ngCssDefault[o][s],bool:e.bool[o][s],innerText:e.text[o][s],extras:"true"===r.extras?e.extras[o][s]:null,val:"true"===r.val?e.val[o][s]:null,quantity:"true"===r.quantity?e.quantity[o][s]:null,viewContainerRef:"true"===r.viewContainerRef?null===(u=h[0])||void 0===u?void 0:u[1]:null},"true"===r.symbol&&(a[t].symbol=t)}})})})}),a}function h(e){try{var t=new Event(e.event);e.element.dispatchEvent(t)}catch(r){var n=document.createEvent("Event");n.initEvent(e.event,!1,!0),e.element.dispatchEvent(n)}}function d(e){return"string"==typeof e?parseFloat(e.split("p")[0]):e.map(function(e,t){return parseFloat(e.split("p")[0])})}function p(e){var t=null;if(void 0===e.misc&&(e.misc=[.12]),"direct"===e.type&&(t=e.default-(e.containDefault-e.containActual)*e.misc[0]),"nonUniform"===e.type)try{e.mediaQuery.slice(1).forEach(function(n,r){if(n<e.containActual)throw t=e.default-(e.containDefault-e.containActual)*e.misc[r],null})}catch(n){}else"direct"!==e.type&&(t=e.default*(e.containActual/e.containDefault-e.misc[0]));return t=t>e.default?e.default:t}function f(e){var t=e.containPos;return e.contain*(t=t||.5)-e.target*(e.targetPos||.5)}function v(e){return void 0!==e.include?"string"==typeof e.include?"f"===e.include?0:e.item:"f"===e.include[e.index]?0:e.item:e.item}function m(e){if("identify"===e.type){var t={min:{value:1/0,key:null},max:{value:0,key:null}};return e.items.forEach(function(n,r){var i=e.min(n),a=e.max(n);i.value<t.min.value&&(t.min=i),a.value>t.max.value&&(t.max=a)}),t.delta={value:t.max.value-t.min.value},t}var n={min:1/0,max:0};return e.items.forEach(function(t,r){var i=e.min(t),a=e.max(t);i<n.min&&(n.min=i),a>n.max&&(n.max=a)}),n.delta=n.max-n.min,n}function y(e){var t=JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t});return JSON.parse(t,function(e,t){return"string"==typeof t&&-1!==t.indexOf("function")?function(e){var t=e.indexOf("("),n=e.indexOf(")"),r=e.substring(t+1,n);r=r.trim();var i=e.indexOf("{"),a=e.lastIndexOf("}");return e=e.substring(i+1,a),Function(r,e)}(t):t})}function g(e){var t=0,n=0,r=0,i=0;function a(a){(a=a||window.event).preventDefault(),t=r-a.clientX,n=i-a.clientY,r=a.clientX,i=a.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-t+"px"}function o(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=function(e){(e=e||window.event).preventDefault(),r=e.clientX,i=e.clientY,document.onmouseup=o,document.onmousemove=a}}function b(e,t){t.forEach(function(t){var n=e[t.valueOf()];Object.keys(n).forEach(function(e,t){n[e.valueOf()].generator=function(){var e;return Object(r.b)(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return[4,(e++).toString()];case 2:return t.sent(),[3,1];case 3:return[2]}})}()})})}function _(e,t,n){t.forEach(function(r,i){var o=e[r.valueOf()];t.forEach(function(e){o.metadata[e.valueOf()]={movingSubject:new a.a}}),o.quantity[0].push(y({signature:"app",quantity:[[3]],bool:[["true"]],val:[[r.valueOf().split("CO")[0].split("").join("_")+"_App"]],text:[[]],symbol:[["&#8352"]],ngCss:[[{top:"0px",width:"100%","z-index":t.length-i}]],extras:[[]]})),n instanceof Function&&n({co:o}),o.quantity.forEach(function(e,t){o.quantity[t].forEach(function(e,t){e.text.forEach(function(e,t){e.forEach(function(t,n){e[n]={item:t}})}),e.ngCssDefault=y(e.ngCss)})})})}function x(e){var t=e.symbol,n=e.co,i=e.type,a=e.css,o=e.cssDefault,s=e.extras,u=e.bool,l=e.text,c=e.val,h=e.signature,d=e.spot,p=e.quantity;p=null!=p?p:3;var f=this;if(void 0===f[n.valueOf()]){var v="&#8353",m=String.fromCharCode(+v.split("&#")[1]),g=[8354,8448,8592,9472],b=[8383,8526,8702,10174],_={1:function(){var e;return Object(r.b)(this,function(t){switch(t.label){case 0:e=g[0],t.label=1;case 1:return-1!==b.indexOf(e)&&(e=g[b.indexOf(e)+1]),[4,e++];case 2:return t.sent(),[3,1];case 3:return[2]}})}()};return f[n.valueOf()]=y({metadata:{},quantity:[[],Object(r.d)([{signature:"containing",quantity:[[3]],bool:[[u||"divBoard"]],val:[[n.valueOf().split("CO")[0].split("").join("_")+"_Board a_p_p_Board "+m]],text:[[]],symbol:[[v]],ngCss:[[void 0!==a?a:{height:"400px",width:"100%","z-index":"1","background-color":"rgb(255, 241, 204)",top:"0px"}]],extras:[[void 0!==s?s:{}]]}],Array.from(Array(1),function(){return{signature:void 0!==h?h:"",quantity:[[],[]],bool:[[],[]],val:[[],[]],text:[[],[]],symbol:[[],[]],ngCss:[[],[]],extras:[[],[]]}}))]}),f[n.valueOf()].generator=_,v}if(void 0===i&&(i="add"),"add"===i){var x=f[n.valueOf()].quantity[1][1];void 0===u&&(u="p");var w=n.valueOf().split("CO")[0].split("").join("_");if(void 0===c)c=w,c+=0===x.val[1].length?"_Heading":"_Item";else{if(void 0!==t){var S=String.fromCharCode(+t.split("&#")[1]);c=c.replace(new RegExp(S),"")}c=w+"_"+(c=c.replace(new RegExp(w+"_"),""))}return void 0!==x.signature&&void 0===h&&(h=x.signature),void 0===a?a={"z-index":4}:void 0===a["z-index"]&&(a["z-index"]=4),t="&#"+f[n.valueOf()].generator[1].next().value,m=String.fromCharCode(+t.split("&#")[1]),void 0===d?(x.quantity[1].push(p),x.text[1].push(l),x.val[1].push(c+" "+m),x.bool[1].push(u),x.ngCss[1].push(a),o&&x.ngCssDefault[1].push(o),x.extras[1].push(s),x.symbol[1].push(t)):(x.quantity[1].splice(d,0,p),x.text[1].splice(d,0,l),x.val[1].splice(d,0,c+" "+m),x.bool[1].splice(d,0,u),x.ngCss[1].splice(d,0,a),o&&x.ngCssDefault[1].splice(d,0,o),x.extras[1].splice(d,0,s),x.symbol[1].splice(d,0,t)),x.signature=h,t}if("remove"===i){var k=e.symbol,O=(x=f[n.valueOf()].quantity[1][1]).symbol[1].indexOf(k);x.quantity[1][O]=null,x.ngCss[1][O]=null,x.ngCssDefault[1][O]=null,x.extras[1][O]=null,x.symbol[1][O]=null,x.val[1][O]=null,x.text[1][O]=null,x.bool[1][O]="false"}}var w=function(e){return function(t){return x.call(e.ryber,t)}},S=function(e){var t=e.co,n=e.exclude;t.quantity.forEach(function(e,i){t.quantity[i].forEach(function(e,t){e.text.forEach(function(e,t){e.forEach(function(t,n){var r;(null===(r=e[n])||void 0===r?void 0:r.hasOwnProperty("item"))||(e[n]={item:t})})}),(null==n?void 0:n.includes("cssDefault"))&&e.ngCss.forEach(function(t,n){t.forEach(function(t,i){var a;void 0===(null===(a=e.ngCssDefault[n])||void 0===a?void 0:a[i])&&(e.ngCss[n][i]=Object(r.a)({left:"0px",top:"0px"},t),e.ngCssDefault[n].splice(i,0,y(e.ngCss[n][i])))})})})})};function k(e){var t,n,r,i=e.ref,a=e.options,o=e.zChild,s=e.zChildCss,u=e.type;if(void 0===s&&(s="true"),"simpleStack"===u){var l=e.spacing;e.zChildKeys.forEach(function(t,n){if(0!==n){var r=e.zChildKeys[n-1];e.zChild[t].css.top=(("true"===s?d(e.zChild[r].css.top)+v({item:d(e.zChild[r].css.height),include:e.heightInclude,index:n}):d(getComputedStyle(e.zChild[r].element).top)+v({item:d(getComputedStyle(e.zChild[r].element).height),include:e.heightInclude,index:n}))+("number"==typeof l?l:void 0===l[n]?l[l.length-1]:l[n])).toString()+"px",void 0!==e.xAlign&&(e.zChild[t].css.left="string"==typeof e.xAlign?e.xAlign:null===e.xAlign[n]?e.zChild[t].css.left:e.xAlign[n]),e.ref.detectChanges()}else void 0!==e.start&&(e.zChild[t].css.top=e.start.toString()+"px")})}else{if("keepSomeAligned"===u){var c=e.zChildKeys,h=e.start,p=e.spacing;void 0===e.keep&&(e.keep=[]);var f=Object.fromEntries(e.keep);return e.zChildKeys.forEach(function(t,n){var r,u,l,y,g,b,_;if(0!==n){var x=e.zChildKeys[n-1];if(o[t].css.top=(("true"===s?d(e.zChild[void 0!==f[t.valueOf()]?f[t.valueOf()]:x].css.top)+v({item:d(e.zChild[void 0!==f[t.valueOf()]?f[t.valueOf()]:x].css.height),include:e.heightInclude,index:n}):d(getComputedStyle(e.zChild[void 0!==f[t.valueOf()]?f[t.valueOf()]:x].element).top)+v({item:d(getComputedStyle(e.zChild[void 0!==f[t.valueOf()]?f[t.valueOf()]:x].element).height),include:e.heightInclude,index:n}))+("number"==typeof p?p:void 0===p[n]?p[p.length-1]:p[n])).toString()+"px","true"===(null===(r=null==a?void 0:a.overlapFix)||void 0===r?void 0:r.confirm)&&"false"!==(null===(g=null===(y=null===(l=null===(u=o[t])||void 0===u?void 0:u.extras)||void 0===l?void 0:l.judima)||void 0===y?void 0:y.stack)||void 0===g?void 0:g.overlapFix)){for(var w=n;f[c[n]]===f[c[w--]];);var S=c.slice(0,n+1).reverse();if((S=S.filter(function(e,t){return f[c[w]]===f[S[t]]})).filter(function(e,n){return d(o[t].css.top)-(d(o[e].css.top)+d(o[e].css.height))<=0}).length>0&&!S.includes("&#8353")&&void 0===(null===(_=null===(b=o[t].extras)||void 0===b?void 0:b.component)||void 0===_?void 0:_.top)){var k=m({type:"identify",items:S,min:function(e){return{key:e,value:d(o[e].css.top)+d(o[e].css.height)}},max:function(e){return{key:e,value:d(o[e].css.top)+d(o[e].css.height)}}});f[t]=k.max.key,a.overlapFix.flag="true"}}void 0!==e.xAlign&&(e.zChild[t].css.left="string"==typeof e.xAlign?e.xAlign:null===e.xAlign[n]?e.zChild[t].css.left:e.xAlign[n]),i.detectChanges()}else void 0!==e.start&&(e.zChild[t].css.top=h.toString()+"px")}),{keep:Object.entries(f),overlapFixFlag:a.overlapFix.flag}}if("yPosition"===e.type){var y=e.yPosition,g=y.zChild,b=y.moving,_=y.ref,x=y.ryber,w=y.appTV;if("custom"===(null===(r=null===(n=null===(t=g["&#8353"].extras)||void 0===t?void 0:t.judima)||void 0===n?void 0:n.moving)||void 0===r?void 0:r.type)&&"mobile"!==y.mediaQuery){var S,k=g["&#8353"].extras.judima.moving,O=k.point,E=k.target,T=k.coordinates;switch(O){case"right":var M=d(x[E].metadata.board.top)-d(g["&#8353"].css.top)+T.y,C=-x[w].metadata.board.xPosition+d(x[E].metadata.board.width)+x[E].metadata.board.diff.left-x[E].metadata.board.xPosition+T.x;return S={left:C,top:M},g["&#8353"].css.top=x[E].metadata.board.top,Object.keys(g).slice(2).forEach(function(e,t){["top"].forEach(function(t,n){g[e].css[t]=(d(g[e].css[t])+S[t]).toString()+"px"})}),_.detectChanges(),Object.values(g).slice(2).forEach(function(e,t){var n,r;"true"!==(null===(r=null===(n=e.extras)||void 0===n?void 0:n.judima)||void 0===r?void 0:r.formatIgnore)&&(e.css.left=(d(e.css.left)+S.left).toString()+"px")}),_.detectChanges(),{point:O,diff:S};case"bottom":return M=d(x[E].metadata.board.top)+d(x[E].metadata.board.height)+T.y,C=x[E].metadata.board.xPosition-x[w].metadata.board.section.left-x[w].metadata.board.xPosition,void 0!==x[E].metadata.board.point&&(C+=x[w].metadata.board.xPosition-x[E].metadata.board.xPosition),Object.values(g).slice(2).forEach(function(e,t){var n,r;"true"!==(null===(r=null===(n=e.extras)||void 0===n?void 0:n.judima)||void 0===r?void 0:r.formatIgnore)&&(e.css.top=(d(e.css.top)+M-d(g["&#8353"].css.top)).toString()+"px")}),g["&#8353"].css.top=M.toString()+"px",_.detectChanges(),C+=T.x,Object.values(g).slice(2).forEach(function(e,t){var n,r;"true"!==(null===(r=null===(n=e.extras)||void 0===n?void 0:n.judima)||void 0===r?void 0:r.formatIgnore)&&(e.css.left=(d(e.css.left)+C).toString()+"px")}),_.detectChanges(),{point:"bottom",diff:{top:M,left:C}}}return}var A=-1*(d(g["&#8353"].css.top)-(d(b.top)+d(b.height)));g["&#8353"].css.top=(d(b.top)+d(b.height)).toString()+"px",_.detectChanges(),Object.keys(g).slice(2).forEach(function(e,t){var n,r;"true"!==(null===(r=null===(n=g[e].extras)||void 0===n?void 0:n.judima)||void 0===r?void 0:r.formatIgnore)&&(g[e].css.top=(d(g[e].css.top)+A).toString()+"px")}),_.detectChanges()}}}function O(e){if("preserve"===e.type)return void 0===e.preserve.targetPos&&(e.preserve.targetPos=[]),void 0===e.preserve.containPos&&(e.preserve.containPos=[]),e.preserve.align.forEach(function(t,n){var r={};"center"!==e.preserve.type&&t.push(null),r.lefts=t.reduce(function(t,n,r,i){return 0!==r&&null!==n?t.push(d(e.preserve.zChild[n].cssDefault.left)-d(e.preserve.zChild[i[r-1]].cssDefault.left)):0===r&&null!==n&&"center"!==e.preserve.type&&t.push(0,d(e.preserve.zChild[n].cssDefault.left)),0!==r&&"center"!==e.preserve.type?e.preserve.zChild[i[r-1]].css.left=t.slice(0,r+2).reduce(function(e,t,n){return e+t},0).toString()+"px":e.preserve.zChild[i[r]].css.left=t.slice(0,r+2).reduce(function(e,t,n){return e+t},0).toString()+"px",t},[f({target:1262.67-2*e.preserve.left,contain:d(getComputedStyle(e.preserve.zChild["&#8353"].element).width),targetPos:e.preserve.targetPos[n]||.5,containPos:e.preserve.containPos[n]||.5})]),e.preserve.ref.detectChanges(),!0!==e.debug&&"true"!==e.debug||console.log(r.lefts)}),e.preserve.align.forEach(function(e,t){e.pop()}),{align:e.preserve.align};e.stops.ratio.forEach(function(t,n){e.stops.ratio[n]=t.map(function(t,r){return t/e.stops.points[n]})})}function E(e){e.item.target.forEach(function(t,n){e.values[n].forEach(function(r,i){d(getComputedStyle(e.measure.target)[e.measure.prop.valueOf()])<r[0]&&(t.css[void 0===e.item.prop[n]?e.item.prop[e.item.prop.length-1].valueOf():e.item.prop[n].valueOf()]=r[1].toString()+"px")})})}function T(e){var t=e.type,n=e.fn,r={};return t.includes(e.ryber.appCO0.metadata.navigation.type)&&(r[t]=n()),r}function M(e){var t=e.zChild,n=e.section,i=Object.fromEntries(["top","height","left","width"].map(function(e,n){var r;return[e,!1===(null===(r=t["&#8353"].css[e])||void 0===r?void 0:r.match("px"))?t["&#8353"].css[e]:getComputedStyle(t["&#8353"].element)[e]]}));return i.xPosition=f({target:1262.67-2*n.left,contain:d(getComputedStyle(t["&#8353"].element).width)}),i.section=Object(r.a)({},n),i}var C={determineKeepGroups:function(e){var t=e.component,n="fixed";t.keep.inspect.forEach(function(e,r){var i=t.keep.groups.length-1;e.includes(0)?("push"===n&&(t.keep.groups.push({items:[],index:[]}),n="fixed",i+=1),t.keep.groups[i].items.push(e)):e.includes(1)&&(t.keep.groups[i].index.push(r),n="push")}),t.keep.groups=t.keep.groups.filter(function(e,t){return 0!==e.items.length})},inspectKeep:function(e){var t=e.zSymbols,n=e.component;n.keep.inspect=y(e.finalKeep.map(function(e,i){var a=e.reduce(function(e,r,i){return n[t].includes(r)&&e.push(i),e},[]);return Object(r.d)(e,a)}))},logicKeep:function(e){var t=e.hook,n=e.zSymbolsMap,r=e.component,i=e.finalKeep,a=e.zChild;r.keep.groups.forEach(function(e,o){var s;if(t.has("add prepare")){var u=null===(s=r.keep.inspect[e.index[0]])||void 0===s?void 0:s[1];if(void 0===u){var l=m({type:"identify",items:r.target,min:function(e){return{key:e,value:d(a[e].css.top)}},max:function(e){return{key:e,value:d(a[e].css.top)+d(a[e].css.height)}}});u=l.max.key}e.newItems=e.items.map(function(e,t){var n=e;return n[0]=r.deltasMap[n[0]],n[1]=1==e.slice(2).length?u:r.deltasMap[n[1]],n.slice(0,2)})}e.index.forEach(function(e,t){i[e][1]=r[n][i[e][1]]})})}},A={onInit:function(e){var t,n,a,s=e.myThis,u=e.featureFn,l=e.loadedScripts;l=l||[];var c=s.extras,h=s.appExtras,d=s.ryber,p=s.zChildren,f=s.subscriptions,v=c.co,m=(t=d[v].metadata[h.name]).group,y=t.suffix;(null===(a=null===(n=o.a.directive)||void 0===n?void 0:n[h.name])||void 0===a?void 0:a.lifecycleHooks)&&console.log(c.co+" "+c.zSymbol+" "+h.name+" Directive ngInit fires on mount");var g=T({type:["full"],fn:function(){if("true"===d.appCO0.metadata.navigation.full.navigated&&"true"===d[v].metadata.judima.init)return"return"},ryber:d}),b=Object(i.a)(Object(r.d)([d[v].metadata.zChildrenSubject],l)).subscribe(function(e){p=d[v].metadata.zChildren;var t=e[0].ref||s.ref;Object.entries(m).forEach(function(e,t){e[1].subscriptions.forEach(function(e,t){e.unsubscribe()})}),m={},Object.entries(p).slice(2).forEach(function(e,t){var n,r,i,a,o,s,u,l,c;if(void 0!==(null===(n=e[1].extras)||void 0===n?void 0:n[h.selector])){var p=(null===(r=e[1].extras[h.selector])||void 0===r?void 0:r.group)||"default",f=(null===(i=e[1].extras[h.selector])||void 0===i?void 0:i.type)||["default"],g=(null===(o=null===(a=e[1].extras)||void 0===a?void 0:a.appDeltaNode)||void 0===o?void 0:o.group)||(null===(u=null===(s=e[1].extras.appLatch)||void 0===s?void 0:s.deltaNode)||void 0===u?void 0:u.group),b=0;"true"!==(null===(l=e[1].extras[h.selector])||void 0===l?void 0:l.duplicateIgnore)&&(null===(c=d[v].metadata.deltaNode.groups[g])||void 0===c||c.deltas.forEach(function(t,n){var r,i,a=[e[0],null===(i=null===(r=e[1].extras.appLatch)||void 0===r?void 0:r.deltaNode)||void 0===i?void 0:i.zSymbol];t.some(function(e){return a.includes(e)})&&(b=n+1)})),p=p.split(y+b)[0]+y+b,void 0===m[p]&&(m[p]={deltaNode:{},types:{},suffix:y,count:b,subscriptions:[]}),f.forEach(function(t,n){void 0===m[p].types[t]&&(m[p].types[t]=new Set),m[p].types[t].add(e[0])})}}),s.zChildren=p,s.group=m,s.ref=t,u({group:m,subscriptions:f,navAction:g})});f.push(b)},onDestroy:function(e){var t,n,r,i=e.myThis,a=i.extras,s=i.appExtras,u=i.ryber;"true"===(null==a?void 0:a.confirm)&&((null===(n=null===(t=o.a.directive)||void 0===t?void 0:t[s.name])||void 0===n?void 0:n.lifecycleHooks)&&console.log(a.co+" "+a.zSymbol+" "+s.name+" Directive ngOnDestroy fires on dismount"),i.subscriptions.forEach(function(e,t){try{e.unsubscribe()}catch(n){console.log(n)}}),(null===(r=u.appCO0.metadata[s.name])||void 0===r?void 0:r.ngOnDestroy)&&u.appCO0.metadata[s.name].ngOnDestroy.next({hook:"finished"}),delete i.subscriptions)}}},t9bE:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("KUzl");function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},"tk/3":function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return Z});var r=n("mvVQ"),i=n("/E8u"),a=n("95OS"),o=n("8vcG"),s=n("WtWf"),u=n("MGFw"),l=n("fXoL"),c=n("LRne"),h=n("HDdC"),d=n("bOdf"),p=n("pLZG"),f=n("lJxs"),v=n("ofXK"),m=function e(){Object(u.a)(this,e)},y=function e(){Object(u.a)(this,e)},g=function(){function e(t){var n=this;Object(u.a)(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(a):n.headers.set(i,[a])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return Object(s.a)(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,Object(o.a)(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var a=this.headers.get(t);if(!a)return;0===(a=a.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),b=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"encodeKey",value:function(e){return x(e)}},{key:"encodeValue",value:function(e){return x(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function _(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),i=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=Object(a.a)(i,2),s=o[0],u=o[1],l=n.get(s)||[];l.push(u),n.set(s,l)}),n}function x(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var w=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.a)(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new b,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return Object(s.a)(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function S(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function k(e){return"undefined"!=typeof Blob&&e instanceof Blob}function O(e){return"undefined"!=typeof FormData&&e instanceof FormData}var E=function(){function e(t,n,r,i){var a;if(Object(u.a)(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new g),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new w,this.urlWithParams=n}return Object(s.a)(e,[{key:"serializeBody",value:function(){return null===this.body?null:S(this.body)||k(this.body)||O(this.body)||"string"==typeof this.body?this.body:this.body instanceof w?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||O(this.body)?null:k(this.body)?this.body.type||null:S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof w?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},u)),t.setParams&&(l=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},l)),new e(n,r,a,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:o})}}]),e}(),T=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),M=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";Object(u.a)(this,e),this.headers=t.headers||new g,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},C=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)(this,n),(e=t.call(this,r)).type=T.ResponseHeader,e}return Object(s.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(M),A=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)(this,n),(e=t.call(this,r)).type=T.Response,e.body=void 0!==r.body?r.body:null,e}return Object(s.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(M),j=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(M);function L(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var P=function(){var e=function(){function e(t){Object(u.a)(this,e),this.handler=t}return Object(s.a)(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof E)n=e;else{var a=void 0;a=i.headers instanceof g?i.headers:new g(i.headers);var o=void 0;i.params&&(o=i.params instanceof w?i.params:new w({fromObject:i.params})),n=new E(e,t,void 0!==i.body?i.body:null,{headers:a,params:o,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(c.a)(n).pipe(Object(d.a)(function(e){return r.handler.handle(e)}));if(e instanceof E||"events"===i.observe)return s;var u=s.pipe(Object(p.a)(function(e){return e instanceof A}));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(f.a)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(Object(f.a)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(Object(f.a)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(Object(f.a)(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new w).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,L(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,L(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,L(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Bb(m))},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),N=function(){function e(t,n){Object(u.a)(this,e),this.next=t,this.interceptor=n}return Object(s.a)(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),R=new l.m("HTTP_INTERCEPTORS"),I=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),D=/^\)\]\}',?\n/,z=function e(){Object(u.a)(this,e)},B=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function(){function e(t){Object(u.a)(this,e),this.xhrFactory=t}return Object(s.a)(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new h.a(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var a=e.responseType.toLowerCase();r.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new g(r.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new C({headers:i,status:t,statusText:n,url:a})},l=function(){var t=u(),i=t.headers,a=t.status,o=t.statusText,s=t.url,l=null;204!==a&&(l=void 0===r.response?r.responseText:r.response),0===a&&(a=l?200:0);var c=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(D,"");try{l=""!==l?JSON.parse(l):null}catch(d){l=h,c&&(c=!1,l={error:d,text:l})}}c?(n.next(new A({body:l,headers:i,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new j({error:l,headers:i,status:a,statusText:o,url:s||void 0}))},c=function(e){var t=u(),i=new j({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t.url||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(u()),h=!0);var i={type:T.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:T.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",p)),r.send(o),n.next({type:T.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",p)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Bb(z))},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),H=new l.m("XSRF_COOKIE_NAME"),V=new l.m("XSRF_HEADER_NAME"),U=function e(){Object(u.a)(this,e)},G=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return Object(s.a)(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(v.m)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Bb(v.c),l.Bb(l.v),l.Bb(H))},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),W=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this.tokenService=t,this.headerName=n}return Object(s.a)(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Bb(U),l.Bb(V))},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),q=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this.backend=t,this.injector=n,this.chain=null}return Object(s.a)(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(R,[]);this.chain=t.reduceRight(function(e,t){return new N(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Bb(y),l.Bb(l.n))},e.\u0275prov=l.qb({token:e,factory:e.\u0275fac}),e}(),J=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:W,useClass:I}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:H,useValue:t.cookieName}:[],t.headerName?{provide:V,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.sb({type:e}),e.\u0275inj=l.rb({providers:[W,{provide:R,useExisting:W,multi:!0},{provide:U,useClass:G},{provide:H,useValue:"XSRF-TOKEN"},{provide:V,useValue:"X-XSRF-TOKEN"}]}),e}(),Z=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.sb({type:e}),e.\u0275inj=l.rb({providers:[P,{provide:m,useClass:q},F,{provide:y,useExisting:F},B,{provide:z,useExisting:B}],imports:[[J.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},"u/Db":function(e,t,n){var r=n("J6Nv"),i=n("BCVQ");t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(r){return n}}},vQkm:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},vvrf:function(e,t,n){var r=n("u/Db"),i=n("3X7Y"),a=n("nZSm"),o=n("AZa5"),s=n("Lzq4"),u=n("BCVQ"),l=n("e/Dd"),c=n("ELBg");function h(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function p(e){var t,n,i=d(u.NUMERIC,r.NUMERIC,e),a=d(u.ALPHANUMERIC,r.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=d(u.BYTE,r.BYTE,e),n=d(u.KANJI,r.KANJI,e)):(t=d(u.BYTE_KANJI,r.BYTE,e),n=[]),i.concat(a,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return a.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function v(e,t){var n,u=r.getBestModeForData(e);if((n=r.from(t,u))!==r.BYTE&&n.bit<u.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new a(e);case r.KANJI:return new s(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(v(t,null)):t.data&&e.push(v(t.data,t.mode)),e},[])},t.fromString=function(e,n){for(var i=function(e,t){for(var n={},i={start:{}},a=["start"],o=0;o<e.length;o++){for(var s=e[o],u=[],l=0;l<s.length;l++){var c=s[l],h=""+o+l;u.push(h),n[h]={node:c,lastCount:0},i[h]={};for(var d=0;d<a.length;d++){var p=a[d];n[p]&&n[p].node.mode===c.mode?(i[p][h]=f(n[p].lastCount+c.length,c.mode)-f(n[p].lastCount,c.mode),n[p].lastCount+=c.length):(n[p]&&(n[p].lastCount=c.length),i[p][h]=f(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}a=u}for(d=0;d<a.length;d++)i[a[d]].end=0;return{map:i,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:h(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:h(i.data)}])}}return t}(p(e,l.isKanjiModeEnabled())),n),a=c.find_path(i.map,"start","end"),o=[],s=1;s<a.length-1;s++)o.push(i.table[a[s]].node);return t.fromArray(o.reduce(function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(p(e,l.isKanjiModeEnabled()))}},xgIS:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("8vcG"),i=n("HDdC"),a=n("DH7j"),o=n("n6bG"),s=n("lJxs");function u(e,t,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?u(e,t,n).pipe(Object(s.a)(function(e){return Object(a.a)(e)?c.apply(void 0,Object(r.a)(e)):c(e)})):new i.a(function(r){l(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function l(e,t,n,r,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var o=e;e.addEventListener(t,n,i),a=function(){return o.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),a=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),a=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)l(e[c],t,n,r,i)}r.add(a)}},yCtX:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),a=n("jZKg");function o(e,t){return t?Object(a.a)(e,t):new r.a(Object(i.a)(e))}},yKow:function(e,t,n){var r=n("e/Dd"),i=n("NPxG"),a=n("ekOh"),o=n("u/Db"),s=n("J6Nv"),u=n("7uVY"),l=r.getBCHDigit(7973);function c(e,t){return o.getCharCountIndicator(e,t)+4}function h(e,t){var n=0;return e.forEach(function(e){var r=c(e.mode,t);n+=r+e.getBitsLength()}),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);var a=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return a;var u=a-c(n,e);switch(n){case o.NUMERIC:return Math.floor(u/10*3);case o.ALPHANUMERIC:return Math.floor(u/11*2);case o.KANJI:return Math.floor(u/13);case o.BYTE:default:return Math.floor(u/8)}},t.getBestVersionForData=function(e,n){var r,i=a.from(n,a.M);if(u(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++)if(h(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return r})},zUnb:function(e,t,n){"use strict";n.r(t);var r,i=n("t9bE"),a=n("KUzl"),o=n("MGFw"),s=n("WtWf"),u=n("mvVQ"),l=n("/E8u"),c=n("ofXK"),h=n("fXoL"),d=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=p||(p=document.querySelector("base"))?p.getAttribute("href"):null;return null==n?null:(t=n,r||(r=document.createElement("a")),r.setAttribute("href",t),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){p=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(c.m)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(c.n)(new n)}}]),n}(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.call(this)}return Object(s.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(c.j)),p=null,f=new h.m("TRANSITION_ID"),v=[{provide:h.b,useFactory:function(e,t,n){return function(){n.get(h.c).donePromise.then(function(){var n=Object(c.l)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[f,c.c,h.n],multi:!0}],m=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"addToWindow",value:function(e){h.db.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},h.db.getAllAngularTestabilities=function(){return e.getAllTestabilities()},h.db.getAllAngularRootElements=function(){return e.getAllRootElements()},h.db.frameworkStabilizers||(h.db.frameworkStabilizers=[]),h.db.frameworkStabilizers.push(function(e){var t=h.db.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Object(c.l)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(h.L)(new e)}}]),e}(),y=new h.m("EventManagerPlugins"),g=function(){var e=function(){function e(t,n){var r=this;Object(o.a)(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return Object(s.a)(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Bb(y),h.Bb(h.t))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),b=function(){function e(t){Object(o.a)(this,e),this._doc=t}return Object(s.a)(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Object(c.l)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),_=function(){var e=function(){function e(){Object(o.a)(this,e),this._stylesSet=new Set}return Object(s.a)(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),x=function(){var e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return Object(s.a)(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(w),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(w)})}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(h.Bb(c.c))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}();function w(e){Object(c.l)().remove(e)}var S={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},k=/%COMP%/g,O="%COMP%",E="_nghost-".concat(O),T="_ngcontent-".concat(O);function M(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?M(e,i,n):(i=i.replace(k,e),n.push(i))}return n}function C(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var A=function(){var e=function(){function e(t,n,r){Object(o.a)(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new j(t)}return Object(s.a)(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case h.H.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new L(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case h.H.ShadowDom:return new P(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=M(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Bb(g),h.Bb(x),h.Bb(h.a))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),j=function(){function e(t){Object(o.a)(this,e),this.eventManager=t,this.data=Object.create(null)}return Object(s.a)(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(S[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=S[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=S[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(h.z.DashCase|h.z.Important)?e.style.setProperty(t,n,r&h.z.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&h.z.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}]),e}(),L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){var s;Object(o.a)(this,n),(s=t.call(this,e)).component=i;var u=M(a+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr=T.replace(k,a+"-"+i.id),s.hostAttr=E.replace(k,a+"-"+i.id),s}return Object(s.a)(n,[{key:"applyToHost",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=Object(i.a)(Object(a.a)(n.prototype),"createElement",this).call(this,e,t);return Object(i.a)(Object(a.a)(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(j),P=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){var s;Object(o.a)(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.shadowRoot=i.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=M(a.id,a.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return Object(s.a)(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return Object(i.a)(Object(a.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(Object(i.a)(Object(a.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(j),N=function(){var e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(h.Bb(c.c))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),R=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},z={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},B=function(){var e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),a=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Object(c.l)().onAndCancel(e,i.domEventName,a)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),a="";if(R.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")}),a+=i,0!=t.length||0===i.length)return null;var o={};return o.domEventName=r,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&D.hasOwnProperty(t)&&(t=D[t]))}return I[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),R.forEach(function(r){r!=n&&(0,z[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(h.Bb(c.c))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),F=[{provide:h.v,useValue:c.k},{provide:h.w,useValue:function(){d.makeCurrent(),m.init()},multi:!0},{provide:c.c,useFactory:function(){return Object(h.ib)(document),document},deps:[]}],H=Object(h.I)(h.K,"browser",F),V=[[],{provide:h.N,useValue:"root"},{provide:h.j,useFactory:function(){return new h.j},deps:[]},{provide:y,useClass:N,multi:!0,deps:[c.c,h.t,h.v]},{provide:y,useClass:B,multi:!0,deps:[c.c]},[],{provide:A,useClass:A,deps:[g,x,h.a]},{provide:h.y,useExisting:A},{provide:_,useExisting:x},{provide:x,useClass:x,deps:[c.c]},{provide:h.D,useClass:h.D,deps:[h.t]},{provide:g,useClass:g,deps:[y,h.t]},[]],U=function(){var e=function(){function e(t){if(Object(o.a)(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(s.a)(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:h.a,useValue:t.appId},{provide:f,useExisting:h.a},v]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Bb(e,12))},e.\u0275mod=h.sb({type:e}),e.\u0275inj=h.rb({providers:V,imports:[c.b,h.d]}),e}();"undefined"!=typeof window&&window;var G=n("mrSG"),W=function(){function e(e){this.renderer2Factory=e,this.renderer2=e.createRenderer(null,null)}return e.prototype.handleError=function(e){this.renderer2.setProperty(document.querySelector(".f_o_r_m_my-indicator-message"),"innerText",e),this.renderer2.setProperty(document.querySelector(".f_o_r_m_my-indicator"),"innerText","An error occured"),console.error(e)},e.\u0275fac=function(t){return new(t||e)(h.Bb(h.y))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),q=n("tk/3"),J=n("VRyK"),Z=n("jtHE"),X=n("XNiG"),Y=n("LRne"),Q=n("bHdf");function K(){return Object(Q.a)(1)}var $=n("s0aK"),ee=n("JL25"),te=n("7o/Q");function ne(){}var re=n("n6bG");function ie(e,t,n){return function(r){return r.lift(new ae(e,t,n))}}var ae=function(){function e(t,n,r){Object(o.a)(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new oe(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){var s;return Object(o.a)(this,n),(s=t.call(this,e))._tapNext=ne,s._tapError=ne,s._tapComplete=ne,s._tapError=i||ne,s._tapComplete=a||ne,Object(re.a)(r)?(s._context=Object(ee.a)(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||ne,s._tapError=r.error||ne,s._tapComplete=r.complete||ne),s}return Object(s.a)(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(te.a),se=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),ue=n("EY2u");function le(e){return function(t){return 0===e?Object(ue.b)():t.lift(new ce(e))}}var ce=function(){function e(t){if(Object(o.a)(this,e),this.total=t,this.total<0)throw new se}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new he(e,this.total))}}]),e}(),he=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return Object(s.a)(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(te.a),de=n("3N8a"),pe=new(n("IjjT").a)(de.a);function fe(e){return e instanceof Date&&!isNaN(+e)}var ve=n("WMd4");function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=fe(e),r=n?+e-t.now():Math.abs(e);return function(e){return e.lift(new ye(r,t))}}var ye=function(){function e(t,n){Object(o.a)(this,e),this.delay=t,this.scheduler=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new ge(e,this.delay,this.scheduler))}}]),e}(),ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e)).delay=r,a.scheduler=i,a.queue=[],a.active=!1,a.errored=!1,a}return Object(s.a)(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new be(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(ve.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(ve.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var a=Math.max(0,n[0].time-r.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),n}(te.a),be=function e(t,n){Object(o.a)(this,e),this.time=t,this.notification=n},_e=n("AytR"),xe=n("1Oug"),we=n("xgIS"),Se=n("itXk"),ke=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t=this;if(this.extras=this.nest,"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&"body"===this.extras.type&&void 0!==this.extras.group){var n=this.ryber,r=this.extras.co,i=(this.groups=n[r].metadata.nest).groups;this.extras.group.forEach(function(e,t){i[e.name]={type:e.type,targets:[],nestNameZSymbolMap:{}}}),this.subscriptions.push(n[r].metadata.zChildrenSubject.subscribe(function(){t._nestZChildren({zChildren:n[r].metadata.zChildren,groups:i,ryber:n,co:r})}))}},e.prototype._nestZChildren=function(e){var t=this,n=e.zChildren,r=e.groups;Object.entries(n).forEach(function(e,t){var n,i,a,o=null===(i=null===(n=e[1])||void 0===n?void 0:n.extras)||void 0===i?void 0:i.appNest;null===(a=null==r?void 0:r[null==o?void 0:o.group])||void 0===a||a.targets.push(e)}),Object.entries(r).forEach(function(e,r){var i=e[1];i.targets=i.targets.filter(function(e,t){var n;return"true"!==(null===(n=e[1].extras.appNest.options)||void 0===n?void 0:n.ignore)}),i.targets.forEach(function(e,t){var n=e[1].extras.appNest.name,r=0,a=void 0===e[1].extras.appNest.suffix?n:n+" "+e[1].extras.appNest.suffix;if(void 0===i.nestNameZSymbolMap[a])i.nestNameZSymbolMap[a]=e[0];else{for(;void 0!==i.nestNameZSymbolMap[n+" "+r];)r+=1;e[1].extras.appNest.suffix=r,i.nestNameZSymbolMap[n+" "+r]=e[0]}}),i.targets.forEach(function(e,r){var a,o,s=e[1].extras.appNest,u=s.name,l=s.suffix,c=s.under;void 0!==l&&(void 0!==i.nestNameZSymbolMap[c+" "+l]&&(c+=" "+l),u+=" "+l);var h=i.nestNameZSymbolMap[u],d=i.nestNameZSymbolMap[c];if(void 0!==d)try{t.renderer2.appendChild(n[d].element,n[h].element),"false"!==(null===(o=null===(a=n[h].extras.appNest)||void 0===a?void 0:a.options)||void 0===o?void 0:o.positionStatic)&&(n[h].css.position="static")}catch(p){}}),i.targets=[],i.nestNameZSymbolMap={}}),this.zChildren=n,this.groups=r},e.prototype.ngOnDestroy=function(){var e;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(this.subscriptions.forEach(function(e,t){try{e.unsubscribe()}catch(n){}}),delete this.subscriptions)},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appNest",""]],inputs:{nest:"nest"}}),e}(),Oe=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appVanillaTilt",name:"vanillaTilt"},this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.subscriptions,r=e.navAction,i=n.ref,a=n.zChildren;Object.entries(e.group).forEach(function(e,n){var o=e[1];if("return"===r.full&&(o.init="false"),"true"!==o.init&&void 0!==o.types.target){o.init="true";var s=Array.from(o.types.part||[]);Array.from(o.types.target).forEach(function(e,n){var r,u,l;null===(u=a[e].element.vanillaTilt)||void 0===u||u.destroy(),VanillaTilt.init(a[e].element,Object(G.a)({perspective:500,"mouse-event-element":Object(G.d)(s.map(function(e,t){return a[e].element}),[a[e].element])},null===(l=a[e].extras.appVanillaTilt)||void 0===l?void 0:l.options));var c=function(t){s.forEach(function(t,n){a[t].css["will-change"]=a[e].element.style["will-change"],a[t].css.transform=a[e].element.style.transform}),i.detectChanges()},h=Object(we.a)(a[e].element,"tiltChange").subscribe(c),d=Object(we.a)(a[e].element,"mouseout").pipe(me(50)).subscribe(c);(r=o.subscriptions).push.apply(r,Object(G.d)([h,d])),t.push.apply(t,Object(G.d)(o.subscriptions))})}})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appVanillaTilt",""]],inputs:{vanillaTilt:"vanillaTilt"}}),e}(),Ee=n("2Vo4"),Te=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Me=n("pLZG");function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Ae(e))}}var Ae=function(){function e(t){Object(o.a)(this,e),this.defaultValue=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new je(e,this.defaultValue))}}]),e}(),je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return Object(s.a)(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(te.a);function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return function(t){return t.lift(new Pe(e))}}var Pe=function(){function e(t){Object(o.a)(this,e),this.errorFactory=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new Ne(e,this.errorFactory))}}]),e}(),Ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return Object(s.a)(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(te.a);function Re(){return new Te}var Ie=n("SpAZ");function De(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Me.a)(function(t,n){return e(t,n,r)}):Ie.a,le(1),n?Ce(t):Le(function(){return new Te}))}}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new Be(e,t))}}var Be=function(){function e(t,n){Object(o.a)(this,e),this.count=t,this.source=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new Fe(e,this.count,this.source))}}]),e}(),Fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e)).count=r,a.source=i,a}return Object(s.a)(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return Object(i.a)(Object(a.a)(n.prototype),"error",this).call(this,e);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}}}]),n}(te.a);function He(e){return function(t){return t.lift(new Ve(e))}}var Ve=function(){function e(t){Object(o.a)(this,e),this.total=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new Ue(e,this.total))}}]),e}(),Ue=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return Object(s.a)(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(te.a),Ge=function(){function e(e,t,n){this.renderer2=e,this.ryber=t,this.http=n,this.groups={},this.subscriptions=[],this.controls=[]}return e.prototype.ngOnInit=function(){var e,t=this;if(this.extras=this.deltaNode,"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&"body"===this.extras.type){_e.a.directive.deltaNode.lifecycleHooks&&console.log(this.extras.co+" "+this.extras.zSymbol+" deltaNode ngOnInit fires on mount");var n=this,r=n.ryber,i=n.subscriptions,a=n.http,o=Object($.r)({ryber:r}),s=this.extras.co,u=(this.groups=r[s].metadata.deltaNode).groups,l=r[s].metadata.deltaNode;i.push(Object(Se.a)([r[s].metadata.zChildrenSubject]).pipe(De()).subscribe(function(e){var n=t.zChildren=r[s].metadata.zChildren;t.templateMyElements=r[s].metadata.templateMyElements,t.ref=r[s].metadata.ref;var c=Object($.l)({type:["full"],fn:function(){if("true"===r.appCO0.metadata.navigation.full.navigated&&"true"===r[s].metadata.judima.init)return"return"},ryber:r});if("return"!==c.full)t.extras.group.forEach(function(e,t){u[e.name]={type:e.type,targets:[],hooks:{directive:"prepare",component:new Set},add:[],remove:[],subscriptions:[]},"repeat"===e.type&&("true"===e.complete?u[e.name].repeat={by:0}:(u[e.name].repeat={by:e.by},e.complete="true"))}),Object.entries(t.zChildren).forEach(function(e,t){var n,r,i,a=null===(r=null===(n=e[1])||void 0===n?void 0:n.extras)||void 0===r?void 0:r.appDeltaNode;null===(i=null==u?void 0:u[null==a?void 0:a.group])||void 0===i||i.targets.push(e)}),Object.entries(u).forEach(function(e,u){var h=e[0],d=e[1];"add_remove_button"===d.type?(d.targets=d.targets.map(function(e,n){var r,i,a,o,s,u,l,c,h,p;return"add"===(null===(a=null===(i=null===(r=e[1])||void 0===r?void 0:r.extras)||void 0===i?void 0:i.appDeltaNode)||void 0===a?void 0:a.type)&&(d.add.push({target:e,by:+e[1].extras.appDeltaNode.by}),t.controls.push({element:e[1].element,type:d.type})),"remove"===(null===(u=null===(s=null===(o=e[1])||void 0===o?void 0:o.extras)||void 0===s?void 0:s.appDeltaNode)||void 0===u?void 0:u.type)&&(d.remove.push({target:e,by:+e[1].extras.appDeltaNode.by}),t.controls.push({element:e[1].element,type:d.type})),"increment"===(null===(h=null===(c=null===(l=e[1])||void 0===l?void 0:l.extras)||void 0===c?void 0:c.appDeltaNode)||void 0===h?void 0:h.type)&&(e[1].extras.appDeltaNode.increment={counter:+(null===(p=e[1].innerText)||void 0===p?void 0:p.item.split("")[0])}),e}).filter(function(e,t){var n,r,i;return[void 0,"increment"].includes(null===(i=null===(r=null===(n=e[1])||void 0===n?void 0:n.extras)||void 0===r?void 0:r.appDeltaNode)||void 0===i?void 0:i.type)}),d.deltas=[],d.add.map(function(e,a){e.eventWrapper={fn:function(n){e.target[1].element.disabled||(t._disableButton(),function(e){var n=e.y;d.hooks.component.clear(),Array(n.by).fill(null).forEach(function(){var e=[];d.targets.forEach(function(t,n){var r,i,a,u=Object($.n)(t[1].css),l=function(){var e,n,r,i,a;if("increment"===(null===(r=null===(n=null===(e=t[1])||void 0===e?void 0:e.extras)||void 0===n?void 0:n.appDeltaNode)||void 0===r?void 0:r.type)){var o=null===(i=t[1].innerText)||void 0===i?void 0:i.item.split("");return++t[1].extras.appDeltaNode.increment.counter+(o[1]||"")}return null===(a=t[1].innerText)||void 0===a?void 0:a.item}(),c=Object($.n)(t[1].extras);"true"===(null===(a=null===(i=null===(r=c.appDeltaNode)||void 0===r?void 0:r.options)||void 0===i?void 0:i.target)||void 0===a?void 0:a.confirm)&&(c.appDeltaNode.options.target.zSymbol=t[0]),e.push(o({quantity:2,symbol:t[1].symbol,co:s,bool:t[1].bool,css:u,cssDefault:Object($.n)(t[1].cssDefault),text:l,extras:c,val:t[1].val}))}),t.ref.detectChanges(),l.current={deltas:e,group:h},d.hooks.directive="add prepare",d.deltas.push(e),r[s].metadata.deltaNode.updateZChild.next()})}({result:n,y:e}))},index:i.length},i.push(Object(we.a)(n[e.target[0]].element,"click").subscribe(e.eventWrapper.fn))}),d.remove.map(function(e,a){e.eventWrapper={fn:function(n){e.target[1].element.disabled||(t._disableButton(),function(e){var n=e.y;d.hooks.component.clear(),Array(n.by).fill(null).forEach(function(){if(0===d.deltas.length)return t._enableButton(),void(d.hooks.directive="remove done");var e=Object($.i)(d.deltas.pop(),1/0);d.targets.forEach(function(e,t){var n,r,i;"increment"===(null===(i=null===(r=null===(n=e[1])||void 0===n?void 0:n.extras)||void 0===r?void 0:r.appDeltaNode)||void 0===i?void 0:i.type)&&--e[1].extras.appDeltaNode.increment.counter}),e.forEach(function(e,t){o({symbol:e,type:"remove",co:s})}),t.ref.detectChanges(),l.current={deltas:e,group:h},d.hooks.directive="remove prepare",r[s].metadata.deltaNode.updateZChild.next()})}({result:n,y:e}))},index:i.length},i.push(Object(we.a)(n[e.target[0]].element,"click").subscribe(e.eventWrapper.fn))}),t.subscriptions.push(r[s].metadata.ngAfterViewInitFinished.subscribe(function(e){t._enableButton()}))):"repeat"===d.type?(d.deltas=[],r[s].metadata.ngAfterViewInitFinished.pipe(De()).subscribe(function(e){Array(+d.repeat.by).fill(null).forEach(function(e,n){var i=[];d.targets=d.targets.map(function(e,t){var n,r,a,u,l,c,h;"increment"===(null===(a=null===(r=null===(n=e[1])||void 0===n?void 0:n.extras)||void 0===r?void 0:r.appDeltaNode)||void 0===a?void 0:a.type)&&(e[1].extras.appDeltaNode.increment={counter:+(null===(u=e[1].innerText)||void 0===u?void 0:u.item.split("")[0])});var d=Object($.n)(e[1].css),p=function(){var t,n,r,i,a;if("increment"===(null===(r=null===(n=null===(t=e[1])||void 0===t?void 0:t.extras)||void 0===n?void 0:n.appDeltaNode)||void 0===r?void 0:r.type)){var o=null===(i=e[1].innerText)||void 0===i?void 0:i.item.split("");return++e[1].extras.appDeltaNode.increment.counter+o[1]}return null===(a=e[1].innerText)||void 0===a?void 0:a.item}(),f=Object($.n)(e[1].extras);return"true"===(null===(h=null===(c=null===(l=f.appDeltaNode)||void 0===l?void 0:l.options)||void 0===c?void 0:c.target)||void 0===h?void 0:h.confirm)&&(f.appDeltaNode.options.target.zSymbol=e[0]),i.push(o({quantity:2,symbol:e[1].symbol,co:s,bool:e[1].bool,css:Object($.n)(d),cssDefault:Object($.n)(e[1].cssDefault),text:p,extras:Object($.n)(f),val:e[1].val})),e}),t.ref.detectChanges(),l.current={deltas:i,group:h},d.deltas.push(i),d.hooks.directive="add prepare",r[s].metadata.deltaNode.updateZChild.next()})})):"cdn"===d.type&&(d.deltas=[],d.targets=d.targets.map(function(e,t){var n,r,i,a;return(null===(a=null===(i=null===(r=null===(n=e[1])||void 0===n?void 0:n.extras)||void 0===r?void 0:r.appDeltaNode)||void 0===i?void 0:i.type)||void 0===a?void 0:a.includes("add"))&&d.add.push({target:e,fn:e[1].extras.appDeltaNode.options.fn,result:new Ee.a(1),by:e[1].extras.appDeltaNode.by}),e}).filter(function(e,t){return[null,"increment","target"].filter(function(t,n){var r,i,a;return((null===(a=null===(i=null===(r=e[1])||void 0===r?void 0:r.extras)||void 0===i?void 0:i.appDeltaNode)||void 0===a?void 0:a.type)||[null]).includes(t)}).length>0}),d.add.forEach(function(e,u){var p,f=Array(e.by).fill(null).map(function(t,i){return e.fn({zChildren:n,zSymbol:e.target[0],fromEvent:we.a,http:a,env:_e.a,returnData:e.result,navAction:c,ryber:r,retry:ze})}),v=function(n){var i=[];e.result=n,e.result.message.forEach(function(e,t){d.targets=d.targets.map(function(t,n){var r,a,u,l,c,h,d,p;(null===(l=null===(u=null===(a=null===(r=t[1])||void 0===r?void 0:r.extras)||void 0===a?void 0:a.appDeltaNode)||void 0===u?void 0:u.type)||void 0===l?void 0:l.includes("increment"))&&(t[1].extras.appDeltaNode.increment={counter:+(null===(c=t[1].innerText)||void 0===c?void 0:c.item.split("")[0])});var f=Object($.n)(t[1].css),v=function(){var e,n,r,i,a,o;if(null===(i=null===(r=null===(n=null===(e=t[1])||void 0===e?void 0:e.extras)||void 0===n?void 0:n.appDeltaNode)||void 0===r?void 0:r.type)||void 0===i?void 0:i.includes("increment")){var s=null===(a=t[1].innerText)||void 0===a?void 0:a.item.split("");return++t[1].extras.appDeltaNode.increment.counter+s[1]}return null===(o=t[1].innerText)||void 0===o?void 0:o.item}(),m=Object($.n)(t[1].extras);return m.appDeltaNode.options=m.appDeltaNode.options||{},m.appDeltaNode.options.metadata=e,"true"===(null===(p=null===(d=null===(h=m.appDeltaNode)||void 0===h?void 0:h.options)||void 0===d?void 0:d.target)||void 0===p?void 0:p.confirm)&&(m.appDeltaNode.options.target.zSymbol=t[0]),i.push(o({quantity:2,symbol:t[1].symbol,co:s,bool:t[1].bool,css:Object($.n)(f),cssDefault:Object($.n)(t[1].cssDefault),text:v,extras:Object($.n)(m),val:t[1].val})),t})}),t.ref.detectChanges(),l.current={deltas:i,group:h},d.deltas.push(i),d.hooks.directive="add prepare",r[s].metadata.deltaNode.updateZChild.next()},m=e.result.pipe(He(1)).subscribe(v);e.eventWrapper={zSymbol:e.target[0],index:i.length,returnData:e.result,deltaNodeNormalizer:v},(p=d.subscriptions).push.apply(p,Object(G.d)(f,[m]))}))});else{var h=r[s].metadata.deltaNode.falseDestroy.shift();Object.assign(t,h);var d=t.subscriptions,p=t.zChildren;Object.entries(t.groups.groups).forEach(function(e,t){var n=e[1];"add_remove_button"===n.type?["add","remove"].forEach(function(e,t){n[e].forEach(function(e,t){d[e.eventWrapper.index].unsubscribe(),d[e.eventWrapper.index]=Object(we.a)(p[e.target[0]].element,"click").subscribe(e.eventWrapper.fn)})}):"cdn"===n.type&&(n.subscriptions.forEach(function(e,t){e.unsubscribe()}),n.subscriptions=[],["add","remove"].forEach(function(e,t){n[e].forEach(function(e,t){var i,o=e.fn({zChildren:p,zSymbol:e.eventWrapper.zSymbol,fromEvent:we.a,http:a,env:_e.a,returnData:e.eventWrapper.returnData,navAction:c,ryber:r,retry:ze}),s=e.eventWrapper.returnData.pipe(He(1)).subscribe(e.eventWrapper.deltaNodeNormalizer);(i=n.subscriptions).push.apply(i,Object(G.d)([o,s]))})}))})}}))}},e.prototype._disableButton=function(){var e=this;this.controls.forEach(function(t,n){"add_remove_button"===t.type&&e.renderer2.setAttribute(t.element,"disabled","true")})},e.prototype._enableButton=function(){var e=this;this.controls.forEach(function(t,n){"add_remove_button"===t.type&&e.renderer2.removeAttribute(t.element,"disabled")})},e.prototype.ngOnDestroy=function(){var e,t;if("true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&"body"===(null===(t=this.extras)||void 0===t?void 0:t.type)){_e.a.directive.deltaNode.lifecycleHooks&&console.log(this.extras.co+" "+this.extras.zSymbol+" deltaNode ngOnDestroy fires on dismount");var n=this,r=n.ryber,i=n.subscriptions,a=n.controls,o=n.groups,s=n.extras.co;if("return"===Object($.l)({type:["full"],fn:function(){if("true"===r.appCO0.metadata.navigation.full.navigated)return"return"},ryber:r}).full)return void r[s].metadata.deltaNode.falseDestroy.push({subscriptions:i,controls:a,groups:o});i.forEach(function(e,t){try{e.unsubscribe()}catch(n){}})}},e.\u0275fac=function(t){return new(t||e)(h.ub(h.x),h.ub(xe.a),h.ub(q.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appDeltaNode",""]],inputs:{deltaNode:"deltaNode"}}),e}(),We=function(){function e(e){this.ryber=e,this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t=this;if(this.extras=this.section,"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)){var n=this,r=n.ryber,i=n.zChildren,a=n.subscriptions,o=n.extras.co,s=r[o].metadata.zChildrenSubject.pipe(De()).subscribe(function(){t.zChildren=i=r[o].metadata.zChildren,r.appCO0.metadata.ryber.sectionDefault.app.custom.board=i["&#8353"]}),u=Object(we.a)(window,"resize").subscribe(function(){r.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuery=Object($.m)(getComputedStyle(i["&#8353"].element).width)>=r.appCO0.metadata.ryber.sectionDefault.app.width.value?"desktop":"mobile",r.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuerySubject.next({media:r.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuery})});a.push.apply(a,Object(G.d)([s,u]))}},e.prototype.ngOnDestroy=function(){var e;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(this.subscriptions.forEach(function(e,t){try{e.unsubscribe()}catch(n){}}),delete this.subscriptions)},e.\u0275fac=function(t){return new(t||e)(h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appSection",""]],inputs:{section:"section"}}),e}(),qe=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appNavigation",name:"navigation"},this.subscriptions=[]}return e.prototype.onClick=function(){},e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.subscriptions,r=n.ryber,i=n.zChildren;Object.entries(e.group).forEach(function(e,n){var a=e[1];Array.from(a.types.directLink||[]).forEach(function(e,n){var a=Object(we.a)(i[e].element,"click").subscribe(function(t){r.appCO0.metadata.navigation.full.navigated="true",r.appCurrentNav="/"+i[e].extras.appNavigation.group});t.push(a)}),t.push.apply(t,Object(G.d)(a.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appNavigation",""]],hostBindings:function(e,t){1&e&&h.Eb("click",function(){return t.onClick()})},inputs:{navigation:"navigation"}}),e}(),Je=function(){function e(t,n){Object(o.a)(this,e),this.compare=t,this.keySelector=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new Ze(e,this.compare,this.keySelector))}}]),e}(),Ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return Object(s.a)(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(te.a);function Xe(e,t){return function(e,t){return function(t){return t.lift(new Je(e,void 0))}}(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}var Ye=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appVisible",name:"visible"},this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.subscriptions,r=n.ref,i=n.zChildren,a=n.ryber;Object.entries(e.group).forEach(function(e,n){var o=e[1],s=Array.from(o.types.clickTarget||[]),u=Array.from(o.types.clickPart||[]);s.forEach(function(e,t){var n=Object(we.a)(i[e].element,"click").subscribe(function(e){u.forEach(function(e,t){i[e].css.display="none"===i[e].css.display?"block":"none"}),r.detectChanges()});o.subscriptions.push(n)});var l=Array.from(o.types.sectionDesktop||[]),c=Array.from(o.types.sectionMobile||[]),h=Array.from(o.types.navigateSectionDesktop||[]);Object(G.d)(c,l,h).forEach(function(e,t){i[e].extras.appVisible.display={desktop:{},mobile:{}}}),l.forEach(function(e,t){i[e].extras.appVisible.display.desktop={on:"block",off:"none"};var n=a.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuerySubject.pipe(me(10),He(1),Xe("media")).subscribe(function(t){i[e].css.display="desktop"===t.media?i[e].extras.appVisible.display.desktop.on:i[e].extras.appVisible.display.desktop.off,r.detectChanges()});o.subscriptions.push(n)}),c.forEach(function(e,t){i[e].extras.appVisible.display.mobile={on:"block",off:"none"};var n=a.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuerySubject.pipe(He(1),Xe("media")).subscribe(function(t){i[e].css.display="mobile"===t.media?i[e].extras.appVisible.display.mobile.on:i[e].extras.appVisible.display.mobile.off,r.detectChanges()});o.subscriptions.push(n)}),h.forEach(function(e,t){i[e].extras.appVisible.display.desktop={on:i[e].css.display||"block",off:"none",onSet:"false",offSet:"false"};var n=a.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuerySubject.pipe(me(10),He(1),Xe("media")).subscribe(function(t){"desktop"===t.media?(i[e].css.display=i[e].extras.appVisible.display.desktop.on||"block",i[e].extras.appVisible.display.desktop.onSet="true",i["&#8353"].extras.appNavigation.name===i[e].extras.appVisible.options.url?i[e].css.display="block":i["&#8353"].extras.appNavigation.name!==i[e].extras.appVisible.options.url&&(i[e].css.display="none")):("true"===i[e].extras.appVisible.display.desktop.onSet?(i[e].extras.appVisible.display.desktop.on=i[e].css.display,i[e].css.display=i[e].extras.appVisible.display.desktop.off):i[e].css.display=i[e].extras.appVisible.display.desktop.off,i[e].extras.appVisible.display.desktop.offSet="true"),r.detectChanges()});o.subscriptions.push(n)}),t.push.apply(t,Object(G.d)(o.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appVisible",""]],inputs:{visible:"visible"}}),e}(),Qe=n("Cfvw"),Ke=function(){function e(e,t,n,r,i,a){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.injector=i,this.cfr=a,this.appExtras={selector:"appComponents",name:"components"},this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t,r=this;this.extras=this[this.appExtras.name];var i=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&i({myThis:this,featureFn:function(e){var t=e.subscriptions,i=r.zChildren,a=r.cfr,o=r.injector,s=r.renderer2,u=r.ref,l=r.ryber;Object.entries(e.group).forEach(function(e,c){var h=Object(G.c)(e,2)[1];(r.lazyLoad=Array.from(h.types.lazyLoad||[])).forEach(function(e,t){var r,c;if("true"!==i[e].extras.appComponents.loaded&&"true"===i[e].extras.options.lazyLoad&&"true"===i[e].extras.appComponents.options.lazyLoad.tryAgain){var d=Object(Qe.a)(Promise.resolve().then(n.bind(null,"93si"))).pipe(me((null===(c=null===(r=i[e].extras.options)||void 0===r?void 0:r.component)||void 0===c?void 0:c.lazyLoadDelay)||i[e].extras.appComponents.options.lazyLoad.delay||2e3)).subscribe({next:function(t){var n,r,c,h=a.resolveComponentFactory(t.ComponentsComponent),d=i[e].viewContainerRef.createComponent(h,void 0,o),p=d.instance,f=d.location;p.options=i[e].extras.options,s.addClass(i[e].element,(null===(r=null===(n=p.options)||void 0===n?void 0:n.component)||void 0===r?void 0:r.class)||null),s.appendChild(i[e].element,f.nativeElement),u.detectChanges(),l.appCO0.metadata.components.lazyLoad.current.next({zSymbol:i[e].extras.appComponents.zSymbol,co:i[e].extras.appComponents.co}),(null===(c=i[e].extras.appComponents.options)||void 0===c?void 0:c.lazyLoad)&&(i[e].extras.appComponents.options.lazyLoad.tryAgain="false")}});h.subscriptions.push(d)}}),t.push.apply(t,Object(G.d)(h.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this});var e=this,t=e.lazyLoad,n=e.zChildren;e.ryber.appCO0.metadata.components.ngOnDestroy.pipe(le(1)).subscribe({next:function(e){"finished"===e.hook&&t.forEach(function(e,t){n[e].extras.appComponents.options.lazyLoad.tryAgain="true"})}})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a),h.ub(h.n),h.ub(h.g))},e.\u0275dir=h.pb({type:e,selectors:[["","appComponents",""]],inputs:{components:"components"}}),e}(),$e=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appAttribute",name:"attribute"},this.subscriptions=[]}return e.prototype.onClick=function(){},e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.subscriptions,r=n.zChildren,i=n.ryber,a=n.renderer2,o=n.extras.co;Object.entries(e.group).forEach(function(e,n){var s=e[1];Array.from(s.types.target||[]).forEach(function(e,t){var n=r[e].extras.appAttribute.options.attrObject,u=i[o].metadata.attribute.current.subscribe({next:function(t){t.symbol===e&&Object.entries(t.attrObject).forEach(function(t,n){a.setAttribute(r[e].element,t[0],t[1])})},error:function(e){}});s.subscriptions.push(u),i[o].metadata.attribute.current.next({symbol:e,attrObject:n})}),t.push.apply(t,Object(G.d)(s.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appAttribute",""]],hostBindings:function(e,t){1&e&&h.Eb("click",function(){return t.onClick()})},inputs:{attribute:"attribute"}}),e}(),et=n("zx2A");function tt(e){return function(t){var n=new nt(e),r=t.lift(n);return n.caught=r}}var nt=function(){function e(t){Object(o.a)(this,e),this.selector=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new rt(e,this.selector,this.caught))}}]),e}(),rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e)).selector=r,a.caught=i,a}return Object(s.a)(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void Object(i.a)(Object(a.a)(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var r=new et.a(this);this.add(r);var o=Object(et.c)(t,r);o!==r&&this.add(o)}}}]),n}(et.b),it=n("RQB8"),at=n.n(it);function ot(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}var st,ut=n("QdLy"),lt=n("TR1e"),ct=n("95OS"),ht=n("+EXs");function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}for(var pt=100,ft=1e3,vt=1001,mt=1002,yt=1003,gt=1006,bt=1008,_t=1009,xt=1012,wt=1014,St=1015,kt=1016,Ot=1020,Et=1022,Tt=1023,Mt=1026,Ct=1027,At=2300,jt=2301,Lt=2302,Pt=2400,Nt=2401,Rt=2402,It=2500,Dt=2501,zt=3e3,Bt=3001,Ft=7680,Ht=35044,Vt=35048,Ut="300 es",Gt=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Wt=[],qt=0;qt<256;qt++)Wt[qt]=(qt<16?"0":"")+qt.toString(16);var Jt=Math.PI/180,Zt=180/Math.PI;function Xt(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Wt[255&e]+Wt[e>>8&255]+Wt[e>>16&255]+Wt[e>>24&255]+"-"+Wt[255&t]+Wt[t>>8&255]+"-"+Wt[t>>16&15|64]+Wt[t>>24&255]+"-"+Wt[63&n|128]+Wt[n>>8&255]+"-"+Wt[n>>16&255]+Wt[n>>24&255]+Wt[255&r]+Wt[r>>8&255]+Wt[r>>16&255]+Wt[r>>24&255]).toUpperCase()}function Yt(e,t,n){return Math.max(t,Math.min(n,e))}function Qt(e,t,n){return(1-n)*e+n*t}function Kt(e){return 0==(e&e-1)&&0!==e}function $t(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var en=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this.x=t,this.y=n}return Object(s.a)(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}();en.prototype.isVector2=!0;var tn,nn=function(){function e(){Object(o.a)(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(s.a)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],h=n[2],d=n[5],p=n[8],f=r[0],v=r[3],m=r[6],y=r[1],g=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=a*f+o*y+s*_,i[3]=a*v+o*g+s*x,i[6]=a*m+o*b+s*w,i[1]=u*f+l*y+c*_,i[4]=u*v+l*g+c*x,i[7]=u*m+l*b+c*w,i[2]=h*f+d*y+p*_,i[5]=h*v+d*g+p*x,i[8]=h*m+d*b+p*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,h=o*s-l*i,d=u*i-a*s,p=t*c+n*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);var f=1/p;return e[0]=c*f,e[1]=(r*u-l*n)*f,e[2]=(o*n-r*a)*f,e[3]=h*f,e[4]=(l*t-r*s)*f,e[5]=(r*i-o*t)*f,e[6]=d*f,e[7]=(n*s-u*t)*f,e[8]=(a*t-n*i)*f,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*u,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*u,r[7]=-n*o+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();nn.prototype.isMatrix3=!0;var rn=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===tn&&(tn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),tn.width=e.width,tn.height=e.height;var n=tn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=tn}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}]),e}(),an=0,on=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vt,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gt,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bt,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tt,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:_t,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:zt;return Object(o.a)(this,n),e=t.call(this),Object.defineProperty(Object(ee.a)(e),"id",{value:an++}),e.uuid=Xt(),e.name="",e.image=r,e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=s,e.magFilter=u,e.minFilter=l,e.anisotropy=d,e.format=c,e.internalFormat=null,e.type=h,e.offset=new en(0,0),e.repeat=new en(1,1),e.center=new en(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new nn,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=p,e.version=0,e.onUpdate=null,e}return Object(s.a)(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Xt()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(sn(r[a].isDataTexture?r[a].image:r[a]))}else i=sn(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ft:e.x=e.x-Math.floor(e.x);break;case vt:e.x=e.x<0?0:1;break;case mt:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ft:e.y=e.y-Math.floor(e.y);break;case vt:e.y=e.y<0?0:1;break;case mt:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Gt);function sn(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?rn.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}on.DEFAULT_IMAGE=void 0,on.DEFAULT_MAPPING=300,on.prototype.isTexture=!0;var un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(o.a)(this,e),this.x=t,this.y=n,this.z=r,this.w=i}return Object(s.a)(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],d=s[5],p=s[9],f=s[2],v=s[6],m=s[10];if(Math.abs(l-h)<a&&Math.abs(c-f)<a&&Math.abs(p-v)<a){if(Math.abs(l+h)<o&&Math.abs(c+f)<o&&Math.abs(p+v)<o&&Math.abs(u+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var y=(u+1)/2,g=(d+1)/2,b=(m+1)/2,_=(l+h)/4,x=(c+f)/4,w=(p+v)/4;return y>g&&y>b?y<a?(n=0,r=.707106781,i=.707106781):(r=_/(n=Math.sqrt(y)),i=x/n):g>b?g<a?(n=.707106781,r=0,i=.707106781):(n=_/(r=Math.sqrt(g)),i=w/r):b<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-p)*(v-p)+(c-f)*(c-f)+(h-l)*(h-l));return Math.abs(S)<.001&&(S=1),this.x=(v-p)/S,this.y=(c-f)/S,this.z=(h-l)/S,this.w=Math.acos((u+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}();un.prototype.isVector4=!0;var ln=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.a)(this,n),(i=t.call(this)).width=e,i.height=r,i.depth=1,i.scissor=new un(0,0,e,r),i.scissorTest=!1,i.viewport=new un(0,0,e,r),i.texture=new on(void 0,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.image={width:e,height:r,depth:1},i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:gt,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i}return Object(s.a)(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach(function(t){Object(lt.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Gt);ln.prototype.isWebGLRenderTarget=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;Object(o.a)(this,n);var s=(a=t.call(this,e,r)).texture;a.texture=[];for(var u=0;u<i;u++)a.texture[u]=s.clone();return a}return Object(s.a)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(ln).prototype.isWebGLMultipleRenderTargets=!0;var cn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e,r,i)).samples=4,a}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this}}]),n}(ln);cn.prototype.isWebGLMultisampleRenderTarget=!0;var hn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(o.a)(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return Object(s.a)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),p=s(i/2);switch(a){case"XYZ":this._x=h*l*c+u*d*p,this._y=u*d*c-h*l*p,this._z=u*l*p+h*d*c,this._w=u*l*c-h*d*p;break;case"YXZ":this._x=h*l*c+u*d*p,this._y=u*d*c-h*l*p,this._z=u*l*p-h*d*c,this._w=u*l*c+h*d*p;break;case"ZXY":this._x=h*l*c-u*d*p,this._y=u*d*c+h*l*p,this._z=u*l*p+h*d*c,this._w=u*l*c-h*d*p;break;case"ZYX":this._x=h*l*c-u*d*p,this._y=u*d*c+h*l*p,this._z=u*l*p-h*d*c,this._w=u*l*c+h*d*p;break;case"YZX":this._x=h*l*c+u*d*p,this._y=u*d*c+h*l*p,this._z=u*l*p-h*d*c,this._w=u*l*c-h*d*p;break;case"XZY":this._x=h*l*c-u*d*p,this._y=u*d*c-h*l*p,this._z=u*l*p+h*d*c,this._w=u*l*c+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var p=2*Math.sqrt(1+n-o-c);this._w=(l-s)/p,this._x=.25*p,this._y=(r+a)/p,this._z=(i+u)/p}else if(o>c){var f=2*Math.sqrt(1+o-n-c);this._w=(i-u)/f,this._x=(r+a)/f,this._y=.25*f,this._z=(s+l)/f}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Yt(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],p=i[a+2],f=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=f);if(c!==f||s!==h||u!==d||l!==p){var v=1-o,m=s*h+u*d+l*p+c*f,y=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var b=Math.sqrt(g),_=Math.atan2(b,m*y);v=Math.sin(v*_)/b,o=Math.sin(o*_)/b}var x=o*y;if(s=s*v+h*x,u=u*v+d*x,l=l*v+p*x,c=c*v+f*x,v===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],h=i[a+1],d=i[a+2],p=i[a+3];return e[t]=o*p+l*c+s*d-u*h,e[t+1]=s*p+l*h+u*c-o*d,e[t+2]=u*p+l*d+o*h-s*c,e[t+3]=l*p-o*c-s*h-u*d,e}}]),e}();hn.prototype.isQuaternion=!0;var dn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(o.a)(this,e),this.x=t,this.y=n,this.z=r}return Object(s.a)(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(fn.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(fn.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return pn.copy(this).projectOnVector(e),this.sub(pn)}},{key:"reflect",value:function(e){return this.sub(pn.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Yt(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}();dn.prototype.isVector3=!0;var pn=new dn,fn=new hn,vn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn(-1/0,-1/0,-1/0);Object(o.a)(this,e),this.min=t,this.max=n}return Object(s.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=yn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),gn.copy(t.boundingBox),gn.applyMatrix4(e.matrixWorld),this.union(gn));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,yn),yn.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(On),En.subVectors(this.max,On),bn.subVectors(e.a,On),_n.subVectors(e.b,On),xn.subVectors(e.c,On),wn.subVectors(_n,bn),Sn.subVectors(xn,_n),kn.subVectors(bn,xn);var t=[0,-wn.z,wn.y,0,-Sn.z,Sn.y,0,-kn.z,kn.y,wn.z,0,-wn.x,Sn.z,0,-Sn.x,kn.z,0,-kn.x,-wn.y,wn.x,0,-Sn.y,Sn.x,0,-kn.y,kn.x,0];return!!Cn(t,bn,_n,xn,En)&&!!Cn(t=[1,0,0,0,1,0,0,0,1],bn,_n,xn,En)&&(Tn.crossVectors(wn,Sn),Cn(t=[Tn.x,Tn.y,Tn.z],bn,_n,xn,En))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return yn.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(yn).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(mn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),mn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),mn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),mn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),mn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),mn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),mn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),mn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(mn)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();vn.prototype.isBox3=!0;var mn=[new dn,new dn,new dn,new dn,new dn,new dn,new dn,new dn],yn=new dn,gn=new vn,bn=new dn,_n=new dn,xn=new dn,wn=new dn,Sn=new dn,kn=new dn,On=new dn,En=new dn,Tn=new dn,Mn=new dn;function Cn(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Mn.fromArray(e,a);var s=i.x*Math.abs(Mn.x)+i.y*Math.abs(Mn.y)+i.z*Math.abs(Mn.z),u=t.dot(Mn),l=n.dot(Mn),c=r.dot(Mn);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var An=new vn,jn=new dn,Ln=new dn,Pn=new dn,Nn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(o.a)(this,e),this.center=t,this.radius=n}return Object(s.a)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):An.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Pn.subVectors(e,this.center);var t=Pn.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Pn.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return Ln.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(jn.copy(e.center).add(Ln)),this.expandByPoint(jn.copy(e.center).sub(Ln)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Rn=new dn,In=new dn,Dn=new dn,zn=new dn,Bn=new dn,Fn=new dn,Hn=new dn,Vn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn(0,0,-1);Object(o.a)(this,e),this.origin=t,this.direction=n}return Object(s.a)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Rn)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Rn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rn.copy(this.direction).multiplyScalar(t).add(this.origin),Rn.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){In.copy(e).add(t).multiplyScalar(.5),Dn.copy(t).sub(e).normalize(),zn.copy(this.origin).sub(In);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(Dn),c=zn.dot(this.direction),h=-zn.dot(Dn),d=zn.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(a=l*c-h,s=u*p,(i=l*h-c)>=0)if(a>=-s)if(a<=s){var f=1/p;o=(i*=f)*(i+l*(a*=f)+2*c)+a*(l*i+a+2*h)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-h),u))*(a+2*h)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Dn).multiplyScalar(a).add(In),o}},{key:"intersectSphere",value:function(e,t){Rn.subVectors(e.center,this.origin);var n=Rn.dot(this.direction),r=Rn.dot(Rn)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:this.at(o<0?s:o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,a=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,a=(e.min.y-h.y)*l),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Rn)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Bn.subVectors(t,e),Fn.subVectors(n,e),Hn.crossVectors(Bn,Fn);var a,o=this.direction.dot(Hn);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}zn.subVectors(this.origin,e);var s=a*this.direction.dot(Fn.crossVectors(zn,Fn));if(s<0)return null;var u=a*this.direction.dot(Bn.cross(zn));if(u<0)return null;if(s+u>o)return null;var l=-a*zn.dot(Hn);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Un=function(){function e(){Object(o.a)(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(s.a)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,h,d,p,f,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=d,m[7]=p,m[11]=f,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Gn.setFromMatrixColumn(e,0).length(),i=1/Gn.setFromMatrixColumn(e,1).length(),a=1/Gn.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,d=a*c,p=o*l,f=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+p*u,t[5]=h-f*u,t[9]=-o*s,t[2]=f-h*u,t[6]=p+d*u,t[10]=a*s}else if("YXZ"===e.order){var v=s*l,m=s*c,y=u*l,g=u*c;t[0]=v+g*o,t[4]=y*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-y,t[6]=g+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,_=s*c,x=u*l,w=u*c;t[0]=b-w*o,t[4]=-a*c,t[8]=x+_*o,t[1]=_+x*o,t[5]=a*l,t[9]=w-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*l,k=a*c,O=o*l,E=o*c;t[0]=s*l,t[4]=O*u-k,t[8]=S*u+E,t[1]=s*c,t[5]=E*u+S,t[9]=k*u-O,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,M=a*u,C=o*s,A=o*u;t[0]=s*l,t[4]=A-T*c,t[8]=C*c+M,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=M*c+C,t[10]=T-A*c}else if("XZY"===e.order){var j=a*s,L=a*u,P=o*s,N=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=j*c+N,t[5]=a*l,t[9]=L*c-P,t[2]=P*c-L,t[6]=o*l,t[10]=N*c+j}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(qn,e,Jn)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Yn.subVectors(e,t),0===Yn.lengthSq()&&(Yn.z=1),Yn.normalize(),Zn.crossVectors(n,Yn),0===Zn.lengthSq()&&(1===Math.abs(n.z)?Yn.x+=1e-4:Yn.z+=1e-4,Yn.normalize(),Zn.crossVectors(n,Yn)),Zn.normalize(),Xn.crossVectors(Yn,Zn),r[0]=Zn.x,r[4]=Xn.x,r[8]=Yn.x,r[1]=Zn.y,r[5]=Xn.y,r[9]=Yn.y,r[2]=Zn.z,r[6]=Xn.z,r[10]=Yn.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],d=n[13],p=n[2],f=n[6],v=n[10],m=n[14],y=n[3],g=n[7],b=n[11],_=n[15],x=r[0],w=r[4],S=r[8],k=r[12],O=r[1],E=r[5],T=r[9],M=r[13],C=r[2],A=r[6],j=r[10],L=r[14],P=r[3],N=r[7],R=r[11],I=r[15];return i[0]=a*x+o*O+s*C+u*P,i[4]=a*w+o*E+s*A+u*N,i[8]=a*S+o*T+s*j+u*R,i[12]=a*k+o*M+s*L+u*I,i[1]=l*x+c*O+h*C+d*P,i[5]=l*w+c*E+h*A+d*N,i[9]=l*S+c*T+h*j+d*R,i[13]=l*k+c*M+h*L+d*I,i[2]=p*x+f*O+v*C+m*P,i[6]=p*w+f*E+v*A+m*N,i[10]=p*S+f*T+v*j+m*R,i[14]=p*k+f*M+v*L+m*I,i[3]=y*x+g*O+b*C+_*P,i[7]=y*w+g*E+b*A+_*N,i[11]=y*S+g*T+b*j+_*R,i[15]=y*k+g*M+b*L+_*I,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*u*c-i*o*h+n*u*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*h+i*a*h-r*a*d+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*h+r*a*c-n*a*h+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],p=e[12],f=e[13],v=e[14],m=e[15],y=c*v*u-f*h*u+f*s*d-o*v*d-c*s*m+o*h*m,g=p*h*u-l*v*u-p*s*d+a*v*d+l*s*m-a*h*m,b=l*f*u-p*c*u+p*o*d-a*f*d-l*o*m+a*c*m,_=p*c*s-l*f*s-p*o*h+a*f*h+l*o*v-a*c*v,x=t*y+n*g+r*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=y*w,e[1]=(f*h*i-c*v*i-f*r*d+n*v*d+c*r*m-n*h*m)*w,e[2]=(o*v*i-f*s*i+f*r*u-n*v*u-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*u+n*h*u+o*r*d-n*s*d)*w,e[4]=g*w,e[5]=(l*v*i-p*h*i+p*r*d-t*v*d-l*r*m+t*h*m)*w,e[6]=(p*s*i-a*v*i-p*r*u+t*v*u+a*r*m-t*s*m)*w,e[7]=(a*h*i-l*s*i+l*r*u-t*h*u-a*r*d+t*s*d)*w,e[8]=b*w,e[9]=(p*c*i-l*f*i-p*n*d+t*f*d+l*n*m-t*c*m)*w,e[10]=(a*f*i-p*o*i+p*n*u-t*f*u-a*n*m+t*o*m)*w,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*w,e[12]=_*w,e[13]=(l*f*r-p*c*r+p*n*h-t*f*h-l*n*v+t*c*v)*w,e[14]=(p*o*r-a*f*r-p*n*s+t*f*s+a*n*v-t*o*v)*w,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,d=i*l,p=i*c,f=a*l,v=a*c,m=o*c,y=s*u,g=s*l,b=s*c,_=n.x,x=n.y,w=n.z;return r[0]=(1-(f+m))*_,r[1]=(d+b)*_,r[2]=(p-g)*_,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(h+m))*x,r[6]=(v+y)*x,r[7]=0,r[8]=(p+g)*w,r[9]=(v-y)*w,r[10]=(1-(h+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Gn.set(r[0],r[1],r[2]).length(),a=Gn.set(r[4],r[5],r[6]).length(),o=Gn.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Wn.copy(this);var s=1/i,u=1/a,l=1/o;return Wn.elements[0]*=s,Wn.elements[1]*=s,Wn.elements[2]*=s,Wn.elements[4]*=u,Wn.elements[5]*=u,Wn.elements[6]*=u,Wn.elements[8]*=l,Wn.elements[9]*=l,Wn.elements[10]*=l,t.setFromRotationMatrix(Wn),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(n-r),u=(t+e)/(t-e),l=(n+r)/(n-r),c=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=2*i/(t-e),o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=s,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,h=(n+r)*u,d=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();Un.prototype.isMatrix4=!0;var Gn=new dn,Wn=new Un,qn=new dn(0,0,0),Jn=new dn(1,1,1),Zn=new dn,Xn=new dn,Yn=new dn,Qn=new Un,Kn=new hn,$n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Object(o.a)(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return Object(s.a)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Yt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Yt(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Yt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Yt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Yt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Yt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Qn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Qn,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Kn.setFromEuler(this),this.setFromQuaternion(Kn,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new dn(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();$n.prototype.isEuler=!0,$n.DefaultOrder="XYZ",$n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var er=function(){function e(){Object(o.a)(this,e),this.mask=1}return Object(s.a)(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}}]),e}(),tr=0,nr=new dn,rr=new hn,ir=new Un,ar=new dn,or=new dn,sr=new dn,ur=new hn,lr=new dn(1,0,0),cr=new dn(0,1,0),hr=new dn(0,0,1),dr={type:"added"},pr={type:"removed"},fr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n),e=t.call(this),Object.defineProperty(Object(ee.a)(e),"id",{value:tr++}),e.uuid=Xt(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new dn,i=new $n,a=new hn,s=new dn(1,1,1);return i._onChange(function(){a.setFromEuler(i,!1)}),a._onChange(function(){i.setFromQuaternion(a,void 0,!1)}),Object.defineProperties(Object(ee.a)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Un},normalMatrix:{value:new nn}}),e.matrix=new Un,e.matrixWorld=new Un,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new er,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return Object(s.a)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return rr.setFromAxisAngle(e,t),this.quaternion.multiply(rr),this}},{key:"rotateOnWorldAxis",value:function(e,t){return rr.setFromAxisAngle(e,t),this.quaternion.premultiply(rr),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(lr,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(cr,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(hr,e)}},{key:"translateOnAxis",value:function(e,t){return nr.copy(e).applyQuaternion(this.quaternion),this.position.add(nr.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(lr,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(cr,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(hr,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(ir.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?ar.copy(e):ar.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),or.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ir.lookAt(or,ar,this.up):ir.lookAt(ar,or,this.up),this.quaternion.setFromRotationMatrix(ir),r&&(ir.extractRotation(r.matrixWorld),rr.setFromRotationMatrix(ir),this.quaternion.premultiply(rr.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(dr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(pr)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(pr)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),ir.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ir.multiply(e.parent.matrixWorld)),e.applyMatrix4(ir),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(or,e,sr),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(or,ur,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++)i(e.shapes,o[s]);else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],c=0,h=this.material.length;c<h;c++)l.push(i(e.materials,this.material[c]));r.material=l}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++)r.animations.push(i(e.animations,this.animations[p]))}if(t){var f=x(e.geometries),v=x(e.materials),m=x(e.textures),y=x(e.images),g=x(e.shapes),b=x(e.skeletons),_=x(e.animations);f.length>0&&(n.geometries=f),v.length>0&&(n.materials=v),m.length>0&&(n.textures=m),y.length>0&&(n.images=y),g.length>0&&(n.shapes=g),b.length>0&&(n.skeletons=b),_.length>0&&(n.animations=_)}return n.object=r,n;function x(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Gt);fr.DefaultUp=new dn(0,1,0),fr.DefaultMatrixAutoUpdate=!0,fr.prototype.isObject3D=!0;var vr=new dn,mr=new dn,yr=new dn,gr=new dn,br=new dn,_r=new dn,xr=new dn,wr=new dn,Sr=new dn,kr=new dn,Or=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dn;Object(o.a)(this,e),this.a=t,this.b=n,this.c=r}return Object(s.a)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return vr.subVectors(this.c,this.b),mr.subVectors(this.a,this.b),.5*vr.cross(mr).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;br.subVectors(a,i),_r.subVectors(o,i),wr.subVectors(e,i);var s=br.dot(wr),u=_r.dot(wr);if(s<=0&&u<=0)return t.copy(i);Sr.subVectors(e,a);var l=br.dot(Sr),c=_r.dot(Sr);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(br,n);kr.subVectors(e,o);var d=br.dot(kr),p=_r.dot(kr);if(p>=0&&d<=p)return t.copy(o);var f=d*u-s*p;if(f<=0&&u>=0&&p<=0)return r=u/(u-p),t.copy(i).addScaledVector(_r,r);var v=l*p-d*c;if(v<=0&&c-l>=0&&d-p>=0)return xr.subVectors(o,a),r=(c-l)/(c-l+(d-p)),t.copy(a).addScaledVector(xr,r);var m=1/(v+f+h);return n=f*m,r=h*m,t.copy(i).addScaledVector(br,n).addScaledVector(_r,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),vr.subVectors(e,t),r.cross(vr);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){vr.subVectors(r,t),mr.subVectors(n,t),yr.subVectors(e,t);var a=vr.dot(vr),o=vr.dot(mr),s=vr.dot(yr),u=mr.dot(mr),l=mr.dot(yr),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,d=(u*s-o*l)*h,p=(a*l-o*s)*h;return i.set(1-d-p,p,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,gr),gr.x>=0&&gr.y>=0&&gr.x+gr.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,gr),s.set(0,0),s.addScaledVector(i,gr.x),s.addScaledVector(a,gr.y),s.addScaledVector(o,gr.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return vr.subVectors(n,t),mr.subVectors(e,t),vr.cross(mr).dot(r)<0}}]),e}(),Er=0,Tr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),e=t.call(this),Object.defineProperty(Object(ee.a)(e),"id",{value:Er++}),e.uuid=Xt(),e.name="",e.type="Material",e.fog=!0,e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=pt,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Ft,e.stencilZFail=Ft,e.stencilZPass=Ft,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaTest=0,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e}return Object(s.a)(n,[{key:"onBuild",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Gt);Tr.prototype.isMaterial=!0;var Mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cr={h:0,s:0,l:0},Ar={h:0,s:0,l:0};function jr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Lr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Pr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Nr=function(){function e(t,n,r){return Object(o.a)(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return Object(s.a)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=(e%1+1)%1,t=Yt(t,0,1),n=Yt(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=jr(i,r,e+1/3),this.g=jr(i,r,e),this.b=jr(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[2];switch(n[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){var a=parseFloat(r[1])/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,o,s)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var u=n[1],l=u.length;if(3===l)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Mr[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Lr(e.r),this.g=Lr(e.g),this.b=Lr(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Pr(e.r),this.g=Pr(e.g),this.b=Pr(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),u=(s+o)/2;if(s===o)t=0,n=0;else{var l=o-s;switch(n=u<=.5?l/(o+s):l/(2-o-s),o){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=u,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Cr),Cr.h+=e,Cr.s+=t,Cr.l+=n,this.setHSL(Cr.h,Cr.s,Cr.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Cr),e.getHSL(Ar);var n=Qt(Cr.h,Ar.h,t),r=Qt(Cr.s,Ar.s,t),i=Qt(Cr.l,Ar.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Nr.NAMES=Mr,Nr.prototype.isColor=!0,Nr.prototype.r=1,Nr.prototype.g=1,Nr.prototype.b=1;var Rr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new Nr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this}}]),n}(Tr);Rr.prototype.isMeshBasicMaterial=!0;var Ir=new dn,Dr=new en,zr=function(){function e(t,n,r){if(Object(o.a)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Ht,this.updateRange={offset:0,count:-1},this.version=0}return Object(s.a)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Nr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new en),t[n++]=a.x,t[n++]=a.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new dn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new un),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Dr.fromBufferAttribute(this,t),Dr.applyMatrix3(e),this.setXY(t,Dr.x,Dr.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Ir.fromBufferAttribute(this,r),Ir.applyMatrix3(e),this.setXYZ(r,Ir.x,Ir.y,Ir.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Ir.x=this.getX(t),Ir.y=this.getY(t),Ir.z=this.getZ(t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Ir.x=this.getX(t),Ir.y=this.getY(t),Ir.z=this.getZ(t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Ir.x=this.getX(t),Ir.y=this.getY(t),Ir.z=this.getZ(t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Ht&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();zr.prototype.isBufferAttribute=!0;var Br=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(o.a)(this,n),t.call(this,new Uint16Array(e),r,i)}return n}(zr),Fr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(o.a)(this,n),t.call(this,new Uint32Array(e),r,i)}return n}(zr);(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(o.a)(this,n),t.call(this,new Uint16Array(e),r,i)}return n})(zr).prototype.isFloat16BufferAttribute=!0;var Hr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(o.a)(this,n),t.call(this,new Float32Array(e),r,i)}return n}(zr);function Vr(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;var Ur=0,Gr=new Un,Wr=new fr,qr=new dn,Jr=new vn,Zr=new vn,Xr=new dn,Yr=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),e=t.call(this),Object.defineProperty(Object(ee.a)(e),"id",{value:Ur++}),e.uuid=Xt(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return Object(s.a)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return this.index=Array.isArray(e)?new(Vr(e)>65535?Fr:Br)(e,1):e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new nn).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Gr.makeRotationFromQuaternion(e),this.applyMatrix4(Gr),this}},{key:"rotateX",value:function(e){return Gr.makeRotationX(e),this.applyMatrix4(Gr),this}},{key:"rotateY",value:function(e){return Gr.makeRotationY(e),this.applyMatrix4(Gr),this}},{key:"rotateZ",value:function(e){return Gr.makeRotationZ(e),this.applyMatrix4(Gr),this}},{key:"translate",value:function(e,t,n){return Gr.makeTranslation(e,t,n),this.applyMatrix4(Gr),this}},{key:"scale",value:function(e,t,n){return Gr.makeScale(e,t,n),this.applyMatrix4(Gr),this}},{key:"lookAt",value:function(e){return Wr.lookAt(e),Wr.updateMatrix(),this.applyMatrix4(Wr.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(qr).negate(),this.translate(qr.x,qr.y,qr.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Hr(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new vn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new dn(-1/0,-1/0,-1/0),new dn(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++)Jr.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(Xr.addVectors(this.boundingBox.min,Jr.min),this.boundingBox.expandByPoint(Xr),Xr.addVectors(this.boundingBox.max,Jr.max),this.boundingBox.expandByPoint(Xr)):(this.boundingBox.expandByPoint(Jr.min),this.boundingBox.expandByPoint(Jr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Nn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new dn,1/0);if(e){var n=this.boundingSphere.center;if(Jr.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++)Zr.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Xr.addVectors(Jr.min,Zr.min),Jr.expandByPoint(Xr),Xr.addVectors(Jr.max,Zr.max),Jr.expandByPoint(Xr)):(Jr.expandByPoint(Zr.min),Jr.expandByPoint(Zr.max));Jr.getCenter(n);for(var a=0,o=0,s=e.count;o<s;o++)Xr.fromBufferAttribute(e,o),a=Math.max(a,n.distanceToSquared(Xr));if(t)for(var u=0,l=t.length;u<l;u++)for(var c=t[u],h=this.morphTargetsRelative,d=0,p=c.count;d<p;d++)Xr.fromBufferAttribute(c,d),h&&(qr.fromBufferAttribute(e,d),Xr.add(qr)),a=Math.max(a,n.distanceToSquared(Xr));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeFaceNormals",value:function(){}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new zr(new Float32Array(4*o),4));for(var s=t.tangent.array,u=[],l=[],c=0;c<o;c++)u[c]=new dn,l[c]=new dn;var h=new dn,d=new dn,p=new dn,f=new en,v=new en,m=new en,y=new dn,g=new dn,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var _=0,x=b.length;_<x;++_)for(var w=b[_],S=w.start,k=S,O=S+w.count;k<O;k+=3)I(n[k+0],n[k+1],n[k+2]);for(var E=new dn,T=new dn,M=new dn,C=new dn,A=0,j=b.length;A<j;++A)for(var L=b[A],P=L.start,N=P,R=P+L.count;N<R;N+=3)D(n[N+0]),D(n[N+1]),D(n[N+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),p.fromArray(r,3*n),f.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(h),p.sub(h),v.sub(f),m.sub(f);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(y.copy(d).multiplyScalar(m.y).addScaledVector(p,-v.y).multiplyScalar(i),g.copy(p).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(i),u[e].add(y),u[t].add(y),u[n].add(y),l[e].add(g),l[t].add(g),l[n].add(g))}function D(e){M.fromArray(i,3*e),C.copy(M);var t=u[e];E.copy(t),E.sub(M.multiplyScalar(M.dot(t))).normalize(),T.crossVectors(C,t);var n=T.dot(l[e])<0?-1:1;s[4*e]=E.x,s[4*e+1]=E.y,s[4*e+2]=E.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new zr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new dn,o=new dn,s=new dn,u=new dn,l=new dn,c=new dn,h=new dn,d=new dn;if(e)for(var p=0,f=e.count;p<f;p+=3){var v=e.getX(p+0),m=e.getX(p+1),y=e.getX(p+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,y),u.add(h),l.add(h),c.add(h),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(y,c.x,c.y,c.z)}else for(var g=0,b=t.count;g<b;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(g+0,h.x,h.y,h.z),n.setXYZ(g+1,h.x,h.y,h.z),n.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,u=Math.min(o.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=o[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Xr.fromBufferAttribute(e,t),Xr.normalize(),e.setXYZ(t,Xr.x,Xr.y,Xr.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new zr(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],h=0,d=c.length;h<d;h++){var p=e(c[h],r);l.push(p)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,v=0,m=f.length;v<m;v++){var y=f[v];t.addGroup(y.start,y.count,y.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i)e.data.attributes[a]=i[a].toJSON(e.data);var o={},s=!1;for(var u in this.morphAttributes){for(var l=this.morphAttributes[u],c=[],h=0,d=l.length;h<d;h++)c.push(l[h].toJSON(e.data));c.length>0&&(o[u]=c,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e}},{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r)this.setAttribute(i,r[i].clone(t));var a=e.morphAttributes;for(var o in a){for(var s=[],u=a[o],l=0,c=u.length;l<c;l++)s.push(u[l].clone(t));this.morphAttributes[o]=s}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,d=0,p=h.length;d<p;d++){var f=h[d];this.addGroup(f.start,f.count,f.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var m=e.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Gt);Yr.prototype.isBufferGeometry=!0;var Qr=new Un,Kr=new Vn,$r=new Nn,ei=new dn,ti=new dn,ni=new dn,ri=new dn,ii=new dn,ai=new dn,oi=new dn,si=new dn,ui=new dn,li=new en,ci=new en,hi=new en,di=new dn,pi=new dn,fi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rr;return Object(o.a)(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),$r.copy(r.boundingSphere),$r.applyMatrix4(a),!1!==e.ray.intersectsSphere($r)&&(Qr.copy(a).invert(),Kr.copy(e.ray).applyMatrix4(Qr),null===r.boundingBox||!1!==Kr.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,u=r.morphAttributes.position,l=r.morphTargetsRelative,c=r.attributes.uv,h=r.attributes.uv2,d=r.groups,p=r.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,v=d.length;f<v;f++)for(var m=d[f],y=i[m.materialIndex],g=Math.max(m.start,p.start),b=Math.min(m.start+m.count,p.start+p.count);g<b;g+=3){var _=o.getX(g),x=o.getX(g+1),w=o.getX(g+2);(n=vi(this,y,e,Kr,s,u,l,c,h,_,x,w))&&(n.faceIndex=Math.floor(g/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var S=Math.max(0,p.start),k=Math.min(o.count,p.start+p.count);S<k;S+=3){var O=o.getX(S),E=o.getX(S+1),T=o.getX(S+2);(n=vi(this,i,e,Kr,s,u,l,c,h,O,E,T))&&(n.faceIndex=Math.floor(S/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var M=0,C=d.length;M<C;M++)for(var A=d[M],j=i[A.materialIndex],L=Math.max(A.start,p.start),P=Math.min(A.start+A.count,p.start+p.count);L<P;L+=3)(n=vi(this,j,e,Kr,s,u,l,c,h,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),n.face.materialIndex=A.materialIndex,t.push(n));else for(var N=Math.max(0,p.start),R=Math.min(s.count,p.start+p.count);N<R;N+=3)(n=vi(this,i,e,Kr,s,u,l,c,h,N,N+1,N+2))&&(n.faceIndex=Math.floor(N/3),t.push(n))}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(fr);function vi(e,t,n,r,i,a,o,s,u,l,c,h){ei.fromBufferAttribute(i,l),ti.fromBufferAttribute(i,c),ni.fromBufferAttribute(i,h);var d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){oi.set(0,0,0),si.set(0,0,0),ui.set(0,0,0);for(var p=0,f=a.length;p<f;p++){var v=d[p],m=a[p];0!==v&&(ri.fromBufferAttribute(m,l),ii.fromBufferAttribute(m,c),ai.fromBufferAttribute(m,h),o?(oi.addScaledVector(ri,v),si.addScaledVector(ii,v),ui.addScaledVector(ai,v)):(oi.addScaledVector(ri.sub(ei),v),si.addScaledVector(ii.sub(ti),v),ui.addScaledVector(ai.sub(ni),v)))}ei.add(oi),ti.add(si),ni.add(ui)}e.isSkinnedMesh&&(e.boneTransform(l,ei),e.boneTransform(c,ti),e.boneTransform(h,ni));var y=function(e,t,n,r,i,a,o,s){if(null===(1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,2!==t.side,s)))return null;pi.copy(s),pi.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(pi);return u<n.near||u>n.far?null:{distance:u,point:pi.clone(),object:e}}(e,t,n,r,ei,ti,ni,di);if(y){s&&(li.fromBufferAttribute(s,l),ci.fromBufferAttribute(s,c),hi.fromBufferAttribute(s,h),y.uv=Or.getUV(di,ei,ti,ni,li,ci,hi,new en)),u&&(li.fromBufferAttribute(u,l),ci.fromBufferAttribute(u,c),hi.fromBufferAttribute(u,h),y.uv2=Or.getUV(di,ei,ti,ni,li,ci,hi,new en));var g={a:l,b:c,c:h,normal:new dn,materialIndex:0};Or.getNormal(ei,ti,ni,g.normal),y.face=g}return y}fi.prototype.isMesh=!0;var mi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(o.a)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:s,heightSegments:u,depthSegments:l};var c=Object(ee.a)(e);s=Math.floor(s),u=Math.floor(u),l=Math.floor(l);var h=[],d=[],p=[],f=[],v=0,m=0;function y(e,t,n,r,i,a,o,s,u,l,y){for(var g=a/u,b=o/l,_=a/2,x=o/2,w=s/2,S=u+1,k=l+1,O=0,E=0,T=new dn,M=0;M<k;M++)for(var C=M*b-x,A=0;A<S;A++)T[e]=(A*g-_)*r,T[t]=C*i,T[n]=w,d.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,p.push(T.x,T.y,T.z),f.push(A/u),f.push(1-M/l),O+=1;for(var j=0;j<l;j++)for(var L=0;L<u;L++){var P=v+L+S*(j+1),N=v+(L+1)+S*(j+1),R=v+(L+1)+S*j;h.push(v+L+S*j,P,R),h.push(P,N,R),E+=6}c.addGroup(m,E,y),m+=E,v+=O}return y("z","y","x",-1,-1,a,i,r,l,u,0),y("z","y","x",1,-1,a,i,-r,l,u,1),y("x","z","y",1,1,r,a,i,s,l,2),y("x","z","y",1,-1,r,a,-i,s,l,3),y("x","y","z",1,-1,r,i,a,s,u,4),y("x","y","z",-1,-1,r,i,-a,s,u,5),e.setIndex(h),e.setAttribute("position",new Hr(d,3)),e.setAttribute("normal",new Hr(p,3)),e.setAttribute("uv",new Hr(f,2)),e}return Object(s.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Yr);function yi(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];t[n][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}return t}function gi(e){for(var t={},n=0;n<e.length;n++){var r=yi(e[n]);for(var i in r)t[i]=r[i]}return t}var bi={clone:yi,merge:gi},_i=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.morphTargets=!1,r.morphNormals=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var s={};for(var u in this.extensions)!0===this.extensions[u]&&(s[u]=!0);return Object.keys(s).length>0&&(t.extensions=s),t}}]),n}(Tr);_i.prototype.isShaderMaterial=!0;var xi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new Un,e.projectionMatrix=new Un,e.projectionMatrixInverse=new Un,e}return Object(s.a)(n,[{key:"copy",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Object(i.a)(Object(a.a)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(fr);xi.prototype.isCamera=!0;var wi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Object(o.a)(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=s,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return Object(s.a)(n,[{key:"copy",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Zt*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Jt*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Zt*Math.atan(Math.tan(.5*Jt*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Jt*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(xi);wi.prototype.isPerspectiveCamera=!0;var Si=90,ki=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;if(Object(o.a)(this,n),(a=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),Object(ht.a)(a);a.renderTarget=i;var s=new wi(Si,1,e,r);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new dn(1,0,0)),a.add(s);var u=new wi(Si,1,e,r);u.layers=a.layers,u.up.set(0,-1,0),u.lookAt(new dn(-1,0,0)),a.add(u);var l=new wi(Si,1,e,r);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(new dn(0,1,0)),a.add(l);var c=new wi(Si,1,e,r);c.layers=a.layers,c.up.set(0,0,-1),c.lookAt(new dn(0,-1,0)),a.add(c);var h=new wi(Si,1,e,r);h.layers=a.layers,h.up.set(0,-1,0),h.lookAt(new dn(0,0,1)),a.add(h);var d=new wi(Si,1,e,r);return d.layers=a.layers,d.up.set(0,-1,0),d.lookAt(new dn(0,0,-1)),a.add(d),a}return Object(s.a)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=Object(ct.a)(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=e.xr.enabled,h=e.getRenderTarget();e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(h),e.xr.enabled=c}}]),n}(fr),Oi=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u,l,c,h,d){var p;return Object(o.a)(this,n),(p=t.call(this,e=void 0!==e?e:[],r=void 0!==r?r:301,i,a,s,u,l=void 0!==l?l:Et,c,h,d))._needsFlipEnvMap=!0,p.flipY=!1,p}return Object(s.a)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(on);Oi.prototype.isCubeTexture=!0;var Ei=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=i),(a=t.call(this,e,e,r)).texture=new Oi(void 0,(r=r||{}).mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),a.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,a.texture.minFilter=void 0!==r.minFilter?r.minFilter:gt,a.texture._needsFlipEnvMap=!1,a}return Object(s.a)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=Tt,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n=new mi(5,5,5),r=new _i({name:"CubemapFromEquirect",uniforms:yi({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});r.uniforms.tEquirect.value=t;var i=new fi(n,r),a=t.minFilter;return t.minFilter===bt&&(t.minFilter=gt),new ki(1,10,this).update(e,i),t.minFilter=a,i.geometry.dispose(),i.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(ln);Ei.prototype.isWebGLCubeRenderTarget=!0;var Ti=new dn,Mi=new dn,Ci=new nn,Ai=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this.normal=t,this.constant=n}return Object(s.a)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Ti.subVectors(n,t).cross(Mi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Ti),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Ci.getNormalMatrix(e),r=this.coplanarPoint(Ti).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Ai.prototype.isPlane=!0;var ji=new Nn,Li=new dn,Pi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ai,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ai,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ai,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ai,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ai,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ai;Object(o.a)(this,e),this.planes=[t,n,r,i,a,s]}return Object(s.a)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],d=n[9],p=n[10],f=n[11],v=n[12],m=n[13],y=n[14],g=n[15];return t[0].setComponents(o-r,c-s,f-h,g-v).normalize(),t[1].setComponents(o+r,c+s,f+h,g+v).normalize(),t[2].setComponents(o+i,c+u,f+d,g+m).normalize(),t[3].setComponents(o-i,c-u,f-d,g-m).normalize(),t[4].setComponents(o-a,c-l,f-p,g-y).normalize(),t[5].setComponents(o+a,c+l,f+p,g+y).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ji.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ji)}},{key:"intersectsSprite",value:function(e){return ji.center.set(0,0,0),ji.radius=.7071067811865476,ji.applyMatrix4(e.matrixWorld),this.intersectsSphere(ji)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Li.x=r.normal.x>0?e.max.x:e.min.x,Li.y=r.normal.y>0?e.max.y:e.min.y,Li.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Li)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Ni(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Ri(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback();var s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=5121),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var Ii=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(o.a)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:s};for(var u=r/2,l=i/2,c=Math.floor(a),h=Math.floor(s),d=c+1,p=h+1,f=r/c,v=i/h,m=[],y=[],g=[],b=[],_=0;_<p;_++)for(var x=_*v-l,w=0;w<d;w++){var S=w*f-u;y.push(S,-x,0),g.push(0,0,1),b.push(w/c),b.push(1-_/h)}for(var k=0;k<h;k++)for(var O=0;O<c;O++){var E=O+d*k,T=O+d*(k+1),M=O+1+d*(k+1),C=O+1+d*k;m.push(E,T,C),m.push(T,M,C)}return e.setIndex(m),e.setAttribute("position",new Hr(y,3)),e.setAttribute("normal",new Hr(g,3)),e.setAttribute("uv",new Hr(b,2)),e}return Object(s.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Yr),Di={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotVH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSNMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\n\t\tnormal, v, roughnessFactor, material.diffuseColor, totalSpecular,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform vec3 attenuationColor;\n\tuniform float attenuationDistance;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},zi={common:{diffuse:{value:new Nr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new nn},uv2Transform:{value:new nn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new en(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new nn}},sprite:{diffuse:{value:new Nr(16777215)},opacity:{value:1},center:{value:new en(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new nn}}},Bi={basic:{uniforms:gi([zi.common,zi.specularmap,zi.envmap,zi.aomap,zi.lightmap,zi.fog]),vertexShader:Di.meshbasic_vert,fragmentShader:Di.meshbasic_frag},lambert:{uniforms:gi([zi.common,zi.specularmap,zi.envmap,zi.aomap,zi.lightmap,zi.emissivemap,zi.fog,zi.lights,{emissive:{value:new Nr(0)}}]),vertexShader:Di.meshlambert_vert,fragmentShader:Di.meshlambert_frag},phong:{uniforms:gi([zi.common,zi.specularmap,zi.envmap,zi.aomap,zi.lightmap,zi.emissivemap,zi.bumpmap,zi.normalmap,zi.displacementmap,zi.fog,zi.lights,{emissive:{value:new Nr(0)},specular:{value:new Nr(1118481)},shininess:{value:30}}]),vertexShader:Di.meshphong_vert,fragmentShader:Di.meshphong_frag},standard:{uniforms:gi([zi.common,zi.envmap,zi.aomap,zi.lightmap,zi.emissivemap,zi.bumpmap,zi.normalmap,zi.displacementmap,zi.roughnessmap,zi.metalnessmap,zi.fog,zi.lights,{emissive:{value:new Nr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Di.meshphysical_vert,fragmentShader:Di.meshphysical_frag},toon:{uniforms:gi([zi.common,zi.aomap,zi.lightmap,zi.emissivemap,zi.bumpmap,zi.normalmap,zi.displacementmap,zi.gradientmap,zi.fog,zi.lights,{emissive:{value:new Nr(0)}}]),vertexShader:Di.meshtoon_vert,fragmentShader:Di.meshtoon_frag},matcap:{uniforms:gi([zi.common,zi.bumpmap,zi.normalmap,zi.displacementmap,zi.fog,{matcap:{value:null}}]),vertexShader:Di.meshmatcap_vert,fragmentShader:Di.meshmatcap_frag},points:{uniforms:gi([zi.points,zi.fog]),vertexShader:Di.points_vert,fragmentShader:Di.points_frag},dashed:{uniforms:gi([zi.common,zi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Di.linedashed_vert,fragmentShader:Di.linedashed_frag},depth:{uniforms:gi([zi.common,zi.displacementmap]),vertexShader:Di.depth_vert,fragmentShader:Di.depth_frag},normal:{uniforms:gi([zi.common,zi.bumpmap,zi.normalmap,zi.displacementmap,{opacity:{value:1}}]),vertexShader:Di.normal_vert,fragmentShader:Di.normal_frag},sprite:{uniforms:gi([zi.sprite,zi.fog]),vertexShader:Di.sprite_vert,fragmentShader:Di.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null}},vertexShader:Di.background_vert,fragmentShader:Di.background_frag},cube:{uniforms:gi([zi.envmap,{opacity:{value:1}}]),vertexShader:Di.cube_vert,fragmentShader:Di.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Di.equirect_vert,fragmentShader:Di.equirect_frag},distanceRGBA:{uniforms:gi([zi.common,zi.displacementmap,{referencePosition:{value:new dn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Di.distanceRGBA_vert,fragmentShader:Di.distanceRGBA_frag},shadow:{uniforms:gi([zi.lights,zi.fog,{color:{value:new Nr(0)},opacity:{value:1}}]),vertexShader:Di.shadow_vert,fragmentShader:Di.shadow_frag}};function Fi(e,t,n,r,i){var a,o,s=new Nr(0),u=0,l=null,c=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){d(s,u=e)},render:function(n,i){var p=!1,f=!0===i.isScene?i.background:null;f&&f.isTexture&&(f=t.get(f));var v=e.xr,m=v.getSession&&v.getSession();m&&"additive"===m.environmentBlendMode&&(f=null),null===f?d(s,u):f&&f.isColor&&(d(f,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||306===f.mapping)?(void 0===o&&((o=new fi(new mi(1,1,1),new _i({name:"BackgroundCubeMaterial",uniforms:yi(Bi.cube.uniforms),vertexShader:Bi.cube.vertexShader,fragmentShader:Bi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),o.material.uniforms.envMap.value=f,o.material.uniforms.flipEnvMap.value=f.isCubeTexture&&f._needsFlipEnvMap?-1:1,l===f&&c===f.version&&h===e.toneMapping||(o.material.needsUpdate=!0,l=f,c=f.version,h=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):f&&f.isTexture&&(void 0===a&&((a=new fi(new Ii(2,2),new _i({name:"BackgroundMaterial",uniforms:yi(Bi.background.uniforms),vertexShader:Bi.background.vertexShader,fragmentShader:Bi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),a.material.uniforms.uvTransform.value.copy(f.matrix),l===f&&c===f.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=f,c=f.version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Hi(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=d(null),l=u;function c(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function f(e){v(e,0)}function v(n,i){var a=l.enabledAttributes,o=l.attributeDivisors;l.newAttributes[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),o[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),o[n]=i)}function m(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function g(){b(),l!==u&&c((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,h,g,b){var _=!1;if(o){var x=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(s[t.id]=u={});var l=u[n.id];void 0===l&&(u[n.id]=l={});var c=l[o];return void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c),c}(g,h,u);l!==x&&c((l=x).object),(_=function(e,t){var n=l.attributes,r=e.attributes,i=0;for(var a in r){var o=n[a],s=r[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;i++}return l.attributesNum!==i||l.index!==t}(g,b))&&function(e,t){var n={},r=e.attributes,i=0;for(var a in r){var o=r[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,i++}l.attributes=n,l.attributesNum=i,l.index=t}(g,b)}else{var w=!0===u.wireframe;l.geometry===g.id&&l.program===h.id&&l.wireframe===w||(l.geometry=g.id,l.program=h.id,l.wireframe=w,_=!0)}!0===i.isInstancedMesh&&(_=!0),null!==b&&n.update(b,34963),_&&(function(i,a,o,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var h in l){var d=l[h];if(d>=0){var g=u[h];if(void 0!==g){var b=g.normalized,_=g.itemSize,x=n.get(g);if(void 0===x)continue;var w=x.buffer,S=x.type,k=x.bytesPerElement;if(g.isInterleavedBufferAttribute){var O=g.data,E=O.stride,T=g.offset;O&&O.isInstancedInterleavedBuffer?(v(d,O.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=O.meshPerAttribute*O.count)):f(d),e.bindBuffer(34962,w),y(d,_,S,b,E*k,T*k)}else g.isInstancedBufferAttribute?(v(d,g.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)):f(d),e.bindBuffer(34962,w),y(d,_,S,b,0,0)}else if("instanceMatrix"===h){var M=n.get(i.instanceMatrix);if(void 0===M)continue;var C=M.buffer,A=M.type;v(d+0,1),v(d+1,1),v(d+2,1),v(d+3,1),e.bindBuffer(34962,C),e.vertexAttribPointer(d+0,4,A,!1,64,0),e.vertexAttribPointer(d+1,4,A,!1,64,16),e.vertexAttribPointer(d+2,4,A,!1,64,32),e.vertexAttribPointer(d+3,4,A,!1,64,48)}else if("instanceColor"===h){var j=n.get(i.instanceColor);if(void 0===j)continue;var L=j.buffer,P=j.type;v(d,1),e.bindBuffer(34962,L),e.vertexAttribPointer(d,3,P,!1,12,0)}else if(void 0!==c){var N=c[h];if(void 0!==N)switch(N.length){case 2:e.vertexAttrib2fv(d,N);break;case 3:e.vertexAttrib3fv(d,N);break;case 4:e.vertexAttrib4fv(d,N);break;default:e.vertexAttrib1fv(d,N)}}}}m()}}(i,u,h,g),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:g,resetDefaultState:b,dispose:function(){for(var e in g(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)h(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:m}}function Vi(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function Ui(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),f=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),y=e.getParameter(36349),g=h>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:y,vertexTextures:g,floatFragmentTextures:b,floatVertexTextures:g&&b,maxSamples:a?e.getParameter(36183):0}}function Gi(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Ai,s=new nn,u={value:null,needsUpdate:!1};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,p=r;d!==a;++d,p+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(l,p),l[p+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,f=e.get(t);if(!i||null===h||0===h.length||a&&!p)a?c(null):l();else{var v=a?0:r,m=4*v,y=f.clippingState||null;u.value=y,y=c(h,o,m,s);for(var g=0;g!==m;++g)y[g]=n[g];f.clippingState=y,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function Wi(e){var t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(303===a||304===a){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=e.getRenderTarget(),u=new Ei(o.height/2);return u.fromEquirectangularTexture(e,i),t.set(i,u),e.setRenderTarget(s),i.addEventListener("dispose",r),n(u.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}function qi(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ji(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete i[s.id];var l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],d=s[u+2];n.push(c,h,h,d,d,c)}}else{o=i.version;for(var p=0,f=i.array.length/3-1;p<f;p+=3){var v=p+0,m=p+1,y=p+2;n.push(v,m,m,y,y,v)}}var g=new(Vr(n)>65535?Fr:Br)(n,1);g.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,g)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Zi(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,u,a,r*o,l),n.update(u,i,l)}}}function Xi(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Yi(e,t){return e[0]-t[0]}function Qi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ki(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,a,o,s){var u=i.morphTargetInfluences,l=void 0===u?0:u.length,c=t[a.id];if(void 0===c||c.length!==l){c=[];for(var h=0;h<l;h++)c[h]=[h,0];t[a.id]=c}for(var d=0;d<l;d++){var p=c[d];p[0]=d,p[1]=u[d]}c.sort(Qi);for(var f=0;f<8;f++)f<l&&c[f][1]?(r[f][0]=c[f][0],r[f][1]=c[f][1]):(r[f][0]=Number.MAX_SAFE_INTEGER,r[f][1]=0);r.sort(Yi);for(var v=o.morphTargets&&a.morphAttributes.position,m=o.morphNormals&&a.morphAttributes.normal,y=0,g=0;g<8;g++){var b=r[g],_=b[0],x=b[1];_!==Number.MAX_SAFE_INTEGER&&x?(v&&a.getAttribute("morphTarget"+g)!==v[_]&&a.setAttribute("morphTarget"+g,v[_]),m&&a.getAttribute("morphNormal"+g)!==m[_]&&a.setAttribute("morphNormal"+g,m[_]),n[g]=x,y+=x):(v&&!0===a.hasAttribute("morphTarget"+g)&&a.deleteAttribute("morphTarget"+g),m&&!0===a.hasAttribute("morphNormal"+g)&&a.deleteAttribute("morphNormal"+g),n[g]=0)}var w=a.morphTargetsRelative?1:1-y;s.getUniforms().setValue(e,"morphTargetBaseInfluence",w),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function $i(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=t.get(e,e.geometry);return i.get(s)!==o&&(t.update(s),i.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}Bi.physical={uniforms:gi([Bi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new en(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Nr(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new en},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Nr(0)}}]),vertexShader:Di.meshphysical_vert,fragmentShader:Di.meshphysical_frag};var ea=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(o.a)(this,n),(e=t.call(this,null)).image={data:r,width:i,height:a,depth:s},e.magFilter=yt,e.minFilter=yt,e.wrapR=vt,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return n}(on);ea.prototype.isDataTexture2DArray=!0;var ta=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(o.a)(this,n),(e=t.call(this,null)).image={data:r,width:i,height:a,depth:s},e.magFilter=yt,e.minFilter=yt,e.wrapR=vt,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return n}(on);ta.prototype.isDataTexture3D=!0;var na=new on,ra=new ea,ia=new ta,aa=new Oi,oa=[],sa=[],ua=new Float32Array(16),la=new Float32Array(9),ca=new Float32Array(4);function ha(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=oa[i];if(void 0===a&&(a=new Float32Array(i),oa[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)e[o].toArray(a,s+=n)}return a}function da(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function pa(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function fa(e,t){var n=sa[t];void 0===n&&(n=new Int32Array(t),sa[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function va(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ma(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(da(n,t))return;e.uniform2fv(this.addr,t),pa(n,t)}}function ya(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(da(n,t))return;e.uniform3fv(this.addr,t),pa(n,t)}}function ga(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(da(n,t))return;e.uniform4fv(this.addr,t),pa(n,t)}}function ba(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(da(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),pa(n,t)}else{if(da(n,r))return;ca.set(r),e.uniformMatrix2fv(this.addr,!1,ca),pa(n,r)}}function _a(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(da(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),pa(n,t)}else{if(da(n,r))return;la.set(r),e.uniformMatrix3fv(this.addr,!1,la),pa(n,r)}}function xa(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(da(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),pa(n,t)}else{if(da(n,r))return;ua.set(r),e.uniformMatrix4fv(this.addr,!1,ua),pa(n,r)}}function wa(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Sa(e,t){var n=this.cache;da(n,t)||(e.uniform2iv(this.addr,t),pa(n,t))}function ka(e,t){var n=this.cache;da(n,t)||(e.uniform3iv(this.addr,t),pa(n,t))}function Oa(e,t){var n=this.cache;da(n,t)||(e.uniform4iv(this.addr,t),pa(n,t))}function Ea(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ta(e,t){var n=this.cache;da(n,t)||(e.uniform2uiv(this.addr,t),pa(n,t))}function Ma(e,t){var n=this.cache;da(n,t)||(e.uniform3uiv(this.addr,t),pa(n,t))}function Ca(e,t){var n=this.cache;da(n,t)||(e.uniform4uiv(this.addr,t),pa(n,t))}function Aa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||na,i)}function ja(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ia,i)}function La(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||aa,i)}function Pa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||ra,i)}function Na(e,t){e.uniform1fv(this.addr,t)}function Ra(e,t){var n=ha(t,this.size,2);e.uniform2fv(this.addr,n)}function Ia(e,t){var n=ha(t,this.size,3);e.uniform3fv(this.addr,n)}function Da(e,t){var n=ha(t,this.size,4);e.uniform4fv(this.addr,n)}function za(e,t){var n=ha(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Ba(e,t){var n=ha(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Fa(e,t){var n=ha(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ha(e,t){e.uniform1iv(this.addr,t)}function Va(e,t){e.uniform2iv(this.addr,t)}function Ua(e,t){e.uniform3iv(this.addr,t)}function Ga(e,t){e.uniform4iv(this.addr,t)}function Wa(e,t){e.uniform1uiv(this.addr,t)}function qa(e,t){e.uniform2uiv(this.addr,t)}function Ja(e,t){e.uniform3uiv(this.addr,t)}function Za(e,t){e.uniform4uiv(this.addr,t)}function Xa(e,t,n){var r=t.length,i=fa(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||na,i[a])}function Ya(e,t,n){var r=t.length,i=fa(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||aa,i[a])}function Qa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return va;case 35664:return ma;case 35665:return ya;case 35666:return ga;case 35674:return ba;case 35675:return _a;case 35676:return xa;case 5124:case 35670:return wa;case 35667:case 35671:return Sa;case 35668:case 35672:return ka;case 35669:case 35673:return Oa;case 5125:return Ea;case 36294:return Ta;case 36295:return Ma;case 36296:return Ca;case 35678:case 36198:case 36298:case 36306:case 35682:return Aa;case 35679:case 36299:case 36307:return ja;case 35680:case 36300:case 36308:case 36293:return La;case 36289:case 36303:case 36311:case 36292:return Pa}}(t.type)}function Ka(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Na;case 35664:return Ra;case 35665:return Ia;case 35666:return Da;case 35674:return za;case 35675:return Ba;case 35676:return Fa;case 5124:case 35670:return Ha;case 35667:case 35671:return Va;case 35668:case 35672:return Ua;case 35669:case 35673:return Ga;case 5125:return Wa;case 36294:return qa;case 36295:return Ja;case 36296:return Za;case 35678:case 36198:case 36298:case 36306:case 35682:return Xa;case 35680:case 36300:case 36308:case 36293:return Ya}}(t.type)}function $a(e){this.id=e,this.seq=[],this.map={}}Ka.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),pa(t,e)},$a.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var eo=/(\w+)(\])?(\[|\.)?/g;function to(e,t){e.seq.push(t),e.map[t.id]=t}function no(e,t,n){var r=e.name,i=r.length;for(eo.lastIndex=0;;){var a=eo.exec(r),o=a[1],s=a[3];if("]"===a[2]&&(o|=0),void 0===s||"["===s&&eo.lastIndex+2===i){to(n,void 0===s?new Qa(o,e,t):new Ka(o,e,t));break}var u=n.map[o];void 0===u&&to(n,u=new $a(o)),n=u}}function ro(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);no(i,e.getUniformLocation(t,i.name),this)}}function io(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}ro.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},ro.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},ro.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},ro.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var ao=0;function oo(e){switch(e){case zt:return["Linear","( value )"];case Bt:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function so(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function uo(e,t){var n=oo(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function lo(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function co(e){return""!==e}function ho(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function po(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var fo=/^[ \t]*#include +<([\w\d./]+)>/gm;function vo(e){return e.replace(fo,mo)}function mo(e,t){var n=Di[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return vo(n)}var yo=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,go=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bo(e){return e.replace(go,xo).replace(yo,_o)}function _o(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),xo(0,t,n,r)}function xo(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function wo(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function So(e,t,n,r){var i,a,o,s,u=e.getContext(),l=n.defines,c=n.vertexShader,h=n.fragmentShader,d=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),p=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(n),v=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),m=e.gammaFactor>0?e.gammaFactor:1,y=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission>0)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(co).join("\n")}(n),g=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(l),b=u.createProgram(),_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[g].filter(co).join("\n")).length>0&&(i+="\n"),(a=[y,g].filter(co).join("\n")).length>0&&(a+="\n")):(i=[wo(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(co).join("\n"),a=[y,wo(n),"#define SHADER_NAME "+n.shaderName,g,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+f:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Di.tonemapping_pars_fragment:"",0!==n.toneMapping?lo("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Di.encodings_pars_fragment,n.map?uo("mapTexelToLinear",n.mapEncoding):"",n.matcap?uo("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?uo("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?uo("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?uo("lightMapTexelToLinear",n.lightMapEncoding):"",(o=n.outputEncoding,s=oo(o),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+s[0]+s[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(co).join("\n")),c=po(c=ho(c=vo(c),n),n),h=po(h=ho(h=vo(h),n),n),c=bo(c),h=bo(h),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Ut?"":"out highp vec4 pc_fragColor;",n.glslVersion===Ut?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var x,w,S=_+a+h,k=io(u,35633,_+i+c),O=io(u,35632,S);if(u.attachShader(b,k),u.attachShader(b,O),void 0!==n.index0AttributeName?u.bindAttribLocation(b,0,n.index0AttributeName):!0===n.morphTargets&&u.bindAttribLocation(b,0,"position"),u.linkProgram(b),e.debug.checkShaderErrors){var E=u.getProgramInfoLog(b).trim(),T=u.getShaderInfoLog(k).trim(),M=u.getShaderInfoLog(O).trim(),C=!0,A=!0;if(!1===u.getProgramParameter(b,35714)){C=!1;var j=so(u,k,"vertex"),L=so(u,O,"fragment");console.error("THREE.WebGLProgram: shader error: ",u.getError(),"35715",u.getProgramParameter(b,35715),"gl.getProgramInfoLog",E,j,L)}else""!==E?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",E):""!==T&&""!==M||(A=!1);A&&(this.diagnostics={runnable:C,programLog:E,vertexShader:{log:T,prefix:i},fragmentShader:{log:M,prefix:a}})}return u.deleteShader(k),u.deleteShader(O),this.getUniforms=function(){return void 0===x&&(x=new ro(u,b)),x},this.getAttributes=function(){return void 0===w&&(w=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(u,b)),w},this.destroy=function(){r.releaseStatesOfProgram(this),u.deleteProgram(b),this.program=void 0},this.name=n.shaderName,this.id=ao++,this.cacheKey=t,this.usedTimes=1,this.program=b,this.vertexShader=k,this.fragmentShader=O,this}function ko(e,t,n,r,i,a){var o=[],s=r.isWebGL2,u=r.logarithmicDepthBuffer,l=r.floatVertexTextures,c=r.maxVertexUniforms,h=r.vertexTextures,d=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function v(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=zt,t}return{getParameters:function(i,o,f,m,y){var g,b,_=m.fog,x=t.get(i.envMap||(i.isMeshStandardMaterial?m.environment:null)),w=p[i.type],S=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(l)return 1024;var n=Math.floor((c-20)/4),r=Math.min(n,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(y):0;if(null!==i.precision&&(d=r.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead."),w){var k=Bi[w];g=k.vertexShader,b=k.fragmentShader}else g=i.vertexShader,b=i.fragmentShader;var O=e.getRenderTarget();return{isWebGL2:s,shaderID:w,shaderName:i.type,vertexShader:g,fragmentShader:b,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null!==O?v(O.texture):e.outputEncoding,map:!!i.map,mapEncoding:v(i.map),matcap:!!i.matcap,matcapEncoding:v(i.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:v(x),envMapCubeUV:!!x&&(306===x.mapping||307===x.mapping),lightMap:!!i.lightMap,lightMapEncoding:v(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:v(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmission:!!i.transmission,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&y.geometry&&y.geometry.attributes.color&&4===y.geometry.attributes.color.itemSize,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap||i.thicknessMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmission||i.transmissionMap||i.thicknessMap||!i.displacementMap),fog:!!_,useFog:i.fog,fogExp2:_&&_.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===y.isSkinnedMesh&&S>0,maxBones:S,useVertexTexture:l,morphTargets:i.morphTargets,morphNormals:i.morphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&f.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var i=0;i<f.length;i++)n.push(t[f[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t=p[e.type];return t?bi.clone(Bi[t].uniforms):e.uniforms},acquireProgram:function(t,n){for(var r,a=0,s=o.length;a<s;a++){var u=o[a];if(u.cacheKey===n){++(r=u).usedTimes;break}}return void 0===r&&(r=new So(e,n,t,i),o.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function Oo(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&e.set(t,n={}),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Eo(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function To(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Mo(e){var t=[],n=0,r=[],i=[],a=[],o={id:-1};function s(r,i,a,s,u,l){var c=t[n],h=e.get(a);return void 0===c?t[n]=c={id:r.id,object:r,geometry:i,material:a,program:h.program||o,groupOrder:s,renderOrder:r.renderOrder,z:u,group:l}:(c.id=r.id,c.object=r,c.geometry=i,c.material=a,c.program=h.program||o,c.groupOrder=s,c.renderOrder=r.renderOrder,c.z=u,c.group=l),n++,c}return{opaque:r,transmissive:i,transparent:a,init:function(){n=0,r.length=0,i.length=0,a.length=0},push:function(e,t,n,o,u,l){var c=s(e,t,n,o,u,l);n.transmission>0?i.push(c):!0===n.transparent?a.push(c):r.push(c)},unshift:function(e,t,n,o,u,l){var c=s(e,t,n,o,u,l);n.transmission>0?i.unshift(c):!0===n.transparent?a.unshift(c):r.unshift(c)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Eo),i.length>1&&i.sort(t||To),a.length>1&&a.sort(t||To)}}}function Co(e){var t=new WeakMap;return{get:function(n,r){var i;return!1===t.has(n)?(i=new Mo(e),t.set(n,[i])):r>=t.get(n).length?(i=new Mo(e),t.get(n).push(i)):i=t.get(n)[r],i},dispose:function(){t=new WeakMap}}}function Ao(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new dn,color:new Nr};break;case"SpotLight":n={position:new dn,direction:new dn,color:new Nr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new dn,color:new Nr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new dn,skyColor:new Nr,groundColor:new Nr};break;case"RectAreaLight":n={color:new Nr,position:new dn,halfWidth:new dn,halfHeight:new dn}}return e[t.id]=n,n}}}var jo=0;function Lo(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Po(e,t){for(var n,r=new Ao,i=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new en};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new en,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)a.probe.push(new dn);var s=new dn,u=new Un,l=new Un;return{setup:function(n){for(var o=0,s=0,u=0,l=0;l<9;l++)a.probe[l].set(0,0,0);var c=0,h=0,d=0,p=0,f=0,v=0,m=0,y=0;n.sort(Lo);for(var g=0,b=n.length;g<b;g++){var _=n[g],x=_.color,w=_.intensity,S=_.distance,k=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)o+=x.r*w,s+=x.g*w,u+=x.b*w;else if(_.isLightProbe)for(var O=0;O<9;O++)a.probe[O].addScaledVector(_.sh.coefficients[O],w);else if(_.isDirectionalLight){var E=r.get(_);if(E.color.copy(_.color).multiplyScalar(_.intensity),_.castShadow){var T=_.shadow,M=i.get(_);M.shadowBias=T.bias,M.shadowNormalBias=T.normalBias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize,a.directionalShadow[c]=M,a.directionalShadowMap[c]=k,a.directionalShadowMatrix[c]=_.shadow.matrix,v++}a.directional[c]=E,c++}else if(_.isSpotLight){var C=r.get(_);if(C.position.setFromMatrixPosition(_.matrixWorld),C.color.copy(x).multiplyScalar(w),C.distance=S,C.coneCos=Math.cos(_.angle),C.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),C.decay=_.decay,_.castShadow){var A=_.shadow,j=i.get(_);j.shadowBias=A.bias,j.shadowNormalBias=A.normalBias,j.shadowRadius=A.radius,j.shadowMapSize=A.mapSize,a.spotShadow[d]=j,a.spotShadowMap[d]=k,a.spotShadowMatrix[d]=_.shadow.matrix,y++}a.spot[d]=C,d++}else if(_.isRectAreaLight){var L=r.get(_);L.color.copy(x).multiplyScalar(w),L.halfWidth.set(.5*_.width,0,0),L.halfHeight.set(0,.5*_.height,0),a.rectArea[p]=L,p++}else if(_.isPointLight){var P=r.get(_);if(P.color.copy(_.color).multiplyScalar(_.intensity),P.distance=_.distance,P.decay=_.decay,_.castShadow){var N=_.shadow,R=i.get(_);R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,R.shadowCameraNear=N.camera.near,R.shadowCameraFar=N.camera.far,a.pointShadow[h]=R,a.pointShadowMap[h]=k,a.pointShadowMatrix[h]=_.shadow.matrix,m++}a.point[h]=P,h++}else if(_.isHemisphereLight){var I=r.get(_);I.skyColor.copy(_.color).multiplyScalar(w),I.groundColor.copy(_.groundColor).multiplyScalar(w),a.hemi[f]=I,f++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=zi.LTC_FLOAT_1,a.rectAreaLTC2=zi.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=zi.LTC_HALF_1,a.rectAreaLTC2=zi.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=o,a.ambient[1]=s,a.ambient[2]=u;var D=a.hash;D.directionalLength===c&&D.pointLength===h&&D.spotLength===d&&D.rectAreaLength===p&&D.hemiLength===f&&D.numDirectionalShadows===v&&D.numPointShadows===m&&D.numSpotShadows===y||(a.directional.length=c,a.spot.length=d,a.rectArea.length=p,a.point.length=h,a.hemi.length=f,a.directionalShadow.length=v,a.directionalShadowMap.length=v,a.pointShadow.length=m,a.pointShadowMap.length=m,a.spotShadow.length=y,a.spotShadowMap.length=y,a.directionalShadowMatrix.length=v,a.pointShadowMatrix.length=m,a.spotShadowMatrix.length=y,D.directionalLength=c,D.pointLength=h,D.spotLength=d,D.rectAreaLength=p,D.hemiLength=f,D.numDirectionalShadows=v,D.numPointShadows=m,D.numSpotShadows=y,a.version=jo++)},setupView:function(e,t){for(var n=0,r=0,i=0,o=0,c=0,h=t.matrixWorldInverse,d=0,p=e.length;d<p;d++){var f=e[d];if(f.isDirectionalLight){var v=a.directional[n];v.direction.setFromMatrixPosition(f.matrixWorld),s.setFromMatrixPosition(f.target.matrixWorld),v.direction.sub(s),v.direction.transformDirection(h),n++}else if(f.isSpotLight){var m=a.spot[i];m.position.setFromMatrixPosition(f.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(f.matrixWorld),s.setFromMatrixPosition(f.target.matrixWorld),m.direction.sub(s),m.direction.transformDirection(h),i++}else if(f.isRectAreaLight){var y=a.rectArea[o];y.position.setFromMatrixPosition(f.matrixWorld),y.position.applyMatrix4(h),l.identity(),u.copy(f.matrixWorld),u.premultiply(h),l.extractRotation(u),y.halfWidth.set(.5*f.width,0,0),y.halfHeight.set(0,.5*f.height,0),y.halfWidth.applyMatrix4(l),y.halfHeight.applyMatrix4(l),o++}else if(f.isPointLight){var g=a.point[r];g.position.setFromMatrixPosition(f.matrixWorld),g.position.applyMatrix4(h),r++}else if(f.isHemisphereLight){var b=a.hemi[c];b.direction.setFromMatrixPosition(f.matrixWorld),b.direction.transformDirection(h),b.direction.normalize(),c++}}},state:a}}function No(e,t){var n=new Po(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(){n.setup(r)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Ro(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new No(e,t),n.set(r,[i])):a>=n.get(r).length?(i=new No(e,t),n.get(r).push(i)):i=n.get(r)[a],i},dispose:function(){n=new WeakMap}}}var Io=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=3200,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Tr);Io.prototype.isMeshDepthMaterial=!0;var Do=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new dn,r.nearDistance=1,r.farDistance=1e3,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Tr);function zo(e,t,n){var r=new Pi,i=new en,a=new en,o=new un,s=[],u=[],l={},c=n.maxTextureSize,h={0:1,1:0,2:2},d=new _i({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new en},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=d.clone();p.defines.HORIZONTAL_PASS=1;var f=new Yr;f.setAttribute("position",new zr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new fi(f,d),m=this;function y(n,r){var i=t.update(v);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,v,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,v,null)}function g(e){var t=e<<0,n=s[t];return void 0===n&&(n=new Io({depthPacking:3201,morphTargets:e}),s[t]=n),n}function b(e){var t=e<<0,n=u[t];return void 0===n&&(n=new Do({morphTargets:e}),u[t]=n),n}function _(t,n,r,i,a,o,s){var u=null,c=g,d=t.customDepthMaterial;if(!0===i.isPointLight&&(c=b,d=t.customDistanceMaterial),void 0===d){var p=!1;!0===r.morphTargets&&(p=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0),u=c(p)}else u=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var f=u.uuid,v=r.uuid,m=l[f];void 0===m&&(l[f]=m={});var y=m[v];void 0===y&&(y=u.clone(),m[v]=y),u=y}return u.visible=r.visible,u.wireframe=r.wireframe,u.side=3===s?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:h[r.side],u.clipShadows=r.clipShadows,u.clippingPlanes=r.clippingPlanes,u.clipIntersection=r.clipIntersection,u.wireframeLinewidth=r.wireframeLinewidth,u.linewidth=r.linewidth,!0===i.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(i.matrixWorld),u.nearDistance=a,u.farDistance=o),u}function x(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,h=0,d=c.length;h<d;h++){var p=c[h],f=l[p.materialIndex];if(f&&f.visible){var v=_(n,u,f,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,v,n,p)}}else if(l.visible){var m=_(n,u,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var y=n.children,g=0,b=y.length;g<b;g++)x(y[g],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=0,f=t.length;p<f;p++){var v=t[p],g=v.shadow;if(void 0!==g){if(!1!==g.autoUpdate||!1!==g.needsUpdate){i.copy(g.mapSize);var b=g.getFrameExtents();if(i.multiply(b),a.copy(g.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/b.x),i.x=a.x*b.x,g.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/b.y),i.y=a.y*b.y,g.mapSize.y=a.y)),null===g.map&&!g.isPointLightShadow&&3===this.type){var _={minFilter:gt,magFilter:gt,format:Tt};g.map=new ln(i.x,i.y,_),g.map.texture.name=v.name+".shadowMap",g.mapPass=new ln(i.x,i.y,_),g.camera.updateProjectionMatrix()}null===g.map&&(g.map=new ln(i.x,i.y,{minFilter:yt,magFilter:yt,format:Tt}),g.map.texture.name=v.name+".shadowMap",g.camera.updateProjectionMatrix()),e.setRenderTarget(g.map),e.clear();for(var w=g.getViewportCount(),S=0;S<w;S++){var k=g.getViewport(S);o.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),d.viewport(o),g.updateMatrices(v,S),r=g.getFrustum(),x(n,s,g.camera,v,this.type)}g.isPointLightShadow||3!==this.type||y(g,s),g.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,l,h)}}}function Bo(e,t,n){var r,i,a=n.isWebGL2,o=new function(){var t=!1,n=new un,r=null,i=new un(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?B(2929):F(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?B(2960):F(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l={},c=null,h={},d=null,p=!1,f=null,v=null,m=null,y=null,g=null,b=null,_=null,x=!1,w=null,S=null,k=null,O=null,E=null,T=e.getParameter(35661),M=!1,C=0,A=e.getParameter(7938);-1!==A.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(A)[1]),M=C>=1):-1!==A.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(A)[1]),M=C>=2);var j=null,L={},P=e.getParameter(3088),N=e.getParameter(2978),R=(new un).fromArray(P),I=(new un).fromArray(N);function D(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var z={};function B(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function F(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}z[3553]=D(3553,3553,1),z[34067]=D(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),B(2929),s.setFunc(3),W(!1),q(1),B(2884),G(0);var H=(r={},Object(lt.a)(r,pt,32774),Object(lt.a)(r,101,32778),Object(lt.a)(r,102,32779),r);if(a)H[103]=32775,H[104]=32776;else{var V=t.get("EXT_blend_minmax");null!==V&&(H[103]=V.MIN_EXT,H[104]=V.MAX_EXT)}var U=(i={},Object(lt.a)(i,200,0),Object(lt.a)(i,201,1),Object(lt.a)(i,202,768),Object(lt.a)(i,204,770),Object(lt.a)(i,210,776),Object(lt.a)(i,208,774),Object(lt.a)(i,206,772),Object(lt.a)(i,203,769),Object(lt.a)(i,205,771),Object(lt.a)(i,209,775),Object(lt.a)(i,207,773),i);function G(t,n,r,i,a,o,s,u){if(0!==t){if(!1===p&&(B(3042),p=!0),5===t)a=a||n,o=o||r,s=s||i,n===v&&a===g||(e.blendEquationSeparate(H[n],H[a]),v=n,g=a),r===m&&i===y&&o===b&&s===_||(e.blendFuncSeparate(U[r],U[i],U[o],U[s]),m=r,y=i,b=o,_=s),f=t,x=null;else if(t!==f||u!==x){if(v===pt&&g===pt||(e.blendEquation(32774),v=pt,g=pt),u)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}m=null,y=null,b=null,_=null,f=t,x=u}}else!0===p&&(F(3042),p=!1)}function W(t){w!==t&&(e.frontFace(t?2304:2305),w=t)}function q(t){0!==t?(B(2884),t!==S&&e.cullFace(1===t?1029:2===t?1028:1032)):F(2884),S=t}function J(t,n,r){t?(B(32823),O===n&&E===r||(e.polygonOffset(n,r),O=n,E=r)):F(32823)}function Z(t){void 0===t&&(t=33984+T-1),j!==t&&(e.activeTexture(t),j=t)}return{buffers:{color:o,depth:s,stencil:u},enable:B,disable:F,bindFramebuffer:function(t,n){return null===n&&null!==c&&(n=c),h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,a&&(36009===t&&(h[36160]=n),36160===t&&(h[36009]=n)),!0)},bindXRFramebuffer:function(t){t!==c&&(e.bindFramebuffer(36160,t),c=t)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:G,setMaterial:function(e,t){2===e.side?F(2884):B(2884);var n=1===e.side;t&&(n=!n),W(n),1===e.blending&&!1===e.transparent?G(0):G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),J(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?B(32926):F(32926)},setFlipSided:W,setCullFace:q,setLineWidth:function(t){t!==k&&(M&&e.lineWidth(t),k=t)},setPolygonOffset:J,setScissorTest:function(e){e?B(3089):F(3089)},activeTexture:Z,bindTexture:function(t,n){null===j&&Z();var r=L[j];void 0===r&&(L[j]=r={type:void 0,texture:void 0}),r.type===t&&r.texture===n||(e.bindTexture(t,n||z[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=L[j];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===R.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),R.copy(t))},viewport:function(t){!1===I.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),I.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},j=null,L={},c=null,h={},d=null,p=!1,f=null,v=null,m=null,y=null,g=null,b=null,_=null,x=!1,w=null,S=null,k=null,O=null,E=null,R.set(0,0,e.canvas.width,e.canvas.height),I.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function Fo(e,t,n,r,i,a,o){var s,u,l,c=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,p=i.maxTextureSize,f=i.maxSamples,v=new WeakMap,m=!1;try{m="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(B){}function y(e,t){return m?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?$t:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===l&&(l=y(o,s));var u=n?y(o,s):l;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Kt(e.width)&&Kt(e.height)}function _(e,t){return e.generateMipmaps&&t&&e.minFilter!==yt&&e.minFilter!==gt}function x(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.generateMipmap(t);var s=r.get(n);s.__maxMipLevel=Math.log2(Math.max(i,a,o))}function w(n,r,i){if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=r;return 6403===r&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===r&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===r&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function S(e){return e===yt||1004===e||1005===e?9728:9729}function k(t){var n=t.target;n.removeEventListener("dispose",k),function(t){var n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}(n),n.isVideoTexture&&v.delete(n),o.memory.textures--}function O(t){var n=t.target;n.removeEventListener("dispose",O),function(t){var n=t.texture,i=r.get(t),a=r.get(n);if(t){if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var u=0,l=n.length;u<l;u++){var c=r.get(n[u]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}}(n)}var E=0;function T(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void P(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function M(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,i){if(6===r.image.length){L(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,u=[],l=0;l<6;l++)u[l]=o||s?s?r.image[l].image:r.image[l]:g(r.image[l],!1,!0,d);var h,p=u[0],f=b(p)||c,v=a.convert(r.format),m=a.convert(r.type),y=w(r.internalFormat,v,m);if(j(34067,r,f),o){for(var S=0;S<6;S++){h=u[S].mipmaps;for(var k=0;k<h.length;k++){var O=h[k];r.format!==Tt&&r.format!==Et?null!==v?n.compressedTexImage2D(34069+S,k,y,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+S,k,y,O.width,O.height,0,v,m,O.data)}}t.__maxMipLevel=h.length-1}else{h=r.mipmaps;for(var E=0;E<6;E++)if(s){n.texImage2D(34069+E,0,y,u[E].width,u[E].height,0,v,m,u[E].data);for(var T=0;T<h.length;T++){var M=h[T].image[E].image;n.texImage2D(34069+E,T+1,y,M.width,M.height,0,v,m,M.data)}}else{n.texImage2D(34069+E,0,y,v,m,u[E]);for(var C=0;C<h.length;C++)n.texImage2D(34069+E,C+1,y,v,m,h[C].image[E])}t.__maxMipLevel=h.length}_(r,f)&&x(34067,r,p.width,p.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))}var C=(s={},Object(lt.a)(s,ft,10497),Object(lt.a)(s,vt,33071),Object(lt.a)(s,mt,33648),s),A=(u={},Object(lt.a)(u,yt,9728),Object(lt.a)(u,1004,9984),Object(lt.a)(u,1005,9986),Object(lt.a)(u,gt,9729),Object(lt.a)(u,1007,9985),Object(lt.a)(u,bt,9987),u);function j(n,a,o){if(o?(e.texParameteri(n,10242,C[a.wrapS]),e.texParameteri(n,10243,C[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,C[a.wrapR]),e.texParameteri(n,10240,A[a.magFilter]),e.texParameteri(n,10241,A[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===vt&&a.wrapT===vt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,S(a.magFilter)),e.texParameteri(n,10241,S(a.minFilter)),a.minFilter!==yt&&a.minFilter!==gt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.type===St&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===kt&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function L(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",k),t.__webglTexture=e.createTexture(),o.memory.textures++)}function P(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),L(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var s,u=function(e){return!c&&(e.wrapS!==vt||e.wrapT!==vt||e.minFilter!==yt&&e.minFilter!==gt)}(r)&&!1===b(r.image),l=g(r.image,u,!1,p),h=b(l)||c,d=a.convert(r.format),f=a.convert(r.type),v=w(r.internalFormat,d,f);j(o,r,h);var m=r.mipmaps;if(r.isDepthTexture)v=6402,c?v=r.type===St?36012:r.type===wt?33190:r.type===Ot?35056:33189:r.type===St&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Mt&&6402===v&&r.type!==xt&&r.type!==wt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=xt,f=a.convert(r.type)),r.format===Ct&&6402===v&&(v=34041,r.type!==Ot&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ot,f=a.convert(r.type))),n.texImage2D(3553,0,v,l.width,l.height,0,d,f,null);else if(r.isDataTexture)if(m.length>0&&h){for(var y=0,S=m.length;y<S;y++)n.texImage2D(3553,y,v,(s=m[y]).width,s.height,0,d,f,s.data);r.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,l.width,l.height,0,d,f,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var k=0,O=m.length;k<O;k++)s=m[k],r.format!==Tt&&r.format!==Et?null!==d?n.compressedTexImage2D(3553,k,v,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,k,v,s.width,s.height,0,d,f,s.data);t.__maxMipLevel=m.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,v,l.width,l.height,l.depth,0,d,f,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,v,l.width,l.height,l.depth,0,d,f,l.data),t.__maxMipLevel=0;else if(m.length>0&&h){for(var E=0,T=m.length;E<T;E++)n.texImage2D(3553,E,v,d,f,s=m[E]);r.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,d,f,l),t.__maxMipLevel=0;_(r,h)&&x(o,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function N(t,i,o,s,u){var l=a.convert(o.format),c=a.convert(o.type),h=w(o.internalFormat,l,c);32879===u||35866===u?n.texImage3D(u,0,h,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(u,0,h,i.width,i.height,0,l,c,null),n.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,u,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function R(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===St?i=36012:o.type===wt&&(i=33190));var s=I(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var u=I(n);e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=a.convert(l.format),h=a.convert(l.type),d=w(l.internalFormat,c,h);if(r){var p=I(n);e.renderbufferStorageMultisample(36161,p,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function I(e){return c&&e.isWebGLMultisampleRenderTarget?Math.min(f,e.samples):0}var D=!1,z=!1;this.allocateTextureUnit=function(){var e=E;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=T,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=M,this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",O),!0!==t.isWebGLMultipleRenderTargets&&(l.__webglTexture=e.createTexture(),l.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,p=!0===t.isWebGLMultisampleRenderTarget,f=s.isDataTexture3D||s.isDataTexture2DArray,v=b(t)||c;if(!c||s.format!==Et||s.type!==St&&s.type!==kt||(s.format=Tt,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),h){u.__webglFramebuffer=[];for(var m=0;m<6;m++)u.__webglFramebuffer[m]=e.createFramebuffer()}else if(u.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var y=t.texture,g=0,S=y.length;g<S;g++){var k=r.get(y[g]);void 0===k.__webglTexture&&(k.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(p)if(c){u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer);var E=a.convert(s.format),M=a.convert(s.type),C=w(s.internalFormat,E,M),A=I(t);e.renderbufferStorageMultisample(36161,A,C,t.width,t.height),n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,u.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),R(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(h){n.bindTexture(34067,l.__webglTexture),j(34067,s,v);for(var L=0;L<6;L++)N(u.__webglFramebuffer[L],t,s,36064,34069+L);_(s,v)&&x(34067,s,t.width,t.height),n.bindTexture(34067,null)}else if(d){for(var P=t.texture,D=0,z=P.length;D<z;D++){var B=P[D],F=r.get(B);n.bindTexture(3553,F.__webglTexture),j(3553,B,v),N(u.__webglFramebuffer,t,B,36064+D,3553),_(B,v)&&x(3553,B,t.width,t.height)}n.bindTexture(3553,null)}else{var H=3553;f&&(c?H=s.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(H,l.__webglTexture),j(H,s,v),N(u.__webglFramebuffer,t,s,36064,H),_(s,v)&&x(H,s,t.width,t.height,t.depth),n.bindTexture(H,null)}t.depthBuffer&&function(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),T(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Mt)e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==Ct)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),R(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),R(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){for(var t=b(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(_(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(s).__webglTexture;n.bindTexture(u,l),x(u,s,e.width,e.height),n.bindTexture(u,null)}}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(c){var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024);var s=r.get(t);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===D&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),D=!0),e=e.texture),T(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),M(e,t)}}function Ho(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===_t)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===xt)return 5123;if(1013===e)return 5124;if(e===wt)return 5125;if(e===St)return 5126;if(e===kt)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===Et)return 6407;if(e===Tt)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===Mt)return 6402;if(e===Ct)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Ot?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}Do.prototype.isMeshDistanceMaterial=!0;var Vo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(o.a)(this,n),(e=t.call(this)).cameras=r,e}return n}(wi);Vo.prototype.isArrayCamera=!0;var Uo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).type="Group",e}return n}(fr);Uo.prototype.isGroup=!0;var Go={type:"move"},Wo=function(){function e(){Object(o.a)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return Object(s.a)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new dn,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new dn),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new dn,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new dn),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Go)),u&&e.hand){a=!0;var l,c=Object(ut.a)(e.hand.values());try{for(c.s();!(l=c.n()).done;){var h=l.value,d=t.getJointPose(h,n);if(void 0===u.joints[h.jointName]){var p=new Uo;p.matrixAutoUpdate=!1,p.visible=!1,u.joints[h.jointName]=p,u.add(p)}var f=u.joints[h.jointName];null!==d&&(f.matrix.fromArray(d.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.jointRadius=d.radius),f.visible=null!==d}}catch(m){c.e(m)}finally{c.f()}var v=u.joints["index-finger-tip"].position.distanceTo(u.joints["thumb-tip"].position);u.inputState.pinching&&v>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}}]),e}(),qo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;Object(o.a)(this,n),i=t.call(this);var a=Object(ee.a)(i),s=e.state,u=null,l=1,c=null,h="local-floor",d=null,p=null,f=null,v=null,m=[],y=new Map,g=new wi;g.layers.enable(1),g.viewport=new un;var b=new wi;b.layers.enable(2),b.viewport=new un;var _=[g,b],x=new Vo;x.layers.enable(1),x.layers.enable(2);var w=null,S=null;function k(e){var t=y.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function O(){y.forEach(function(e,t){e.disconnect(t)}),y.clear(),w=null,S=null,s.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),j.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function E(e){for(var t=u.inputSources,n=0;n<m.length;n++)y.set(t[n],m[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],a=y.get(i);a&&(a.dispatchEvent({type:"disconnected",data:i}),y.delete(i))}for(var o=0;o<e.added.length;o++){var s=e.added[o],l=y.get(s);l&&l.dispatchEvent({type:"connected",data:s})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=m[e];return void 0===t&&(t=new Wo,m[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=m[e];return void 0===t&&(t=new Wo,m[e]=t),t.getGripSpace()},i.getHand=function(e){var t=m[e];return void 0===t&&(t=new Wo,m[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){h=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return c},i.getSession=function(){return u},i.setSession=function(){var e,t=(e=at.a.mark(function e(t){var n,i,o,s;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(u=t)){e.next=22;break}if(u.addEventListener("select",k),u.addEventListener("selectstart",k),u.addEventListener("selectend",k),u.addEventListener("squeeze",k),u.addEventListener("squeezestart",k),u.addEventListener("squeezeend",k),u.addEventListener("end",O),u.addEventListener("inputsourceschange",E),!0===(n=r.getContextAttributes()).xrCompatible){e.next=14;break}return e.next=14,r.makeXRCompatible();case 14:return void 0===u.renderState.layers?(i=new XRWebGLLayer(u,r,{antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:l}),u.updateRenderState({baseLayer:i})):(o=0,n.depth&&(o=n.stencil?34041:6402),s={colorFormat:n.alpha?6408:6407,depthFormat:o,scaleFactor:l},p=new XRWebGLBinding(u,r),v=p.createProjectionLayer(s),f=r.createFramebuffer(),u.updateRenderState({layers:[v]})),e.next=17,u.requestReferenceSpace(h);case 17:c=e.sent,j.setContext(u),j.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 22:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){ot(a,r,i,o,s,"next",e)}function s(e){ot(a,r,i,o,s,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}();var T=new dn,M=new dn;function C(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==u){x.near=b.near=g.near=e.near,x.far=b.far=g.far=e.far,w===x.near&&S===x.far||(u.updateRenderState({depthNear:x.near,depthFar:x.far}),w=x.near,S=x.far);var t=e.parent,n=x.cameras;C(x,t);for(var r=0;r<n.length;r++)C(n[r],t);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),e.position.copy(x.position),e.quaternion.copy(x.quaternion),e.scale.copy(x.scale),e.matrix.copy(x.matrix),e.matrixWorld.copy(x.matrixWorld);for(var i=e.children,a=0,o=i.length;a<o;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){T.setFromMatrixPosition(t.matrixWorld),M.setFromMatrixPosition(n.matrixWorld);var r=T.distanceTo(M),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,p=o*h,f=r/(-c+h),v=f*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+f,y=s+f;e.projectionMatrix.makePerspective(d-v,p+(r-v),u*s/y*m,l*s/y*m,m,y)}(x,g,b):x.projectionMatrix.copy(g.projectionMatrix)}},i.getCamera=function(){return x};var A=null,j=new Ni;return j.setAnimationLoop(function(e,t){if(null!==(d=t.getViewerPose(c))){var n=d.views,i=u.renderState.baseLayer;void 0===u.renderState.layers&&s.bindXRFramebuffer(i.framebuffer);var a=!1;n.length!==x.cameras.length&&(x.cameras.length=0,a=!0);for(var o=0;o<n.length;o++){var l=n[o],h=null;if(void 0===u.renderState.layers)h=i.getViewport(l);else{var y=p.getViewSubImage(v,l);s.bindXRFramebuffer(f),r.framebufferTexture2D(36160,36064,3553,y.colorTexture,0),void 0!==y.depthStencilTexture&&r.framebufferTexture2D(36160,36096,3553,y.depthStencilTexture,0),h=y.viewport}var g=_[o];g.matrix.fromArray(l.transform.matrix),g.projectionMatrix.fromArray(l.projectionMatrix),g.viewport.set(h.x,h.y,h.width,h.height),0===o&&x.matrix.copy(g.matrix),!0===a&&x.cameras.push(g)}}for(var b=u.inputSources,w=0;w<m.length;w++)m[w].update(b[w],t,c);A&&A(e,t)}),i.setAnimationLoop=function(e){A=e},i.dispose=function(){},i}return n}(Gt);function Jo(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,i,a=e.get(n).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate()),e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),t.transmission>0&&(e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)}(e,r,o):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Zo(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}function Xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0!==e.canvas?e.canvas:Zo(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,d=null,p=[],f=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=zt,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var v=this,m=!1,y=0,g=0,b=null,_=-1,x=null,w=new un,S=new un,k=null,O=t.width,E=t.height,T=1,M=null,C=null,A=new un(0,0,O,E),j=new un(0,0,O,E),L=!1,P=[],N=new Pi,R=!1,I=!1,D=null,z=new Un,B=new dn,F={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===b?T:1}var V,U,G,W,q,J,Z,X,Y,Q,K,$,ee,te,ne,re,ie,ae,oe,se,ue,le,ce=n;function he(e,n){for(var r=0;r<e.length;r++){var i=t.getContext(e[r],n);if(null!==i)return i}return null}try{var de={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",me,!1),t.addEventListener("webglcontextrestored",ye,!1),null===ce){var pe=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&pe.shift(),null===(ce=he(pe,de)))throw he(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ce.getShaderPrecisionFormat&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function fe(){V=new qi(ce),U=new Ui(ce,V,e),V.init(U),ue=new Ho(ce,V,U),G=new Bo(ce,V,U),P[0]=1029,W=new Xi(ce),q=new Oo,J=new Fo(ce,V,G,q,U,ue,W),Z=new Wi(v),X=new Ri(ce,U),le=new Hi(ce,V,X,U),Y=new Ji(ce,X,W,le),Q=new $i(ce,Y,X,W),ae=new Ki(ce),ne=new Gi(q),K=new ko(v,Z,V,U,le,ne),$=new Jo(q),ee=new Co(q),te=new Ro(V,U),ie=new Fi(v,Z,G,Q,s),re=new zo(v,Q,U),oe=new Vi(ce,V,W,U),se=new Zi(ce,V,W,U),W.programs=K.programs,v.capabilities=U,v.extensions=V,v.properties=q,v.renderLists=ee,v.shadowMap=re,v.state=G,v.info=W}fe();var ve=new qo(v,ce);function me(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=W.autoReset,t=re.enabled,n=re.autoUpdate,r=re.needsUpdate,i=re.type;fe(),W.autoReset=e,re.enabled=t,re.autoUpdate=n,re.needsUpdate=r,re.type=i}function ge(e){var t=e.target;t.removeEventListener("dispose",ge),be(t)}function be(e){_e(e),q.remove(e)}function _e(e){var t=q.get(e).programs;void 0!==t&&t.forEach(function(e){K.releaseProgram(e)})}function xe(e,t){e.render(function(e){v.renderBufferImmediate(e,t)})}this.xr=ve,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){var e=V.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=V.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(e){void 0!==e&&(T=e,this.setSize(O,E,!1))},this.getSize=function(e){return e.set(O,E)},this.setSize=function(e,n,r){ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=e,E=n,t.width=Math.floor(e*T),t.height=Math.floor(n*T),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(O*T,E*T).floor()},this.setDrawingBufferSize=function(e,n,r){O=e,E=n,T=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(A)},this.setViewport=function(e,t,n,r){e.isVector4?A.set(e.x,e.y,e.z,e.w):A.set(e,t,n,r),G.viewport(w.copy(A).multiplyScalar(T).floor())},this.getScissor=function(e){return e.copy(j)},this.setScissor=function(e,t,n,r){e.isVector4?j.set(e.x,e.y,e.z,e.w):j.set(e,t,n,r),G.scissor(S.copy(j).multiplyScalar(T).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){G.setScissorTest(L=e)},this.setOpaqueSort=function(e){M=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(e){return e.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ce.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",me,!1),t.removeEventListener("webglcontextrestored",ye,!1),ee.dispose(),te.dispose(),q.dispose(),Z.dispose(),Q.dispose(),le.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",ke),ve.removeEventListener("sessionend",Oe),D&&(D.dispose(),D=null),Ee.stop()},this.renderBufferImmediate=function(e,t){le.initAttributes();var n=q.get(e);e.hasPositions&&!n.position&&(n.position=ce.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ce.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ce.createBuffer()),e.hasColors&&!n.color&&(n.color=ce.createBuffer());var r=t.getAttributes();e.hasPositions&&(ce.bindBuffer(34962,n.position),ce.bufferData(34962,e.positionArray,35048),le.enableAttribute(r.position),ce.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ce.bindBuffer(34962,n.normal),ce.bufferData(34962,e.normalArray,35048),le.enableAttribute(r.normal),ce.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ce.bindBuffer(34962,n.uv),ce.bufferData(34962,e.uvArray,35048),le.enableAttribute(r.uv),ce.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ce.bindBuffer(34962,n.color),ce.bufferData(34962,e.colorArray,35048),le.enableAttribute(r.color),ce.vertexAttribPointer(r.color,3,5126,!1,0,0)),le.disableUnusedAttributes(),ce.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=F);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Pe(e,t,r,i);G.setMaterial(r,o);var u=n.index,l=n.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var c,h=1;!0===r.wireframe&&(u=Y.getWireframeAttribute(n),h=2),(r.morphTargets||r.morphNormals)&&ae.update(i,n,r,s),le.setup(i,r,s,n,u);var d=oe;null!==u&&(c=X.get(u),(d=se).setIndex(c));var p=null!==u?u.count:l.count,f=n.drawRange.start*h,v=n.drawRange.count*h,m=null!==a?a.start*h:0,y=null!==a?a.count*h:1/0,g=Math.max(f,m),b=Math.min(p,f+v,m+y)-1,_=Math.max(0,b-g+1);if(0!==_){if(i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*H()),d.setMode(1)):d.setMode(4);else if(i.isLine){var x=r.linewidth;void 0===x&&(x=1),G.setLineWidth(x*H()),d.setMode(i.isLineSegments?1:i.isLineLoop?2:3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(g,_,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(g,_,w)}else d.render(g,_)}},this.compile=function(e,t){(d=te.get(e)).init(),e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))}),d.setupLights(),e.traverse(function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)je(n[r],e,t);else je(n,e,t)})};var we=null;function Se(e){we&&we(e)}function ke(){Ee.stop()}function Oe(){Ee.start()}var Ee=new Ni;function Te(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||N.intersectsSprite(e)){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var i=Q.update(e),a=e.material;a.visible&&h.push(e,i,a,n,B.z,null)}}else if(e.isImmediateRenderObject)r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z),h.push(e,null,e.material,n,B.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==W.render.frame&&(e.skeleton.update(),e.skeleton.frame=W.render.frame),!e.frustumCulled||N.intersectsObject(e))){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var o=Q.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var p=u[l],f=s[p.materialIndex];f&&f.visible&&h.push(e,o,f,n,B.z,p)}else s.visible&&h.push(e,o,s,n,B.z,null)}for(var v=e.children,m=0,y=v.length;m<y;m++)Te(v[m],t,n,r)}}function Me(e,t,n,r){null===D&&(D=new(!0===o&&!0===U.isWebGL2?cn:ln)(1024,1024,{generateMipmaps:!0,type:null!==ue.convert(kt)?kt:_t,minFilter:bt,magFilter:yt,wrapS:vt,wrapT:vt}));var i=v.getRenderTarget();v.setRenderTarget(D),v.clear();var a=v.toneMapping;v.toneMapping=0,Ce(e,n,r),v.toneMapping=a,J.updateMultisampleRenderTarget(D),J.updateRenderTargetMipmap(D),v.setRenderTarget(i),Ce(t,n,r)}function Ce(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;if(n.isArrayCamera)for(var h=n.cameras,p=0,f=h.length;p<f;p++){var v=h[p];s.layers.test(v.layers)&&(G.viewport(w.copy(v.viewport)),d.setupLightsView(v),Ae(s,t,v,u,l,c))}else Ae(s,t,n,u,l,c)}}function Ae(e,t,n,r,i,a){if(e.onBeforeRender(v,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Pe(n,t,i,e);G.setMaterial(i),le.reset(),xe(e,o)}else!0===i.transparent&&2===i.side?(i.side=1,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=2):v.renderBufferDirect(n,t,r,i,e,a);e.onAfterRender(v,t,n,r,i,a)}function je(e,t,n){!0!==t.isScene&&(t=F);var r=q.get(e),i=d.state.lights,a=i.state.version,o=K.getParameters(e,i.state,d.state.shadowsArray,t,n),s=K.getProgramCacheKey(o),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=Z.get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",ge),u=new Map,r.programs=u);var l=u.get(s);if(void 0!==l){if(r.currentProgram===l&&r.lightsStateVersion===a)return Le(e,o),l}else o.uniforms=K.getUniforms(e),e.onBuild(o,v),e.onBeforeCompile(o,v),l=K.acquireProgram(o,s),u.set(s,l),r.uniforms=o.uniforms;var c=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(c.clippingPlanes=ne.uniform),Le(e,o),r.needsLights=Re(e),r.lightsStateVersion=a,r.needsLights&&(c.ambientLightColor.value=i.state.ambient,c.lightProbe.value=i.state.probe,c.directionalLights.value=i.state.directional,c.directionalLightShadows.value=i.state.directionalShadow,c.spotLights.value=i.state.spot,c.spotLightShadows.value=i.state.spotShadow,c.rectAreaLights.value=i.state.rectArea,c.ltc_1.value=i.state.rectAreaLTC1,c.ltc_2.value=i.state.rectAreaLTC2,c.pointLights.value=i.state.point,c.pointLightShadows.value=i.state.pointShadow,c.hemisphereLights.value=i.state.hemi,c.directionalShadowMap.value=i.state.directionalShadowMap,c.directionalShadowMatrix.value=i.state.directionalShadowMatrix,c.spotShadowMap.value=i.state.spotShadowMap,c.spotShadowMatrix.value=i.state.spotShadowMatrix,c.pointShadowMap.value=i.state.pointShadowMap,c.pointShadowMatrix.value=i.state.pointShadowMatrix);var h=l.getUniforms(),p=ro.seqWithValue(h.seq,c);return r.currentProgram=l,r.uniformsList=p,l}function Le(e,t){var n=q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas}function Pe(e,t,n,r){!0!==t.isScene&&(t=F),J.resetTextureUnits();var i=t.fog,a=null===b?v.outputEncoding:b.texture.encoding,o=Z.get(n.envMap||(n.isMeshStandardMaterial?t.environment:null)),s=!0===n.vertexColors&&r.geometry&&r.geometry.attributes.color&&4===r.geometry.attributes.color.itemSize,u=q.get(n),l=d.state.lights;!0===R&&(!0!==I&&e===x||ne.setState(n,e,e===x&&n.id===_));var c=!1;n.version===u.__version?u.needsLights&&u.lightsStateVersion!==l.state.version||u.outputEncoding!==a||r.isInstancedMesh&&!1===u.instancing?c=!0:r.isInstancedMesh||!0!==u.instancing?r.isSkinnedMesh&&!1===u.skinning?c=!0:r.isSkinnedMesh||!0!==u.skinning?u.envMap!==o||n.fog&&u.fog!==i?c=!0:void 0===u.numClippingPlanes||u.numClippingPlanes===ne.numPlanes&&u.numIntersection===ne.numIntersection?u.vertexAlphas!==s&&(c=!0):c=!0:c=!0:c=!0:(c=!0,u.__version=n.version);var h=u.currentProgram;!0===c&&(h=je(n,t,r));var p=!1,f=!1,m=!1,y=h.getUniforms(),g=u.uniforms;if(G.useProgram(h.program)&&(p=!0,f=!0,m=!0),n.id!==_&&(_=n.id,f=!0),p||x!==e){if(y.setValue(ce,"projectionMatrix",e.projectionMatrix),U.logarithmicDepthBuffer&&y.setValue(ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,f=!0,m=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var w=y.map.cameraPosition;void 0!==w&&w.setValue(ce,B.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&y.setValue(ce,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&y.setValue(ce,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){y.setOptional(ce,r,"bindMatrix"),y.setOptional(ce,r,"bindMatrixInverse");var S=r.skeleton;S&&(U.floatVertexTextures?(null===S.boneTexture&&S.computeBoneTexture(),y.setValue(ce,"boneTexture",S.boneTexture,J),y.setValue(ce,"boneTextureSize",S.boneTextureSize)):y.setOptional(ce,S,"boneMatrices"))}return(f||u.receiveShadow!==r.receiveShadow)&&(u.receiveShadow=r.receiveShadow,y.setValue(ce,"receiveShadow",r.receiveShadow)),f&&(y.setValue(ce,"toneMappingExposure",v.toneMappingExposure),u.needsLights&&Ne(g,m),i&&n.fog&&$.refreshFogUniforms(g,i),$.refreshMaterialUniforms(g,n,T,E,D),ro.upload(ce,u.uniformsList,g,J)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ro.upload(ce,u.uniformsList,g,J),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&y.setValue(ce,"center",r.center),y.setValue(ce,"modelViewMatrix",r.modelViewMatrix),y.setValue(ce,"normalMatrix",r.normalMatrix),y.setValue(ce,"modelMatrix",r.matrixWorld),h}function Ne(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Re(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ee.setAnimationLoop(Se),"undefined"!=typeof window&&Ee.setContext(window),this.setAnimationLoop=function(e){we=e,ve.setAnimationLoop(e),null===e?Ee.stop():Ee.start()},ve.addEventListener("sessionstart",ke),ve.addEventListener("sessionend",Oe),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===ve.enabled&&!0===ve.isPresenting&&(!0===ve.cameraAutoUpdate&&ve.updateCamera(t),t=ve.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,b),(d=te.get(e,f.length)).init(),f.push(d),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),N.setFromProjectionMatrix(z),R=ne.init(this.clippingPlanes,I=this.localClippingEnabled,t),(h=ee.get(e,p.length)).init(),p.push(h),Te(e,t,0,v.sortObjects),h.finish(),!0===v.sortObjects&&h.sort(M,C),!0===R&&ne.beginShadows(),re.render(d.state.shadowsArray,e,t),d.setupLights(),d.setupLightsView(t),!0===R&&ne.endShadows(),!0===this.info.autoReset&&this.info.reset(),ie.render(h,e);var n=h.opaque,r=h.transmissive,i=h.transparent;n.length>0&&Ce(n,e,t),r.length>0&&Me(n,r,e,t),i.length>0&&Ce(i,e,t),null!==b&&(J.updateMultisampleRenderTarget(b),J.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(v,e,t),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),le.resetDefaultState(),_=-1,x=null,f.pop(),d=f.length>0?f[f.length-1]:null,p.pop(),h=p.length>0?p[p.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return b},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,y=t,g=n,e&&void 0===q.get(e).__webglFramebuffer&&J.setupRenderTarget(e);var r=null,i=!1,a=!1;if(e){var o=e.texture;(o.isDataTexture3D||o.isDataTexture2DArray)&&(a=!0);var s=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=s[t],i=!0):r=e.isWebGLMultisampleRenderTarget?q.get(e).__webglMultisampledFramebuffer:s,w.copy(e.viewport),S.copy(e.scissor),k=e.scissorTest}else w.copy(A).multiplyScalar(T).floor(),S.copy(j).multiplyScalar(T).floor(),k=L;var u=G.bindFramebuffer(36160,r);if(u&&U.drawBuffers){var l=!1;if(e)if(e.isWebGLMultipleRenderTargets){var c=e.texture;if(P.length!==c.length||36064!==P[0]){for(var h=0,d=c.length;h<d;h++)P[h]=36064+h;P.length=c.length,l=!0}}else 1===P.length&&36064===P[0]||(P[0]=36064,P.length=1,l=!0);else 1===P.length&&1029===P[0]||(P[0]=1029,P.length=1,l=!0);l&&(U.isWebGL2?ce.drawBuffers(P):V.get("WEBGL_draw_buffers").drawBuffersWEBGL(P))}if(G.viewport(w),G.scissor(S),G.setScissorTest(k),i){var p=q.get(e.texture);ce.framebufferTexture2D(36160,36064,34069+t,p.__webglTexture,n)}else if(a){var f=q.get(e.texture),v=t||0;ce.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,v)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==Tt&&ue.convert(l)!==ce.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===kt&&(V.has("EXT_color_buffer_half_float")||U.isWebGL2&&V.has("EXT_color_buffer_float"));if(!(c===_t||ue.convert(c)===ce.getParameter(35738)||c===St&&(U.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float"))||h))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ce.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ce.readPixels(t,n,r,i,ue.convert(l),ue.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var d=null!==b?q.get(b).__webglFramebuffer:null;G.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),o=ue.convert(t.format);U.isWebGL2&&(6407===o&&(o=32849),6408===o&&(o=32856)),J.setTexture2D(t,0),ce.copyTexImage2D(3553,n,o,e.x,e.y,i,a,0),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=ue.convert(n.format),s=ue.convert(n.type);J.setTexture2D(n,0),ce.pixelStorei(37440,n.flipY),ce.pixelStorei(37441,n.premultiplyAlpha),ce.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ce.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ce.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ce.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ce.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=ue.convert(r.format),c=ue.convert(r.type);if(r.isDataTexture3D)J.setTexture3D(r,0),a=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");J.setTexture2DArray(r,0),a=35866}ce.pixelStorei(37440,r.flipY),ce.pixelStorei(37441,r.premultiplyAlpha),ce.pixelStorei(3317,r.unpackAlignment);var h=ce.getParameter(3314),d=ce.getParameter(32878),p=ce.getParameter(3316),f=ce.getParameter(3315),m=ce.getParameter(32877),y=n.isCompressedTexture?n.mipmaps[0]:n.image;ce.pixelStorei(3314,y.width),ce.pixelStorei(32878,y.height),ce.pixelStorei(3316,e.min.x),ce.pixelStorei(3315,e.min.y),ce.pixelStorei(32877,e.min.z),n.isDataTexture||n.isDataTexture3D?ce.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,y.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,y.data)):ce.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,y),ce.pixelStorei(3314,h),ce.pixelStorei(32878,d),ce.pixelStorei(3316,p),ce.pixelStorei(3315,f),ce.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ce.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(e){J.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){y=0,g=0,b=null,G.reset(),le.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n})(Xo).prototype.isWebGL1Renderer=!0,function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;Object(o.a)(this,e),this.name="",this.color=new Nr(t),this.density=n}return Object(s.a)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}().prototype.isFogExp2=!0,function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Object(o.a)(this,e),this.name="",this.color=new Nr(t),this.near=n,this.far=r}return Object(s.a)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}().prototype.isFog=!0;var Yo=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Object(ee.a)(e)})),e}return Object(s.a)(n,[{key:"copy",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(fr);Yo.prototype.isScene=!0;var Qo=function(){function e(t,n){Object(o.a)(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Ht,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Xt()}return Object(s.a)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();Qo.prototype.isInterleavedBuffer=!0;var Ko=new dn,$o=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o.a)(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return Object(s.a)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Ko.x=this.getX(t),Ko.y=this.getY(t),Ko.z=this.getZ(t),Ko.applyMatrix4(e),this.setXYZ(t,Ko.x,Ko.y,Ko.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Ko.x=this.getX(t),Ko.y=this.getY(t),Ko.z=this.getZ(t),Ko.applyNormalMatrix(e),this.setXYZ(t,Ko.x,Ko.y,Ko.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Ko.x=this.getX(t),Ko.y=this.getY(t),Ko.z=this.getZ(t),Ko.transformDirection(e),this.setXYZ(t,Ko.x,Ko.y,Ko.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new zr(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();$o.prototype.isInterleavedBufferAttribute=!0;var es,ts=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new Nr(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(Tr);ts.prototype.isSpriteMaterial=!0;var ns=new dn,rs=new dn,is=new dn,as=new en,os=new en,ss=new Un,us=new dn,ls=new dn,cs=new dn,hs=new en,ds=new en,ps=new en;function fs(e,t,n,r,i,a){as.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(os.x=a*as.x-i*as.y,os.y=i*as.x+a*as.y):os.copy(as),e.copy(t),e.x+=os.x,e.y+=os.y,e.applyMatrix4(ss)}(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;if(Object(o.a)(this,n),(r=t.call(this)).type="Sprite",void 0===es){es=new Yr;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new Qo(i,5);es.setIndex([0,1,2,0,2,3]),es.setAttribute("position",new $o(a,3,0,!1)),es.setAttribute("uv",new $o(a,2,3,!1))}return r.geometry=es,r.material=void 0!==e?e:new ts,r.center=new en(.5,.5),r}return Object(s.a)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rs.setFromMatrixScale(this.matrixWorld),ss.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),is.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&rs.multiplyScalar(-is.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;fs(us.set(-.5,-.5,0),is,a,rs,n,r),fs(ls.set(.5,-.5,0),is,a,rs,n,r),fs(cs.set(.5,.5,0),is,a,rs,n,r),hs.set(0,0),ds.set(1,0),ps.set(1,1);var o=e.ray.intersectTriangle(us,ls,cs,!1,ns);if(null!==o||(fs(ls.set(-.5,.5,0),is,a,rs,n,r),ds.set(0,1),null!==(o=e.ray.intersectTriangle(us,cs,ls,!1,ns)))){var s=e.ray.origin.distanceTo(ns);s<e.near||s>e.far||t.push({distance:s,point:ns.clone(),uv:Or.getUV(ns,us,ls,cs,hs,ds,ps,new en),face:null,object:this})}}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n})(fr).prototype.isSprite=!0;var vs=new dn,ms=new un,ys=new un,gs=new dn,bs=new Un,_s=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Un,i.bindMatrixInverse=new Un,i}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new un,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;ms.fromBufferAttribute(r.attributes.skinIndex,e),ys.fromBufferAttribute(r.attributes.skinWeight,e),vs.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=ys.getComponent(i);if(0!==a){var o=ms.getComponent(i);bs.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(gs.copy(vs).applyMatrix4(bs),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(fi);_s.prototype.isSkinnedMesh=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).type="Bone",e}return n}(fr).prototype.isBone=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:yt,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:yt,f=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0;return Object(o.a)(this,n),(e=t.call(this,null,l,c,h,d,p,s,u,f,v)).image={data:r,width:i,height:a},e.magFilter=d,e.minFilter=p,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return n}(on).prototype.isDataTexture=!0;var xs=new Un,ws=new Un,Ss=[],ks=new fi;(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e,r)).instanceMatrix=new zr(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1,a}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(ks.geometry=this.geometry,ks.material=this.material,void 0!==ks.material)for(var i=0;i<r;i++){this.getMatrixAt(i,xs),ws.multiplyMatrices(n,xs),ks.matrixWorld=ws,ks.raycast(e,Ss);for(var a=0,o=Ss.length;a<o;a++){var s=Ss[a];s.instanceId=i,s.object=this,t.push(s)}Ss.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new zr(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n})(fi).prototype.isInstancedMesh=!0;var Os=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new Nr(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.morphTargets=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}]),n}(Tr);Os.prototype.isLineBasicMaterial=!0;var Es=new dn,Ts=new dn,Ms=new Un,Cs=new Vn,As=new Nn,js=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Os;return Object(o.a)(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Es.fromBufferAttribute(t,r-1),Ts.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Es.distanceTo(Ts);e.setAttribute("lineDistance",new Hr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),As.copy(n.boundingSphere),As.applyMatrix4(r),As.radius+=i,!1!==e.ray.intersectsSphere(As)){Ms.copy(r).invert(),Cs.copy(e.ray).applyMatrix4(Ms);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new dn,l=new dn,c=new dn,h=new dn,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var p=n.index,f=n.attributes.position;if(null!==p)for(var v=Math.max(0,a.start),m=Math.min(p.count,a.start+a.count)-1;v<m;v+=d){var y=p.getX(v),g=p.getX(v+1);if(u.fromBufferAttribute(f,y),l.fromBufferAttribute(f,g),!(Cs.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var _=Math.max(0,a.start),x=Math.min(f.count,a.start+a.count)-1;_<x;_+=d)if(u.fromBufferAttribute(f,_),l.fromBufferAttribute(f,_+1),!(Cs.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(fr);js.prototype.isLine=!0;var Ls=new dn,Ps=new dn,Ns=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="LineSegments",i}return Object(s.a)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Ls.fromBufferAttribute(t,r),Ps.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Ls.distanceTo(Ps);e.setAttribute("lineDistance",new Hr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(js);Ns.prototype.isLineSegments=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="LineLoop",i}return n}(js).prototype.isLineLoop=!0;var Rs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new Nr(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.morphTargets=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}]),n}(Tr);Rs.prototype.isPointsMaterial=!0;var Is=new Un,Ds=new Vn,zs=new Nn,Bs=new dn;function Fs(e,t,n,r,i,a,o){var s=Ds.distanceSqToPoint(e);if(s<n){var u=new dn;Ds.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rs;return Object(o.a)(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),zs.copy(n.boundingSphere),zs.applyMatrix4(r),zs.radius+=i,!1!==e.ray.intersectsSphere(zs)){Is.copy(r).invert(),Ds.copy(e.ray).applyMatrix4(Is);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){var u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),h=Math.min(u.count,a.start+a.count);c<h;c++){var d=u.getX(c);Bs.fromBufferAttribute(l,d),Fs(Bs,d,s,r,e,t,this)}else for(var p=Math.max(0,a.start),f=Math.min(l.count,a.start+a.count);p<f;p++)Bs.fromBufferAttribute(l,p),Fs(Bs,p,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n})(fr).prototype.isPoints=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u,l,c,h){var d;Object(o.a)(this,n),(d=t.call(this,e,r,i,a,s,u,l,c,h)).format=void 0!==l?l:Et,d.minFilter=void 0!==u?u:gt,d.magFilter=void 0!==s?s:gt,d.generateMipmaps=!1;var p=Object(ee.a)(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){p.needsUpdate=!0,e.requestVideoFrameCallback(t)}),d}return Object(s.a)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;0=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(on).prototype.isVideoTexture=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u,l,c,h,d,p,f){var v;return Object(o.a)(this,n),(v=t.call(this,null,u,l,c,h,d,a,s,p,f)).image={width:r,height:i},v.mipmaps=e,v.flipY=!1,v.generateMipmaps=!1,v}return n}(on).prototype.isCompressedTexture=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u,l,c,h){var d;return Object(o.a)(this,n),(d=t.call(this,e,r,i,a,s,u,l,c,h)).needsUpdate=!0,d}return n}(on).prototype.isCanvasTexture=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u,l,c,h,d){var p;if(Object(o.a)(this,n),(d=void 0!==d?d:Mt)!==Mt&&d!==Ct)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===Mt&&(i=xt),void 0===i&&d===Ct&&(i=Ot),(p=t.call(this,null,a,s,u,l,c,d,i,h)).image={width:e,height:r},p.magFilter=void 0!==l?l:yt,p.minFilter=void 0!==c?c:yt,p.flipY=!1,p.generateMipmaps=!1,p}return n}(on).prototype.isDepthTexture=!0,new dn,new dn,new dn,new Or;var Hs=function(){function e(){Object(o.a)(this,e),this.type="Curve",this.arcLengthDivisions=200}return Object(s.a)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new en:new dn);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new dn,r=[],i=[],a=[],o=new dn,s=new Un,u=0;u<=e;u++)r[u]=this.getTangentAt(u/e,new dn),r[u].normalize();i[0]=new dn,a[0]=new dn;var l=Number.MAX_VALUE,c=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var f=Math.acos(Yt(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,f))}a[p].crossVectors(r[p],i[p])}if(!0===t){var v=Math.acos(Yt(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(v=-v);for(var m=1;m<=e;m++)i[m].applyMatrix4(s.makeRotationAxis(r[m],v*m)),a[m].crossVectors(r[m],i[m])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Vs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return Object(o.a)(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=s,e.aStartAngle=u,e.aEndAngle=l,e.aClockwise=c,e.aRotation=h,e}return Object(s.a)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new en,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=u-this.aY;s=h*l-d*c+this.aX,u=h*c+d*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Hs);Vs.prototype.isEllipseCurve=!0;var Us=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u){var l;return Object(o.a)(this,n),(l=t.call(this,e,r,i,i,a,s,u)).type="ArcCurve",l}return n}(Vs);function Gs(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Us.prototype.isArcCurve=!0;var Ws=new dn,qs=new Gs,Js=new Gs,Zs=new Gs,Xs=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return Object(o.a)(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=s,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?t=a[(u-1)%o]:(Ws.subVectors(a[0],a[1]).add(a[0]),t=Ws);var c=a[u%o],h=a[(u+1)%o];if(this.closed||u+2<o?n=a[(u+2)%o]:(Ws.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=Ws),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(t.distanceToSquared(c),d),f=Math.pow(c.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(n),d);f<1e-4&&(f=1),p<1e-4&&(p=f),v<1e-4&&(v=f),qs.initNonuniformCatmullRom(t.x,c.x,h.x,n.x,p,f,v),Js.initNonuniformCatmullRom(t.y,c.y,h.y,n.y,p,f,v),Zs.initNonuniformCatmullRom(t.z,c.z,h.z,n.z,p,f,v)}else"catmullrom"===this.curveType&&(qs.initCatmullRom(t.x,c.x,h.x,n.x,this.tension),Js.initCatmullRom(t.y,c.y,h.y,n.y,this.tension),Zs.initCatmullRom(t.z,c.z,h.z,n.z,this.tension));return i.set(qs.calc(l),Js.calc(l),Zs.calc(l)),i}},{key:"copy",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var o=e.points[t];this.points.push((new dn).fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Hs);function Ys(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Qs(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Ks(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}Xs.prototype.isCatmullRomCurve3=!0;var $s=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new en,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new en,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new en;return Object(o.a)(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=s,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Ks(e,r.x,i.x,a.x,o.x),Ks(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Hs);$s.prototype.isCubicBezierCurve=!0;var eu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dn,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new dn;return Object(o.a)(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=s,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Ks(e,r.x,i.x,a.x,o.x),Ks(e,r.y,i.y,a.y,o.y),Ks(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Hs);eu.prototype.isCubicBezierCurve3=!0;var tu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new en,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en;return Object(o.a)(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=i,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new en;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Hs);tu.prototype.isLineCurve=!0;var nu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn;return Object(o.a)(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=i,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Hs),ru=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new en,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new en;return Object(o.a)(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Qs(e,r.x,i.x,a.x),Qs(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Hs);ru.prototype.isQuadraticBezierCurve=!0;var iu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dn;return Object(o.a)(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Qs(e,r.x,i.x,a.x),Qs(e,r.y,i.y,a.y),Qs(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Hs);iu.prototype.isQuadraticBezierCurve3=!0;var au=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(o.a)(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return Object(s.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(Ys(o,s.x,u.x,l.x,c.x),Ys(o,s.y,u.y,l.y,c.y)),n}},{key:"copy",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e}},{key:"fromJSON",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var o=e.points[t];this.points.push((new en).fromArray(o))}return this}}]),n}(Hs);au.prototype.isSplineCurve=!0;var ou=Object.freeze({__proto__:null,ArcCurve:Us,CatmullRomCurve3:Xs,CubicBezierCurve:$s,CubicBezierCurve3:eu,EllipseCurve:Vs,LineCurve:tu,LineCurve3:nu,QuadraticBezierCurve:ru,QuadraticBezierCurve3:iu,SplineCurve:au});function su(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Cu(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Cu(a,e[a],e[a+1],o);return o&&Su(o,o.next)&&(Au(o),o=o.next),o}function uu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Su(r,r.next)&&0!==wu(r.prev,r,r.next))r=r.next;else{if(Au(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function lu(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=gu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?hu(e,r,i,a):cu(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Au(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?lu(e=du(uu(e),t,n),t,n,r,i,a,2):2===o&&pu(e,t,n,r,i,a):lu(uu(e),t,n,r,i,a,1);break}}}function cu(e){var t=e.prev,n=e,r=e.next;if(wu(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(_u(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&wu(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function hu(e,t,n,r){var i=e.prev,a=e,o=e.next;if(wu(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=gu(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),c=gu(s,u,t,n,r),h=e.prevZ,d=e.nextZ;h&&h.z>=l&&d&&d.z<=c;){if(h!==e.prev&&h!==e.next&&_u(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&wu(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&_u(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&wu(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=l;){if(h!==e.prev&&h!==e.next&&_u(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&wu(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=c;){if(d!==e.prev&&d!==e.next&&_u(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&wu(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function du(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Su(i,a)&&ku(i,r,r.next,a)&&Tu(i,a)&&Tu(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Au(r),Au(r.next),r=e=a),r=r.next}while(r!==e);return uu(r)}function pu(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&xu(o,s)){var u=Mu(o,s);return o=uu(o,o.next),u=uu(u,u.next),lu(o,t,n,r,i,a),void lu(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function fu(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=su(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(bu(o));for(s.sort(vu),i=0;i<s.length;i++)mu(s[i],n),n=uu(n,n.next);return n}function vu(e,t){return e.x-t.x}function mu(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,h=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&_u(a<h?i:o,a,c,h,a<h?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),Tu(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&yu(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t)){var n=Mu(t,e);uu(t,t.next),uu(n,n.next)}}function yu(e,t){return wu(e.prev,e,t.prev)<0&&wu(t.next,e,e.next)<0}function gu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function bu(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function _u(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function xu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ku(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Tu(e,t)&&Tu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(wu(e.prev,e,t.prev)||wu(e,t.prev,t))||Su(e,t)&&wu(e.prev,e,e.next)>0&&wu(t.prev,t,t.next)>0)}function wu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Su(e,t){return e.x===t.x&&e.y===t.y}function ku(e,t,n,r){var i=Eu(wu(e,t,n)),a=Eu(wu(e,t,r)),o=Eu(wu(n,r,e)),s=Eu(wu(n,r,t));return i!==a&&o!==s||!(0!==i||!Ou(e,n,t))||!(0!==a||!Ou(e,r,t))||!(0!==o||!Ou(n,e,r))||!(0!==s||!Ou(n,t,r))}function Ou(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Eu(e){return e>0?1:e<0?-1:0}function Tu(e,t){return wu(e.prev,e,e.next)<0?wu(e,t,e.next)>=0&&wu(e,e.prev,t)>=0:wu(e,t,e.prev)<0||wu(e,e.next,t)<0}function Mu(e,t){var n=new ju(e.i,e.x,e.y),r=new ju(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Cu(e,t,n,r){var i=new ju(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Au(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ju(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Lu=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];Pu(e),Nu(n,e);var a=e.length;t.forEach(Pu);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Nu(n,t[o]);for(var s=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*l:e.length,d=su(e,0,h,l,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=fu(e,t,d,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var f=l;f<h;f+=l)(o=e[f])<n&&(n=o),(s=e[f+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?1/u:0}return lu(d,p,l,n,r,u),p}(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function Pu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Nu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Ru=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;Object(o.a)(this,n),(i=t.call(this)).type="ExtrudeGeometry",i.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var a=Object(ee.a)(i),s=[],u=[],l=0,c=e.length;l<c;l++)h(e[l]);function h(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,i=void 0!==r.steps?r.steps:1,o=void 0!==r.depth?r.depth:100,l=void 0===r.bevelEnabled||r.bevelEnabled,c=void 0!==r.bevelThickness?r.bevelThickness:6,h=void 0!==r.bevelSize?r.bevelSize:c-2,d=void 0!==r.bevelOffset?r.bevelOffset:0,p=void 0!==r.bevelSegments?r.bevelSegments:3,f=r.extrudePath,v=void 0!==r.UVGenerator?r.UVGenerator:Iu;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),o=r.amount);var m,y,g,b,_,x=!1;f&&(m=f.getSpacedPoints(i),x=!0,l=!1,y=f.computeFrenetFrames(i,!1),g=new dn,b=new dn,_=new dn),l||(p=0,c=0,h=0,d=0);var w=e.extractPoints(n),S=w.shape,k=w.holes;if(!Lu.isClockWise(S)){S=S.reverse();for(var O=0,E=k.length;O<E;O++){var T=k[O];Lu.isClockWise(T)&&(k[O]=T.reverse())}}for(var M=Lu.triangulateShape(S,k),C=S,A=0,j=k.length;A<j;A++)S=S.concat(k[A]);function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var P=S.length,N=M.length;function R(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s;if(Math.abs(o*l-s*u)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(u*u+l*l),p=t.x-s/h,f=t.y+o/h,v=((n.x-l/d-p)*l-(n.y+u/d-f)*u)/(o*l-s*u),m=(r=p+o*v-e.x)*r+(i=f+s*v-e.y)*i;if(m<=2)return new en(r,i);a=Math.sqrt(m/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new en(r/a,i/a)}for(var I=[],D=0,z=C.length,B=z-1,F=D+1;D<z;D++,B++,F++)B===z&&(B=0),F===z&&(F=0),I[D]=R(C[D],C[B],C[F]);for(var H,V=[],U=I.concat(),G=0,W=k.length;G<W;G++){var q=k[G];H=[];for(var J=0,Z=q.length,X=Z-1,Y=J+1;J<Z;J++,X++,Y++)X===Z&&(X=0),Y===Z&&(Y=0),H[J]=R(q[J],q[X],q[Y]);V.push(H),U=U.concat(H)}for(var Q=0;Q<p;Q++){for(var K=Q/p,$=c*Math.cos(K*Math.PI/2),ee=h*Math.sin(K*Math.PI/2)+d,te=0,ne=C.length;te<ne;te++){var re=L(C[te],I[te],ee);Ae(re.x,re.y,-$)}for(var ie=0,ae=k.length;ie<ae;ie++){var oe=k[ie];H=V[ie];for(var se=0,ue=oe.length;se<ue;se++){var le=L(oe[se],H[se],ee);Ae(le.x,le.y,-$)}}}for(var ce=h+d,he=0;he<P;he++){var de=l?L(S[he],U[he],ce):S[he];x?(b.copy(y.normals[0]).multiplyScalar(de.x),g.copy(y.binormals[0]).multiplyScalar(de.y),_.copy(m[0]).add(b).add(g),Ae(_.x,_.y,_.z)):Ae(de.x,de.y,0)}for(var pe=1;pe<=i;pe++)for(var fe=0;fe<P;fe++){var ve=l?L(S[fe],U[fe],ce):S[fe];x?(b.copy(y.normals[pe]).multiplyScalar(ve.x),g.copy(y.binormals[pe]).multiplyScalar(ve.y),_.copy(m[pe]).add(b).add(g),Ae(_.x,_.y,_.z)):Ae(ve.x,ve.y,o/i*pe)}for(var me=p-1;me>=0;me--){for(var ye=me/p,ge=c*Math.cos(ye*Math.PI/2),be=h*Math.sin(ye*Math.PI/2)+d,_e=0,xe=C.length;_e<xe;_e++){var we=L(C[_e],I[_e],be);Ae(we.x,we.y,o+ge)}for(var Se=0,ke=k.length;Se<ke;Se++){var Oe=k[Se];H=V[Se];for(var Ee=0,Te=Oe.length;Ee<Te;Ee++){var Me=L(Oe[Ee],H[Ee],be);x?Ae(Me.x,Me.y+m[i-1].y,m[i-1].x+ge):Ae(Me.x,Me.y,o+ge)}}}function Ce(e,t){for(var n=e.length;--n>=0;){var r=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,s=i+2*p;o<s;o++){var u=P*o,l=P*(o+1);Le(t+r+u,t+a+u,t+a+l,t+r+l)}}}function Ae(e,n,r){t.push(e),t.push(n),t.push(r)}function je(e,t,n){Pe(e),Pe(t),Pe(n);var r=s.length/3,i=v.generateTopUV(a,s,r-3,r-2,r-1);Ne(i[0]),Ne(i[1]),Ne(i[2])}function Le(e,t,n,r){Pe(e),Pe(t),Pe(r),Pe(t),Pe(n),Pe(r);var i=s.length/3,o=v.generateSideWallUV(a,s,i-6,i-3,i-2,i-1);Ne(o[0]),Ne(o[1]),Ne(o[3]),Ne(o[1]),Ne(o[2]),Ne(o[3])}function Pe(e){s.push(t[3*e+0]),s.push(t[3*e+1]),s.push(t[3*e+2])}function Ne(e){u.push(e.x),u.push(e.y)}!function(){var e=s.length/3;if(l){for(var t=0,n=P*t,r=0;r<N;r++){var o=M[r];je(o[2]+n,o[1]+n,o[0]+n)}n=P*(t=i+2*p);for(var u=0;u<N;u++){var c=M[u];je(c[0]+n,c[1]+n,c[2]+n)}}else{for(var h=0;h<N;h++){var d=M[h];je(d[2],d[1],d[0])}for(var f=0;f<N;f++){var v=M[f];je(v[0]+P*i,v[1]+P*i,v[2]+P*i)}}a.addGroup(e,s.length/3-e,0)}(),function(){var e=s.length/3,t=0;Ce(C,t),t+=C.length;for(var n=0,r=k.length;n<r;n++){var i=k[n];Ce(i,t),t+=i.length}a.addGroup(e,s.length/3-e,1)}()}return i.setAttribute("position",new Hr(s,3)),i.setAttribute("uv",new Hr(u,2)),i.computeVertexNormals(),i}return Object(s.a)(n,[{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n.shapes.push(e[r].uuid);else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++)r.push(t[e.shapes[i]]);var o=e.options.extrudePath;return void 0!==o&&(e.options.extrudePath=(new ou[o.type]).fromJSON(o)),new n(r,e.options)}}]),n}(Yr),Iu={generateTopUV:function(e,t,n,r,i){var a=t[3*r],o=t[3*r+1],s=t[3*i],u=t[3*i+1];return[new en(t[3*n],t[3*n+1]),new en(a,o),new en(s,u)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],h=t[3*r+2],d=t[3*i],p=t[3*i+1],f=t[3*i+2],v=t[3*a],m=t[3*a+1],y=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new en(o,1-u),new en(l,1-h),new en(d,1-f),new en(v,1-y)]:[new en(s,1-u),new en(c,1-h),new en(p,1-f),new en(m,1-y)]}},Du=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Object(o.a)(this,n),(r=t.call(this)).type="ShapeGeometry",r.parameters={shapes:e,curveSegments:i};var a=[],s=[],u=[],l=[],c=0,h=0;if(!1===Array.isArray(e))p(e);else for(var d=0;d<e.length;d++)p(e[d]),r.addGroup(c,h,d),c+=h,h=0;function p(e){var t=s.length/3,n=e.extractPoints(i),r=n.shape,o=n.holes;!1===Lu.isClockWise(r)&&(r=r.reverse());for(var c=0,d=o.length;c<d;c++){var p=o[c];!0===Lu.isClockWise(p)&&(o[c]=p.reverse())}for(var f=Lu.triangulateShape(r,o),v=0,m=o.length;v<m;v++)r=r.concat(o[v]);for(var y=0,g=r.length;y<g;y++){var b=r[y];s.push(b.x,b.y,0),u.push(0,0,1),l.push(b.x,b.y)}for(var _=0,x=f.length;_<x;_++){var w=f[_];a.push(w[0]+t,w[1]+t,w[2]+t),h+=3}}return r.setIndex(a),r.setAttribute("position",new Hr(s,3)),r.setAttribute("normal",new Hr(u,3)),r.setAttribute("uv",new Hr(l,2)),r}return Object(s.a)(n,[{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t.shapes.push(e[n].uuid);else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++)r.push(t[e.shapes[i]]);return new n(r,e.curveSegments)}}]),n}(Yr),zu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Object(o.a)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:s,phiLength:u,thetaStart:l,thetaLength:c},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var h=Math.min(l+c,Math.PI),d=0,p=[],f=new dn,v=new dn,m=[],y=[],g=[],b=[],_=0;_<=a;_++){var x=[],w=_/a,S=0;0==_&&0==l?S=.5/i:_==a&&h==Math.PI&&(S=-.5/i);for(var k=0;k<=i;k++){var O=k/i;f.x=-r*Math.cos(s+O*u)*Math.sin(l+w*c),f.y=r*Math.cos(l+w*c),f.z=r*Math.sin(s+O*u)*Math.sin(l+w*c),y.push(f.x,f.y,f.z),v.copy(f).normalize(),g.push(v.x,v.y,v.z),b.push(O+S,1-w),x.push(d++)}p.push(x)}for(var E=0;E<a;E++)for(var T=0;T<i;T++){var M=p[E][T+1],C=p[E][T],A=p[E+1][T],j=p[E+1][T+1];(0!==E||l>0)&&m.push(M,C,j),(E!==a-1||h<Math.PI)&&m.push(C,A,j)}return e.setIndex(m),e.setAttribute("position",new Hr(y,3)),e.setAttribute("normal",new Hr(g,3)),e.setAttribute("uv",new Hr(b,2)),e}return Object(s.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Yr);(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new Nr(0),r.transparent=!0,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n})(Tr).prototype.isShadowMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return n}(_i).prototype.isRawShaderMaterial=!0;var Bu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Nr(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new en(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.vertexTangents=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}]),n}(Tr);Bu.prototype.isMeshStandardMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoat=0,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new en(1,1),r.clearcoatNormalMap=null,r.reflectivity=.5,Object.defineProperty(Object(ee.a)(r),"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=Yt(2.5*(e-1)/(e+1),0,1)}}),r.sheen=null,r.transmission=0,r.transmissionMap=null,r.thickness=.01,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new Nr(1,1,1),r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,this.sheen=e.sheen?(this.sheen||new Nr).copy(e.sheen):null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this}}]),n}(Bu).prototype.isMeshPhysicalMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new Nr(16777215),r.specular=new Nr(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new en(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(Tr).prototype.isMeshPhongMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new Nr(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new en(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(Tr).prototype.isMeshToonMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new en(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(Tr).prototype.isMeshNormalMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new Nr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Nr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(Tr).prototype.isMeshLambertMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Nr(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new en(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(Tr).prototype.isMeshMatcapMaterial=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Os).prototype.isLineDashedMaterial=!0;var Fu={arraySlice:function(e,t,n){return Fu.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],h=[],d=0;d<u.times.length;++d){var p=u.times[d]*i;if(!(p<n||p>=r)){c.push(u.times[d]);for(var f=0;f<l;++f)h.push(u.values[d*l+f])}}0!==c.length&&(u.times=Fu.convertArray(c,u.times.constructor),u.values=Fu.convertArray(h,u.values.constructor),o.push(u))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var y=0;y<a.tracks.length;++y)a.tracks[y].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find(function(e){return e.name===r.name&&e.ValueTypeName===i});if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var h=r.times.length-1,d=void 0;if(a<=r.times[0])d=Fu.arraySlice(r.values,s,u-s);else if(a>=r.times[h]){var p=h*u+s;d=Fu.arraySlice(r.values,p,p+u-s)}else{var f=r.createInterpolant(),v=s,m=u-s;f.evaluate(a),d=Fu.arraySlice(f.resultBuffer,v,m)}"quaternion"===i&&(new hn).fromArray(d).normalize().conjugate().toArray(d);for(var y=o.times.length,g=0;g<y;++g){var b=g*c+l;if("quaternion"===i)hn.multiplyQuaternionsFlat(o.values,b,d,0,o.values,b);else for(var _=c-2*l,x=0;x<_;++x)o.values[b+x]-=d[x]}},s=0;s<i;++s)o(s);return e.blendMode=Dt,e}},Hu=function(){function e(t,n,r,i){Object(o.a)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return Object(s.a)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return this._cachedIndex=n=t.length,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return this._cachedIndex=n=t.length,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Hu.prototype.beforeStart_=Hu.prototype.copySampleValue_,Hu.prototype.afterEnd_=Hu.prototype.copySampleValue_;var Vu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){var s;return Object(o.a)(this,n),(s=t.call(this,e,r,i,a))._weightPrev=-0,s._offsetPrev=-0,s._weightNext=-0,s._offsetNext=-0,s.DefaultSettings_={endingStart:Pt,endingEnd:Pt},s}return Object(s.a)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Nt:i=e,o=2*t-n;break;case Rt:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Nt:a=e,s=2*n-t;break;case Rt:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(r-t),f=p*p,v=f*p,m=-h*v+2*h*f-h*p,y=(1+h)*v+(-1.5-2*h)*f+(-.5+h)*p+1,g=(-1-d)*v+(1.5+d)*f+.5*p,b=d*v-d*f,_=0;_!==o;++_)i[_]=m*a[l+_]+y*a[u+_]+g*a[s+_]+b*a[c+_];return i}}]),n}(Hu),Uu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){return Object(o.a)(this,n),t.call(this,e,r,i,a)}return Object(s.a)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}]),n}(Hu),Gu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){return Object(o.a)(this,n),t.call(this,e,r,i,a)}return Object(s.a)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Hu),Wu=function(){function e(t,n,r,i){if(Object(o.a)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Fu.convertArray(n,this.TimeBufferType),this.values=Fu.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return Object(s.a)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Gu(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Uu(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Vu(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case At:t=this.InterpolantFactoryMethodDiscrete;break;case jt:t=this.InterpolantFactoryMethodLinear;break;case Lt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return At;case this.InterpolantFactoryMethodLinear:return jt;case this.InterpolantFactoryMethodSmooth:return Lt}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Fu.arraySlice(n,i,a),this.values=Fu.arraySlice(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Fu.isTypedArray(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Fu.arraySlice(this.times),t=Fu.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Lt,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,h=l+n,d=0;d!==n;++d){var p=t[l+d];if(p!==t[c+d]||p!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var f=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[f+m]}++a}}if(i>0){e[a]=e[i];for(var y=i*n,g=a*n,b=0;b!==n;++b)t[g+b]=t[y+b];++a}return a!==e.length?(this.times=Fu.arraySlice(e,0,a),this.values=Fu.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Fu.arraySlice(this.times,0),t=Fu.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Fu.convertArray(e.times,Array),values:Fu.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Wu.prototype.TimeBufferType=Float32Array,Wu.prototype.ValueBufferType=Float32Array,Wu.prototype.DefaultInterpolation=jt;var qu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Wu);qu.prototype.ValueTypeName="bool",qu.prototype.ValueBufferType=Array,qu.prototype.DefaultInterpolation=At,qu.prototype.InterpolantFactoryMethodLinear=void 0,qu.prototype.InterpolantFactoryMethodSmooth=void 0;var Ju=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Wu);Ju.prototype.ValueTypeName="color";var Zu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Wu);Zu.prototype.ValueTypeName="number";var Xu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){return Object(o.a)(this,n),t.call(this,e,r,i,a)}return Object(s.a)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)hn.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(Hu),Yu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Xu(this.times,this.values,this.getValueSize(),e)}}]),n}(Wu);Yu.prototype.ValueTypeName="quaternion",Yu.prototype.DefaultInterpolation=jt,Yu.prototype.InterpolantFactoryMethodSmooth=void 0;var Qu=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Wu);Qu.prototype.ValueTypeName="string",Qu.prototype.ValueBufferType=Array,Qu.prototype.DefaultInterpolation=At,Qu.prototype.InterpolantFactoryMethodLinear=void 0,Qu.prototype.InterpolantFactoryMethodSmooth=void 0;var Ku=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(Wu);Ku.prototype.ValueTypeName="vector";var $u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:It;Object(o.a)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Xt(),this.duration<0&&this.resetDuration()}return Object(s.a)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(el(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Wu.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=Fu.getKeyframeOrder(s);s=Fu.sortedArray(s,1,l),u=Fu.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Zu(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Fu.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var p=0;p<c[d].morphTargets.length;p++)h[c[d].morphTargets[p]]=-1;for(var f in h){for(var v=[],m=[],y=0;y!==c[d].morphTargets.length;++y){var g=c[d];v.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new Zu(".morphTargetInfluence["+f+"]",v,m))}s=h.length*(a||1)}else{var b=".bones["+t[l].name+"]";n(Ku,b+".position",c,"pos",r),n(Yu,b+".quaternion",c,"rot",r),n(Ku,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function el(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Zu;case"vector":case"vector2":case"vector3":case"vector4":return Ku;case"color":return Ju;case"quaternion":return Yu;case"bool":case"boolean":return qu;case"string":return Qu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Fu.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var tl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},nl=new function e(t,n,r){Object(o.a)(this,e);var i=this,a=!1,s=0,u=0,l=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){u++,!1===a&&void 0!==i.onStart&&i.onStart(e,s,u),a=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,u),s===u&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}},rl=function(){function e(t){Object(o.a)(this,e),this.manager=void 0!==t?t:nl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return Object(s.a)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),il={},al=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=tl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;if(void 0===il[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var u=s[1],l=!!s[2],c=s[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var p=new Uint8Array(c.length),f=0;f<c.length;f++)p[f]=c.charCodeAt(f);h="blob"===d?new Blob([p.buffer],{type:u}):p.buffer;break;case"document":var v=new DOMParser;h=v.parseFromString(c,u);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(y){setTimeout(function(){r&&r(y),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{for(var m in il[e]=[],il[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",function(t){var n=this.response,r=il[e];if(delete il[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),tl.add(e,n);for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var u=0,l=r.length;u<l;u++){var c=r[u];c.onError&&c.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),o.addEventListener("progress",function(t){for(var n=il[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}},!1),o.addEventListener("error",function(t){var n=il[e];delete il[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),o.addEventListener("abort",function(t){var n=il[e];delete il[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(m,this.requestHeader[m]);o.send(null)}return i.manager.itemStart(e),o}il[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(rl),ol=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=tl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),tl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(rl),sl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"load",value:function(e,t,n,r){var i=new Oi,a=new ol(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],function(e){i.images[n]=e,6==++o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(rl),ul=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"load",value:function(e,t,n,r){var i=new on,a=new ol(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Et:Tt,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}}]),n}(rl),ll=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new en,e&&r.setFromPoints(e),r}return Object(s.a)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new tu(this.currentPoint.clone(),new en(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new ru(this.currentPoint.clone(),new en(e,t),new en(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new $s(this.currentPoint.clone(),new en(e,t),new en(n,r),new en(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new au(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new Vs(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return Object(s.a)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new tu(t,e))}},{key:"getPoint",value:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength();return a.getPointAt(0===o?0:1-i/o)}r++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++)e.curves.push(this.curves[t].toJSON());return e}},{key:"fromJSON",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var o=e.curves[t];this.curves.push((new ou[o.type]).fromJSON(o))}return this}}]),n}(Hs)),cl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).uuid=Xt(),r.type="Shape",r.holes=[],r}return Object(s.a)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++)this.holes.push(e.holes[t].clone());return this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++)e.holes.push(this.holes[t].toJSON());return e}},{key:"fromJSON",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var o=e.holes[t];this.holes.push((new ll).fromJSON(o))}return this}}]),n}(ll),hl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(o.a)(this,n),(r=t.call(this)).type="Light",r.color=new Nr(e),r.intensity=i,r}return Object(s.a)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(fr);hl.prototype.isLight=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e,i)).type="HemisphereLight",a.position.copy(fr.DefaultUp),a.updateMatrix(),a.groundColor=new Nr(r),a}return Object(s.a)(n,[{key:"copy",value:function(e){return hl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(hl).prototype.isHemisphereLight=!0;var dl=new Un,pl=new dn,fl=new dn,vl=function(){function e(t){Object(o.a)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new en(512,512),this.map=null,this.mapPass=null,this.matrix=new Un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Pi,this._frameExtents=new en(1,1),this._viewportCount=1,this._viewports=[new un(0,0,1,1)]}return Object(s.a)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;pl.setFromMatrixPosition(e.matrixWorld),t.position.copy(pl),fl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(fl),t.updateMatrixWorld(),dl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),ml=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this,new wi(50,1,.5,500))).focus=1,e}return Object(s.a)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Zt*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;r===t.fov&&o===t.aspect&&s===t.far||(t.fov=r,t.aspect=o,t.far=s,t.updateProjectionMatrix()),Object(i.a)(Object(a.a)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(vl);ml.prototype.isSpotLightShadow=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="SpotLight",i.position.copy(fr.DefaultUp),i.updateMatrix(),i.target=new fr,i.distance=a,i.angle=s,i.penumbra=u,i.decay=l,i.shadow=new ml,i}return Object(s.a)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(hl).prototype.isSpotLight=!0;var yl=new Un,gl=new dn,bl=new dn,_l=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this,new wi(90,1,.5,500)))._frameExtents=new en(4,2),e._viewportCount=6,e._viewports=[new un(2,1,1,1),new un(0,1,1,1),new un(3,1,1,1),new un(1,1,1,1),new un(3,0,1,1),new un(1,0,1,1)],e._cubeDirections=[new dn(1,0,0),new dn(-1,0,0),new dn(0,0,1),new dn(0,0,-1),new dn(0,1,0),new dn(0,-1,0)],e._cubeUps=[new dn(0,1,0),new dn(0,1,0),new dn(0,1,0),new dn(0,1,0),new dn(0,0,1),new dn(0,0,-1)],e}return Object(s.a)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),gl.setFromMatrixPosition(e.matrixWorld),n.position.copy(gl),bl.copy(n.position),bl.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(bl),n.updateMatrixWorld(),r.makeTranslation(-gl.x,-gl.y,-gl.z),yl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yl)}}]),n}(vl);_l.prototype.isPointLightShadow=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="PointLight",i.distance=a,i.decay=s,i.shadow=new _l,i}return Object(s.a)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(hl).prototype.isPointLight=!0;var xl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return Object(o.a)(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=s,e.near=u,e.far=l,e.updateProjectionMatrix(),e}return Object(s.a)(n,[{key:"copy",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(xi);xl.prototype.isOrthographicCamera=!0;var wl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.call(this,new xl(-5,5,5,-5,.5,500))}return n}(vl);wl.prototype.isDirectionalLightShadow=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="DirectionalLight",i.position.copy(fr.DefaultUp),i.updateMatrix(),i.target=new fr,i.shadow=new wl,i}return Object(s.a)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(hl).prototype.isDirectionalLight=!0;var Sl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="AmbientLight",i}return n}(hl);Sl.prototype.isAmbientLight=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return Object(o.a)(this,n),(i=t.call(this,e,r)).type="RectAreaLight",i.width=a,i.height=s,i}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(hl).prototype.isRectAreaLight=!0;var kl=function(){function e(){Object(o.a)(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new dn)}return Object(s.a)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();kl.prototype.isSphericalHarmonics3=!0;var Ol=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new kl,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(o.a)(this,n),(e=t.call(this,void 0,i)).sh=r,e}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(hl);Ol.prototype.isLightProbe=!0;var El=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}]),e}();(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n})(Yr).prototype.isInstancedBufferGeometry=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(o.a)(this,n),"number"==typeof i&&(s=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(a=t.call(this,e,r,i)).meshPerAttribute=s,a}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(zr).prototype.isInstancedBufferAttribute=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),r=t.call(this,e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return Object(s.a)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=tl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){tl.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}}]),n}(rl).prototype.isImageBitmapLoader=!0;var Tl=function(){function e(){Object(o.a)(this,e),this.type="ShapePath",this.color=new Nr,this.subPaths=[],this.currentPath=null}return Object(s.a)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new ll,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new cl;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i,a,o,s=Lu.isClockWise,u=this.subPaths;if(0===u.length)return[];if(!0===t)return n(u);var l=[];if(1===u.length)return a=u[0],(o=new cl).curves=a.curves,l.push(o),l;var c=!s(u[0].getPoints());c=e?!c:c;var h,d,p=[],f=[],v=[],m=0;f[m]=void 0,v[m]=[];for(var y=0,g=u.length;y<g;y++)i=s(h=(a=u[y]).getPoints()),(i=e?!i:i)?(!c&&f[m]&&m++,f[m]={s:new cl,p:h},f[m].s.curves=a.curves,c&&m++,v[m]=[]):v[m].push({h:a,p:h[0]});if(!f[0])return n(u);if(f.length>1){for(var b=!1,_=[],x=0,w=f.length;x<w;x++)p[x]=[];for(var S=0,k=f.length;S<k;S++)for(var O=v[S],E=0;E<O.length;E++){for(var T=O[E],M=!0,C=0;C<f.length;C++)r(T.p,f[C].p)&&(S!==C&&_.push({froms:S,tos:C,hole:E}),M?(M=!1,p[C].push(T)):b=!0);M&&p[S].push(T)}_.length>0&&(b||(v=p))}for(var A=0,j=f.length;A<j;A++){l.push(o=f[A].s);for(var L=0,P=(d=v[A]).length;L<P;L++)o.holes.push(d[L].h)}return l}}]),e}();function Ml(e,t,n){for(var r=Array.from(e),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,u=0,l=0;l<r.length;l++){var c=r[l];if("\n"===c)s=0,u-=a;else{var h=Cl(c,i,s,u,n);s+=h.offsetX,o.push(h.path)}}return o}function Cl(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,h,d,p,f=new Tl;if(a.o)for(var v=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,y=v.length;m<y;)switch(v[m++]){case"m":o=v[m++]*t+n,s=v[m++]*t+r,f.moveTo(o,s);break;case"l":o=v[m++]*t+n,s=v[m++]*t+r,f.lineTo(o,s);break;case"q":u=v[m++]*t+n,l=v[m++]*t+r,c=v[m++]*t+n,h=v[m++]*t+r,f.quadraticCurveTo(c,h,u,l);break;case"b":u=v[m++]*t+n,l=v[m++]*t+r,c=v[m++]*t+n,h=v[m++]*t+r,d=v[m++]*t+n,p=v[m++]*t+r,f.bezierCurveTo(c,h,d,p,u,l)}return{offsetX:a.ha*t,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}(function(){function e(t){Object(o.a)(this,e),this.type="Font",this.data=t}return Object(s.a)(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=Ml(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}]),e})().prototype.isFont=!0;var Al,jl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new al(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{var a=n.slice(0);(void 0===Al&&(Al=new(window.AudioContext||window.webkitAudioContext)),Al).decodeAudioData(a,function(e){t(e)})}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}},n,r)}}]),n}(rl);(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(o.a)(this,n),i=t.call(this,void 0,a);var s=(new Nr).set(e),u=(new Nr).set(r),l=new dn(s.r,s.g,s.b),c=new dn(u.r,u.g,u.b),h=Math.sqrt(Math.PI),d=h*Math.sqrt(.75);return i.sh.coefficients[0].copy(l).add(c).multiplyScalar(h),i.sh.coefficients[1].copy(l).sub(c).multiplyScalar(d),i}return n})(Ol).prototype.isHemisphereLightProbe=!0,function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(o.a)(this,n),r=t.call(this,void 0,i);var a=(new Nr).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return n}(Ol).prototype.isAmbientLightProbe=!0;var Ll=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Object(s.a)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(fr),Pl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Object(o.a)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Object(s.a)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Nl=function(){function e(t,n,r){var i,a,s;switch(Object(o.a)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return Object(s.a)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else this._mixBufferRegion(n,i,0,t/(a+=t),r);this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1&&this._mixBufferRegion(n,r,t*this._origIndex,1-i,t),a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.buffer,t=this.valueSize,n=t*this._origIndex;this.binding.getValue(e,n);for(var r=t,i=n;r!==i;++r)e[r]=e[n+r%t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){this.binding.setValue(this.buffer,3*this.valueSize)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){hn.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;hn.multiplyQuaternionsFlat(e,a,e,t,e,n),hn.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),Rl=new RegExp("[\\[\\]\\.:\\/]","g"),Il="[^\\[\\]\\.:\\/]",Dl="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",zl=/((?:WC+[\/:])*)/.source.replace("WC",Il),Bl=/(WCOD+)?/.source.replace("WCOD",Dl),Fl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Il),Hl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Il),Vl=new RegExp("^"+zl+Bl+Fl+Hl+"$"),Ul=["material","materials","bones"],Gl=function(){function e(t,n,r){Object(o.a)(this,e);var i=r||Wl.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return Object(s.a)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Wl=function(){function e(t,n,r){Object(o.a)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return Object(s.a)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.node[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+i+" but it wasn't found.",t)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Rl,"")}},{key:"parseTrackName",value:function(e){var t=Vl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Ul.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();Wl.Composite=Gl,Wl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Wl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Wl.prototype.GetterByBindingType=[Wl.prototype._getValue_direct,Wl.prototype._getValue_array,Wl.prototype._getValue_arrayElement,Wl.prototype._getValue_toArray],Wl.prototype.SetterByBindingTypeAndVersioning=[[Wl.prototype._setValue_direct,Wl.prototype._setValue_direct_setNeedsUpdate,Wl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wl.prototype._setValue_array,Wl.prototype._setValue_array_setNeedsUpdate,Wl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wl.prototype._setValue_arrayElement,Wl.prototype._setValue_arrayElement_setNeedsUpdate,Wl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wl.prototype._setValue_fromArray,Wl.prototype._setValue_fromArray_setNeedsUpdate,Wl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],function(){function e(){Object(o.a)(this,e),this.uuid=Xt(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return Object(s.a)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],d=h.uuid,p=t[d];if(void 0===p){p=s++,t[d]=p,e.push(h);for(var f=0,v=a;f!==v;++f)i[f].push(new Wl(h,n[f],r[f]))}else if(p<u){o=e[p];var m=--u,y=e[m];t[y.uuid]=p,e[p]=y,t[d]=m,e[m]=h;for(var g=0,b=a;g!==b;++g){var _=i[g],x=_[m],w=_[p];_[p]=x,void 0===w&&(w=new Wl(h,n[g],r[g])),_[m]=w}}else e[p]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,h=e[c];t[h.uuid]=l,e[l]=h,t[u]=c,e[c]=s;for(var d=0,p=r;d!==p;++d){var f=n[d],v=f[c],m=f[l];f[l]=v,f[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var h=--i,d=e[h],p=--a,f=e[p];t[d.uuid]=c,e[c]=d,t[f.uuid]=h,e[h]=f,e.pop();for(var v=0,m=r;v!==m;++v){var y=n[v],g=y[h],b=y[p];y[c]=g,y[h]=b,y.pop()}}else{var _=--a,x=e[_];_>0&&(t[x.uuid]=c),e[c]=x,e.pop();for(var w=0,S=r;w!==S;++w){var k=n[w];k[c]=k[_],k.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=this.nCachedObjects_,l=new Array(s.length);n[e]=r=i.length,a.push(e),o.push(t),i.push(l);for(var c=u,h=s.length;c!==h;++c)l[c]=new Wl(s[c],e,t);return l}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}().prototype.isAnimationObjectGroup=!0;var ql=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Object(o.a)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,s=a.length,u=new Array(s),l={endingStart:Pt,endingEnd:Pt},c=0;c!==s;++c){var h=a[c].createInterpolant(null);u[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=u,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Object(s.a)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=r/i;e.warp(1,i/r,t),this.warp(a,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case Dt:for(var c=0,h=u.length;c!==h;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);break;case It:default:for(var d=0,p=u.length;d!==p;++d)u[d].evaluate(o),l[d].accumulate(r,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r=e>0?t:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1==(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Nt,r.endingEnd=Nt):(r.endingStart=e?this.zeroSlopeAtStart?Nt:Pt:Rt,r.endingEnd=t?this.zeroSlopeAtEnd?Nt:Pt:Rt)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}();(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return Object(s.a)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(u[s]=l={});for(var c=0;c!==i;++c){var h=r[c],d=h.name,p=l[d];if(void 0!==p)a[c]=p;else{if(void 0!==(p=a[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}++(p=new Nl(Wl.create(n,d,t&&t._propertyBindings[c].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),a[c]=p}o[c].resultBuffer=p.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(r[t]=a={}),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Uu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"==typeof e?$u.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:It),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new ql(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?$u.findByName(n,e):e,a=this._actionsByClip[i?i.uuid:e];return void 0!==a&&a.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){for(var t=this._actions,n=this._nActiveActions,r=this.time+=e*=this.timeScale,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(r,e,i,a);for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n})(Gt).prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Jl=function(){function e(t){Object(o.a)(this,e),"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return Object(s.a)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(o.a)(this,n),(i=t.call(this,e,r)).meshPerAttribute=a,i}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(i.a)(Object(a.a)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=Object(i.a)(Object(a.a)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n})(Qo).prototype.isInstancedInterleavedBuffer=!0,function(){function e(t,n,r,i,a){Object(o.a)(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return Object(s.a)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}().prototype.isGLBufferAttribute=!0;var Zl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(o.a)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Object(s.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Yt(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Xl=new en,Yl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new en(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en(-1/0,-1/0);Object(o.a)(this,e),this.min=t,this.max=n}return Object(s.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Xl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Xl.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Yl.prototype.isBox2=!0;var Ql=new dn,Kl=new dn,$l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn;Object(o.a)(this,e),this.start=t,this.end=n}return Object(s.a)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Ql.subVectors(e,this.start),Kl.subVectors(this.end,this.start);var n=Kl.dot(Kl),r=Kl.dot(Ql)/n;return t&&(r=Yt(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();(function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).material=e,r.render=function(){},r.hasPositions=!1,r.hasNormals=!1,r.hasColors=!1,r.hasUvs=!1,r.positionArray=null,r.normalArray=null,r.colorArray=null,r.uvArray=null,r.count=0,r}return n})(fr).prototype.isImmediateRenderObject=!0;var ec=new dn,tc=new Un,nc=new Un,rc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(o.a)(this,n);for(var i=ic(e),a=new Yr,s=[],u=[],l=new Nr(0,0,1),c=new Nr(0,1,0),h=0;h<i.length;h++){var d=i[h];d.parent&&d.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),u.push(l.r,l.g,l.b),u.push(c.r,c.g,c.b))}a.setAttribute("position",new Hr(s,3)),a.setAttribute("color",new Hr(u,3));var p=new Os({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,p)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return Object(s.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,o=r.getAttribute("position");nc.copy(this.root.matrixWorld).invert();for(var s=0,u=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(tc.multiplyMatrices(nc,l.matrixWorld),ec.setFromMatrixPosition(tc),o.setXYZ(u,ec.x,ec.y,ec.z),tc.multiplyMatrices(nc,l.parent.matrixWorld),ec.setFromMatrixPosition(tc),o.setXYZ(u+1,ec.x,ec.y,ec.z),u+=2)}r.getAttribute("position").needsUpdate=!0,Object(i.a)(Object(a.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Ns);function ic(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,ic(e.children[n]));return t}var ac=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Object(o.a)(this,n),a=new Nr(a),s=new Nr(s);for(var u=i/2,l=r/i,c=r/2,h=[],d=[],p=0,f=0,v=-c;p<=i;p++,v+=l){h.push(-c,0,v,c,0,v),h.push(v,0,-c,v,0,c);var m=p===u?a:s;m.toArray(d,f),m.toArray(d,f+=3),m.toArray(d,f+=3),m.toArray(d,f+=3),f+=3}var y=new Yr;y.setAttribute("position",new Hr(h,3)),y.setAttribute("color",new Hr(d,3));var g=new Os({vertexColors:!0,toneMapped:!1});return(e=t.call(this,y,g)).type="GridHelper",e}return n}(Ns),oc=new Float32Array(1),sc=(new Int32Array(oc.buffer),Math.pow(2,8),st={},Object(lt.a)(st,zt,0),Object(lt.a)(st,Bt,1),Object(lt.a)(st,3002,2),Object(lt.a)(st,3004,3),Object(lt.a)(st,3005,4),Object(lt.a)(st,3006,5),Object(lt.a)(st,3007,6),new Rr({side:1,depthWrite:!1,depthTest:!1}));new fi(new mi,sc),Math.sqrt(5),Hs.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Hs.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},ll.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},ac.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},rc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},rl.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),El.extractUrlBase(e)},rl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Yl.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},Yl.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Yl.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Yl.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},vn.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},vn.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},vn.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},vn.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},vn.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Nn.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Pi.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},$l.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},nn.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},nn.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},nn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},nn.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},nn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},nn.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Un.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Un.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Un.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new dn).setFromMatrixColumn(this,3)},Un.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Un.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Un.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Un.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Un.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Un.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Un.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Un.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Un.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Un.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Un.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Un.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Un.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Un.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Un.prototype.makeFrustum=function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)},Un.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Ai.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},hn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},hn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Vn.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Vn.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Vn.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Or.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Or.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},Or.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Or.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Or.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Or.barycoordFromPoint=function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Or.getBarycoord(e,t,n,r,i)},Or.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Or.getNormal(e,t,n,r)},cl.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},cl.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ru(this,e)},cl.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Du(this,e)},en.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},en.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},en.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},dn.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},dn.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},dn.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},dn.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},dn.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},dn.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},dn.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},dn.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},dn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},un.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},un.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},fr.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},fr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},fr.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},fr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},fr.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(fr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),fi.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(fi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),_s.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},wi.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(hl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(zr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Vt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Vt)}}}),zr.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Vt:Ht),this},zr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},zr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Yr.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Yr.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new zr(arguments[1],arguments[2])))},Yr.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Yr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Yr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Yr.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Yr.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Yr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Qo.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Vt:Ht),this},Qo.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ru.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Ru.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Ru.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Yo.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Jl.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Tr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Nr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(_i.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Xo.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},Xo.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Xo.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Xo.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Xo.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Xo.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Xo.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Xo.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Xo.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Xo.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Xo.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Xo.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Xo.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Xo.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Xo.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Xo.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Xo.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Xo.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Xo.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Xo.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Xo.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Xo.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Xo.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Xo.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Xo.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Xo.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Bt:zt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(zo.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ln.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ll.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new jl).load(e,function(e){t.setBuffer(e)}),this},Pl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ki.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},ki.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},rn.crossOrigin=void 0,rn.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ul;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},rn.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new sl;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},rn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},rn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"130"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="130");var uc={Scene:Yo,PerspectiveCamera:wi,WebGLRenderer:Xo,SphereGeometry:zu,MeshStandardMaterial:Bu,Mesh:fi,AmbientLight:Sl,GridHelper:ac,EventDispatcher:Gt,Vector2:en,Vector3:dn,MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Quaternion:hn,Spherical:Zl,TextureLoader:ul,MeshBasicMaterial:Rr,OrbitControls:null};orbitControls({THREE:uc});var lc=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appThree",name:"three"},this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.group,r=e.subscriptions,i=n.ryber,a=n.ref,o=n.zChildren,s=[{url:mediaPrefix({media:"red_land_diffuse.jpg"}),positions:[70,0,1600],geometry:[36,32,32]},{url:mediaPrefix({media:"ice_land_diffuse.jpg"}),positions:[-5,0,1250],geometry:[11,32,32]},{url:mediaPrefix({media:"terra_land_diffuse.jpg"}),positions:[10,0,900],geometry:[8,32,32]},{url:mediaPrefix({media:"emerald_city.jpg"}),positions:[-10,-10,650],geometry:[6,32,32]},{url:mediaPrefix({media:"forest_land_diffuse.jpg"}),positions:[0,0,300],geometry:[8,32,32]}];Object.entries(t).forEach(function(e,t){var n=Object(G.c)(e,2)[1],u=Array.from(n.types.background||[]),l=Array.from(n.types.link||[]);u.forEach(function(e,t){var n=o[e],r=new uc.Scene,a=((new uc.TextureLoader).load(mediaPrefix({media:"space.jpg"}),function(e){r.background=e},function(){},console.log),i.appCO0.metadata.three.camera=new uc.PerspectiveCamera(75,window.innerWidth/n.extras.appThree.options.camera.height,.1,1e6)),u=new uc.WebGLRenderer({canvas:n.element});u.setSize(window.innerWidth,n.extras.appThree.options.camera.height),s.map(function(e,t){return(new uc.TextureLoader).load(e.url,function(t){var n,i,a=new((n=uc.SphereGeometry).bind.apply(n,Object(G.d)([void 0],e.geometry))),o=new uc.MeshStandardMaterial({map:t});e.shape=new uc.Mesh(a,o),(i=e.shape.position).set.apply(i,Object(G.d)(e.positions)),r.add(e.shape)},function(){},console.log),e}),a.position.copy(_e.a.three.camera.position);var l=new uc.AmbientLight(16777215,1);new uc.GridHelper(50,20),r.add(l);var c=function(){requestAnimationFrame(c),u.setSize(window.innerWidth,n.extras.appThree.options.camera.height),TWEEN.update(),s.forEach(function(e,t){e.shape&&(e.shape.rotation.x+=.01)}),u.render(r,a)};c()}),l.forEach(function(e,t){var r=o[e],s=i.appCO0.metadata.three,u=s.camera,l=s.cameraValues,c=Object(we.a)(r.element,"click").subscribe({next:function(e){TWEEN.removeAll(),new TWEEN.Tween(u.position).to(l[r.extras.appThree.options.navName],1500).onComplete(function(){Object(Y.a)(null).pipe(le(1),ie(function(){i.appCO0.metadata.navigation.full.navigated="true",i.appCurrentNav=r.extras.appThree.options.navName,Array.from(n.types.link).forEach(function(e,t){var n=o[e];i.appCurrentNav===n.extras.appThree.options.navName?n.css["font-family"]="Arial":delete n.css["font-family"]}),a.detectChanges()}),tt(function(e){return console.log(e),Object(Y.a)(e)})).subscribe()}).start()},error:function(e){}});n.subscriptions.push(c)}),r.push.apply(r,Object(G.d)(n.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appThree",""]],inputs:{three:"three"}}),e}(),cc=n("HDdC");function hc(e){return new cc.a(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(Qe.a)(n):Object(ue.b)()).subscribe(t)})}function dc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.a;return hc(function(){return e()?t:n})}function pc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new fc(e,t))}}var fc=function(){function e(t,n){Object(o.a)(this,e),this.predicate=t,this.inclusive=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new vc(e,this.predicate,this.inclusive))}}]),e}(),vc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(o.a)(this,n),(a=t.call(this,e)).predicate=r,a.inclusive=i,a.index=0,a}return Object(s.a)(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(te.a),mc=n("lJxs");function yc(e,t){return t?function(n){return n.pipe(yc(function(n,r){return Object(Qe.a)(e(n,r)).pipe(Object(mc.a)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new gc(e))}}var gc=function(){function e(t){Object(o.a)(this,e),this.project=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new bc(e,this.project))}}]),e}(),bc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return Object(s.a)(n,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new et.a(this),n=this.destination;n.add(t);var r=Object(et.c)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(et.b),_c=n("bOdf"),xc=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appAwsLogin",name:"awsLogin"},this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.subscriptions,r=n.ryber,i=n.ref,a=n.zChildren,o=n.http,s=n.extras;Object.entries(e.group).forEach(function(e,n){var u=Object(G.c)(e,2)[1],l=Array.from(u.types.signIn||[]),c=Array.from(u.types.createAccount||[]),h=Array.from(u.types.mainLogin||[]),d=Array.from(u.types.mainLoginContainer||[]),p=Array.from(u.types.mainLoginBold||[]),f=Array.from(u.types.create1||[]),v=Array.from(u.types.create1Input||[]),m=Array.from(u.types.create1Button||[]),y=Array.from(u.types.create1User||[]),g=Array.from(u.types.create1Pass||[]),b=Array.from(u.types.create1ConfirmPass||[]),_=Array.from(u.types.create1PassError||[]),x=Array.from(u.types.create2||[]),w=Array.from(u.types.create2Bold||[]),S=Array.from(u.types.create2QR||[]),k=Array.from(u.types.create2Submit||[]),O=Array.from(u.types.create2TOTP||[]),E=Array.from(u.types.create3||[]),T=Array.from(u.types.create3Bold||[]),M=Array.from(u.types.create4||[]),C=Array.from(u.types.create4Bold||[]),A=Array.from(u.types.create4Input||[]),j=Array.from(u.types.create4Submit||[]),L=Array.from(u.types.create4Resend||[]),P=Array.from(u.types.signIn1||[]),N=Array.from(u.types.signIn1Bold||[]),R=Array.from(u.types.signIn1Submit||[]),I=Array.from(u.types.signIn1User||[]),D=Array.from(u.types.signIn1Pass||[]),z=Array.from(u.types.signIn1TOTP||[]),B=Array.from(u.types.signIn2Bold||[]),F=Array.from(u.types.signIn2||[]),H=Array.from(u.types.password||[]),V=Array.from(u.types.password1||[]),U=Array.from(u.types.password1Bold||[]),W=Array.from(u.types.password1Submit||[]),q=Array.from(u.types.password1User||[]),J=Array.from(u.types.password1Pass||[]),Z=Array.from(u.types.password1TOTP||[]),X=Array.from(u.types.password2Bold||[]),Q=Array.from(u.types.password2||[]),K=Array.from(u.types.password2OldPass||[]),ee=Array.from(u.types.password2NewPass||[]),te=Array.from(u.types.password2ConfirmPass||[]),ne=Array.from(u.types.password2Submit||[]),re=Array.from(u.types.password2PassError||[]),ae=Array.from(u.types.password3||[]),oe=Array.from(u.types.password3Bold||[]),se=Array.from(u.types.delAcct||[]),ue=Array.from(u.types.delete1||[]),ce=Array.from(u.types.delete1Bold||[]),he=Array.from(u.types.delete1Component||[]);d.forEach(function(e,t){var n=Object(G.d)(f,x,E,M,P,F,V,Q,ae,ue);n.forEach(function(e,t){a[e].css.transition="none",a[e].css.opacity=0,a[e].css["z-index"]=4}),i.detectChanges(),n.forEach(function(e,t){delete a[e].css.transition}),Object(Y.a)([]).pipe(le(1),me(200)).subscribe({next:function(e){Object($.b)({closing:[],zChildren:a,open:h,openBold:p,ref:i})},error:function(e){}})}),se.forEach(function(e,t){var n=r.appCO0.metadata.components.lazyLoad.current.pipe(Object(Me.a)(function(e){return e.zSymbol===he[0]&&e.co===s.co}),le(1)).subscribe({next:function(){var t=Object(we.a)(a[e].element,"click").subscribe({next:function(e){Object($.b)({closing:h,zChildren:a,open:ue,openBold:ce,ref:i}),i.detectChanges()},error:function(e){}});u.subscriptions.push(t)}});u.subscriptions.push(n)}),he.forEach(function(e,t){var n=a[e],l=r.appCO0.metadata.components.lazyLoad.current.pipe(Object(Me.a)(function(t){return t.zSymbol===e&&t.co===s.co})).subscribe({next:function(){var e=Object($.i)(n.extras.options.panels,1/0),t=Object(G.c)(Array(13).fill(null).map(function(e){return[]}),13),s=t[0],u=t[1],l=t[2],c=t[3],d=t[4],f=t[6],v=t[7],m=t[8],y=t[9],g=t[10],b=t[11],_=t[12];Object.entries({delete1Bold:s,delete1:u,delete1User:l,delete1Pass:c,delete1Submit:d,delete1Error:t[5],delete1TOTP:f,delete2:v,delete2Bold:m,delete2Submit:y,delete2Cancel:g,delete3:b,delete3Bold:_}).forEach(function(t,n){var r=Object(G.c)(t,2),i=r[0],a=r[1];e.forEach(function(e,t){e.appAwsLogin.type.includes(i)&&a.push(e)})}),Object($.b)({closing:Object(G.d)(v,b),open:u,openBold:s,ref:i,type:"component"}),d.forEach(function(e,t){e.click=function(e){dc(function(){return _e.a.dev.deleteSignIn.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"signInUserPassTOTP",user:l[0].value||"",pass:c[0].value||"",totp:f[0].value||""},{withCredentials:!0,headers:{"Content-Type":"text/plain"}})).pipe(tt(r.aws.signInUserPassTOTP.catchError),pc(function(e){return"OK"!==e.message},!0)).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.user=l[0].value,r.appCO0.metadata.awsLogin.accessToken=e.access_token,"true"===_e.a.testingAcct.confirm&&(window.judima_environment.accessToken=e.access_token),Object($.b)({closing:u,open:v,openBold:m,ref:i,type:"component"}))}})}}),y.forEach(function(e,t){e.click=function(e){dc(function(){return _e.a.dev.deleteConfirm.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"deleteAcct",access_token:r.appCO0.metadata.awsLogin.accessToken},{withCredentials:!0,headers:{"Content-Type":"text/plain"}})).pipe(tt(r.aws.general.catchError),pc(function(e){return"OK"!==e.message},!0)).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.user="",r.appCO0.metadata.awsLogin.accessToken="","true"===_e.a.testingAcct.confirm&&(window.judima_environment.accessToken=""),Object($.b)({closing:v,open:b,openBold:_,ref:i,type:"component"}))}})}}),g.forEach(function(e,t){e.click=function(e){Object($.b)({closing:v,open:[],openBold:[],ref:i,type:"component"}),Object($.b)({closing:he,zChildren:a,open:h,openBold:p,ref:i})}})}});u.subscriptions.push(l)}),H.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").subscribe({next:function(e){Object($.b)({closing:h,zChildren:a,open:V,openBold:U,ref:i})},error:function(e){}});u.subscriptions.push(n)}),W.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").pipe(yc(function(){return dc(function(){return _e.a.dev.passSignIn.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"signInUserPassTOTP",user:a[q[0]].element.value,pass:a[J[0]].element.value,totp:a[Z[0]].element.value},{withCredentials:!0,headers:{"Content-Type":"text/plain"}})).pipe(tt(r.aws.signInUserPassTOTP.catchError))})).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.user=a[q[0]].element.value,r.appCO0.metadata.awsLogin.accessToken=e.access_token,"true"===_e.a.testingAcct.confirm&&(window.judima_environment.accessToken=e.access_token),Object($.b)({closing:V,zChildren:a,open:Q,openBold:X,ref:i}))},error:function(e){}});u.subscriptions.push(n)}),ne.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").pipe(yc(function(){var e=a[ee[0]],t=a[re[0]];return a[te[0]].element.value!==e.element.value?(t.innerText.item="New Password and Confirm Password does not match, Please Try Again",i.detectChanges(),Object(Y.a)({message:"Pass Mismatch"})):null===e.element.value.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*/)||e.element.value.length<12?(t.innerText.item="Password Must be a minimun of 12 characters,\n                                        At least 1 number, and 1 Uppercase and Lowercase letter",i.detectChanges(),Object(Y.a)({message:"Broken Rules"})):dc(function(){return _e.a.dev.passChange.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"changePass",old_pass:a[K[0]].element.value,new_pass:a[ee[0]].element.value,confirm_pass:a[te[0]].element.value,access_token:r.appCO0.metadata.awsLogin.accessToken})).pipe(tt(function(e){return"Unauthenticated"===e.error&&alert("Incorrect Username or Password or six-digit code Please Try Again"),Object(Y.a)([])}))})).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.user=a[q[0]].element.value,r.appCO0.metadata.awsLogin.accessToken=e.access_token,"true"===_e.a.testingAcct.confirm&&(window.judima_environment.accessToken=e.access_token),Object($.b)({closing:Q,zChildren:a,open:ae,openBold:oe,ref:i}))},error:function(e){}});u.subscriptions.push(n)}),l.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").subscribe({next:function(e){Object($.b)({closing:h,zChildren:a,open:P,openBold:N,ref:i})},error:function(e){}});u.subscriptions.push(n)}),R.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").pipe(yc(function(){return dc(function(){return _e.a.dev.totpSignIn.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"signInUserPassTOTP",user:a[I[0]].element.value,pass:a[D[0]].element.value,totp:a[z[0]].element.value},{withCredentials:!0,headers:{"Content-Type":"text/plain"}})).pipe(tt(r.aws.signInUserPassTOTP.catchError))})).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.user=a[I[0]].element.value,r.appCO0.metadata.awsLogin.accessToken=e.access_token,"true"===_e.a.testingAcct.confirm&&(window.judima_environment.accessToken=e.access_token),Object($.b)({closing:P,zChildren:a,open:F,openBold:B,ref:i}))},error:function(e){}});u.subscriptions.push(n)}),c.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").subscribe({next:function(e){Object($.b)({closing:h,zChildren:a,open:f,openBold:v,ref:i})},error:function(e){}});u.subscriptions.push(n)}),m.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").subscribe({next:function(e){var t={user:a[y[0]].element.value,pass:a[g[0]].element.value,confirmPass:a[b[0]].element.value};return null===t.user.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(a[_[0]].innerText.item="please provide an email",void i.detectChanges()):t.pass!==t.confirmPass?(a[_[0]].innerText.item="passwords do not match",void i.detectChanges()):null===t.pass.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*/)||t.pass.length<12?(a[_[0]].innerText.item="Create and confirm passord according to the instructions",void i.detectChanges()):(i.detectChanges(),void dc(function(){return _e.a.dev.createAccount.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"createAccount",user:t.user,pass:t.pass},{headers:{"Content-Type":"text/plain"}})).pipe(le(1),tt(r.aws.createAccount.catchError({create1PassError:_,ref:i,changePanel:$.b,create1:f,zChildren:a,mainLogin:h,mainLoginBold:p}))).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.user=t.user,r.appCO0.metadata.awsLogin.pass=t.pass,Object($.b)({closing:f,zChildren:a,open:M,openBold:C,ref:i}))},error:console.log}))},error:function(e){}});u.subscriptions.push(n)}),j.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").pipe(Object(_c.a)(function(){return dc(function(){return _e.a.dev.confCode.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"confirmAccount",conf_code:a[A[0]].element.value,user:r.appCO0.metadata.awsLogin.user,pass:r.appCO0.metadata.awsLogin.pass},{withCredentials:!0,headers:{"Content-Type":"text/plain"}})).pipe(tt(r.aws.confirmAccount.catchError))}),tt(r.aws.confirmAccount.catchError)).subscribe({next:function(e){"OK"===e.message&&(r.appCO0.metadata.awsLogin.accessToken=e.access_token,r.appCO0.metadata.awsLogin.accessTokenSub.next({received:"true"}),"true"===_e.a.testingAcct.confirm&&(window.judima_environment.accessToken=e.access_token),delete r.appCO0.metadata.awsLogin.pass,Object($.b)({closing:M,zChildren:a,open:x,openBold:w,ref:i}))},error:function(e){}});u.subscriptions.push(n)}),L.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").pipe(yc(function(){return o.post(_e.a.backend.url,{env:"resendCode",conf_code:a[A[0]].element.value,user:r.appCO0.metadata.awsLogin.user})}),tt(function(e){return Object(Y.a)(e)}),ie(console.log)).subscribe({next:function(e){alert("Sent")}});u.subscriptions.push(n)}),S.forEach(function(e,t){var n=r.appCO0.metadata.awsLogin.accessTokenSub.pipe(Object(_c.a)(function(e){return"true"===e.received?o.post(_e.a.backend.url,{env:"QR_init",user:r.appCO0.metadata.awsLogin.user,access_token:r.appCO0.metadata.awsLogin.accessToken}):Object(Y.a)("No Access Token")}),Object(_c.a)(function(t){return a[e].extras.options.qrdata="otpauth://totp/socialSpace:"+r.appCO0.metadata.awsLogin.user+"?secret="+t.QR_code+"&issuer=socialSpace",i.detectChanges(),"true"===_e.a.testingAcct.confirm&&(window.judima_environment.QRcode=t.QR_code),Object(Y.a)([])}),tt(r.aws.general.catchError)).subscribe();u.subscriptions.push(n)}),k.forEach(function(e,t){var n=Object(we.a)(a[e].element,"click").pipe(yc(function(){return dc(function(){return _e.a.dev.totpCreateAccount.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"QR_TOTP",totp:a[O[0]].element.value,access_token:r.appCO0.metadata.awsLogin.accessToken},{withCredentials:!0,headers:{"Content-Type":"text/plain"}})).pipe(tt(r.aws.signInUserPassTOTP.catchError),ie(console.log))}),Object(_c.a)(function(e){return"OK"===e.message&&Object($.b)({closing:x,zChildren:a,open:E,openBold:T,ref:i}),Object(Y.a)([])}),tt(function(e){return Object(Y.a)([])})).subscribe();u.subscriptions.push(n)}),t.push.apply(t,Object(G.d)(u.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appAwsLogin",""]],inputs:{awsLogin:"awsLogin"}}),e}();function wc(e,t){return"function"==typeof t?function(n){return n.pipe(wc(function(n,r){return Object(Qe.a)(e(n,r)).pipe(Object(mc.a)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Sc(e))}}var Sc=function(){function e(t){Object(o.a)(this,e),this.project=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new kc(e,this.project))}}]),e}(),kc=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return Object(s.a)(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new et.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(et.c)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||Object(i.a)(Object(a.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&Object(i.a)(Object(a.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(et.b),Oc=function(){function e(e,t,n,r){this.el=e,this.http=t,this.renderer2=n,this.ryber=r,this.appExtras={selector:"appSocialLogin",name:"socialLogin"},this.subscriptions=[]}return e.prototype.onClick=function(){},e.prototype.ngOnInit=function(){var e,t,n=this;this.extras=this[this.appExtras.name];var r=$.j.onInit;"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)&&(null===(t=this.extras)||void 0===t?void 0:t.type.includes("body"))&&r({myThis:this,featureFn:function(e){var t=e.subscriptions,r=n.ryber,i=n.ref,a=n.zChildren,o=n.http,s=n.extras;Object.entries(e.group).forEach(function(e,n){var u=Object(G.c)(e,2)[1],l=Array.from(u.types.mainLogin||[]),c=Array.from(u.types.mainLoginPod||[]),h=Array.from(u.types.mainLoginBold||[]),d=Array.from(u.types.FBManage||[]),p=Array.from(u.types.FB||[]),f=Array.from(u.types.FBBold||[]),v=Array.from(u.types.FBView1||[]);c.forEach(function(e,t){var n=Object(G.d)(l,[v]);n.forEach(function(e,t){a[e].css.transition="none",a[e].css.opacity=0,a[e].css["z-index"]=4}),i.detectChanges(),n.forEach(function(e,t){delete a[e].css.transition}),Object(Y.a)([]).pipe(le(1),me(200)).subscribe({next:function(e){Object($.b)({closing:[],zChildren:a,open:l,openBold:h,ref:i})},error:function(e){}})}),d.forEach(function(e,t){var n=r.appCO0.metadata.components.lazyLoad.current.pipe(Object(Me.a)(function(e){return e.zSymbol===v[0]&&e.co===s.co}),le(1),wc(function(t){return Object(we.a)(a[e].element,"click")})).subscribe({next:function(e){Object($.b)({closing:Object(G.d)(l,h),zChildren:a,open:p,openBold:f,ref:i})},error:console.log});u.subscriptions.push(n)}),v.forEach(function(e,t){var n=a[e],l=r.appCO0.metadata.components.lazyLoad.current.pipe(Object(Me.a)(function(t){return t.zSymbol===e&&t.co===s.co})).subscribe({next:function(e){var t=Object($.i)(n.extras.options.panels,1/0),a=Object(G.c)(Array(5).fill(null).map(function(e){return[]}),5),s=a[0],u=a[1],l=a[2],c=a[3],h=a[4];Object.entries({FB1:s,FB1Bold:u,FB1User:l,FB1Pass:c,FB1Submit:h}).forEach(function(e,n){var r=Object(G.c)(e,2),i=r[0],a=r[1];t.forEach(function(e,t){e.appSocialLogin.type.includes(i)&&a.push(e)})}),Object($.b)({closing:[],open:s,openBold:u,ref:i,type:"component"}),h.forEach(function(e,t){e.click=function(e){dc(function(){return _e.a.dev.socialLogin.addFBAcct.dummy},Object(Y.a)({message:"OK"}),o.post(_e.a.backend.url,{env:"addFBAcct",user:l[0].value||"",pass:c[0].value||"",access_token:r.appCO0.metadata.awsLogin.accessToken})).pipe(tt(r.socialLogin.addFBAcct.catchError),pc(function(e){return"OK"!==e.message},!0)).subscribe({next:function(e){},error:function(e){}})}})},error:function(e){}});u.subscriptions.push(l)}),t.push.apply(t,Object(G.d)(u.subscriptions))})}})},e.prototype.ngOnDestroy=function(){(0,$.j.onDestroy)({myThis:this})},e.\u0275fac=function(t){return new(t||e)(h.ub(h.i),h.ub(q.a),h.ub(h.x),h.ub(xe.a))},e.\u0275dir=h.pb({type:e,selectors:[["","appSocialLogin",""]],hostBindings:function(e,t){1&e&&h.Eb("click",function(){return t.onClick()})},inputs:{socialLogin:"socialLogin"}}),e}(),Ec=function(){function e(e,t,n){this.ryber=e,this.ref=t,this.el=n,this.dropdown={container:null,options:null},this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t,n=this;if(this.extras=this.latch,"true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)){var r=this,i=r.ryber,a=r.ref,o=r.zChildren,s=r.subscriptions,u=r.extras,l=Object($.r)({ryber:i}),c=this.co=this.extras.co,h=Object($.l)({type:["full"],fn:function(){if("true"===i.appCO0.metadata.navigation.full.navigated&&"true"===i[c].metadata.judima.init)return"return"},ryber:i});if("display"===u.type&&"target"===(null===(t=u.display)||void 0===t?void 0:t.type)){var d=[["top","height"],["left","width"]];s.push(i[c].metadata.zChildrenSubject.subscribe(function(e){o=n.zChildren=i[c].metadata.zChildren,n.templateMyElements=e.templateMyElements}),i[c].metadata.ngAfterViewInitFinished.pipe(De()).subscribe(function(e){var t,r,s,p,f;if("return"!==h.full||"true"!==o[u.zSymbol].extras.appLatch.display.init){o[u.zSymbol].extras.appLatch.display.init="true";var v=(null===(t=o[u.zSymbol].extras.appDeltaNode)||void 0===t?void 0:t.group)||(null===(r=u.deltaNode)||void 0===r?void 0:r.group)||null;i[c].metadata.deltaNode.groups[v]&&(u.deltaNode=u.deltaNode||{group:null,zSymbol:null,containerZSymbol:[]},i[c].metadata.latch.display.deltaNode[v]={count:null===(s=i[c].metadata.deltaNode.groups[v])||void 0===s?void 0:s.deltas.length,symbols:Object($.n)(null===(p=i[c].metadata.deltaNode.groups[v])||void 0===p?void 0:p.deltas).reverse()[0]||[]}),u.display.targets=[],Object.keys(o).forEach(function(e,t){var n,r,a,s,l,h,d,p,f;if(["target","part"].includes(null===(a=null===(r=null===(n=o[e].extras)||void 0===n?void 0:n.appLatch)||void 0===r?void 0:r.display)||void 0===a?void 0:a.type)){var m=i[c].metadata.latch.display,y=m.suffix,g=m.deltaNode,b=(null===(l=null===(s=o[e].extras.appLatch)||void 0===s?void 0:s.deltaNode)||void 0===l?void 0:l.zSymbol)||o[e].extras.appLatch.zSymbol;if(void 0===o[e].extras.appLatch.display.originalName&&(o[e].extras.appLatch.display.originalName=o[e].extras.appLatch.display.name),(null===(h=g[v])||void 0===h?void 0:h.symbols.includes(b))||null===v)try{o[e].extras.appLatch.display.name=o[e].extras.appLatch.display.originalName+y+g[v].count}catch(_){}["target"].includes(null===(p=null===(d=o[e].extras)||void 0===d?void 0:d.appLatch)||void 0===p?void 0:p.display.type)&&(null===(f=o[e].extras)||void 0===f||f.appLatch.zChildren.forEach(function(e,t){void 0===e.originalGroup&&(e.originalGroup=e.group),e.group=e.group.map(function(t,n){var r;if((null===(r=g[v])||void 0===r?void 0:r.symbols.includes(b))||null===v)try{return e.originalGroup[n]+y+g[v].count}catch(_){}return t})})),u.display.targets.push(e)}}),u.zChildren=u.zChildren.filter(function(e,t){var n;return!(null===(n=null==e?void 0:e.type)||void 0===n?void 0:n.includes("deltaNodeContainer"))||e.group[0]===e.originalGroup[0]||(u.deltaNode.containerZSymbol.forEach(function(e,t){o[e].extras.appLatch.zChildren[t].neededTargets=u.display.targets.filter(function(n,r){return o[e].extras.appLatch.zChildren[t].originalGroup.includes(o[n].extras.appLatch.display.originalName)})}),!1)}),u.display.targets=u.zChildren.map(function(e,t){var r,a,s,h,p,f=Object(G.a)({},e.css),v=Object(G.a)({},null==e?void 0:e.extras);p=e.neededTargets=(null===(r=null==e?void 0:e.type)||void 0===r?void 0:r.includes("deltaNodeContainer"))?u.display.targets.filter(function(t,n){return e.originalGroup.includes(o[t].extras.appLatch.display.originalName)}):u.display.targets.filter(function(t,n){return e.group.includes(o[t].extras.appLatch.display.name)}),n._displayDetermineDims({dims:d,neededTargets:p,zChildren:n.zChildren,css:f,logic:e.logic[i[c].metadata.section.mediaQuery]||e.logic.default});try{Object.values(v).forEach(function(e,t){e.co=c}),(null===(a=e.needed)||void 0===a?void 0:a.includes("appLatch"))&&(v.appLatch={}),v.appLatch.deltaNode=Object(G.a)(Object(G.a)({},v.appLatch.deltaNode),{group:null===(s=o[u.zSymbol].extras.appDeltaNode)||void 0===s?void 0:s.group,zSymbol:u.zSymbol})}catch(y){}var m=l({quantity:4,co:c,bool:e.bool,css:f,cssDefault:{},text:e.text||"",extras:Object(G.a)({judima:{formatIgnore:"true",topLevelZChild:"true"}},v),val:e.val+"  a_p_p_Display"});return(null===(h=null==e?void 0:e.type)||void 0===h?void 0:h.includes("deltaNodeContainer"))&&u.deltaNode.containerZSymbol.push(u.zSymbol),m}),a.detectChanges(),i[c].metadata.latch.updateZChild.next({}),null===(f=o[u.zSymbol].extras.appDeltaNode.options)||void 0===f||f.modify({zChild:n.zChildren,x:u.zSymbol,index:o[u.zSymbol].extras.appDeltaNode.options.index,hook:"latchDirective",co:i[c]})}}),i[c].metadata.ngAfterViewInitFinished.subscribe(function(e){Object.keys(o).includes(u.zSymbol)&&(u.zChildren.forEach(function(e,t){var r,a;(null===(r=null==e?void 0:e.type)||void 0===r?void 0:r.includes("deltaNodeContainer"))&&(e.neededTargets=e.neededTargets.filter(function(e,t){return void 0!==o[e]})),n._displayDetermineDims({zSymbol:u.display.targets[t],dims:d,neededTargets:e.neededTargets,zChildren:n.zChildren,css:(null===(a=o[u.display.targets[t]])||void 0===a?void 0:a.css)||{},logic:e.logic[i[c].metadata.section.mediaQuery]||e.logic.default})}),a.detectChanges())}),Object(we.a)(window,"scroll").subscribe(function(e){Object.keys(o).includes(u.zSymbol)&&(u.zChildren.forEach(function(e,t){var r;n._displayDetermineDims({zSymbol:u.display.targets[t],dims:d,neededTargets:e.neededTargets,zChildren:n.zChildren,css:(null===(r=o[u.display.targets[t]])||void 0===r?void 0:r.css)||{},logic:e.logic[i[c].metadata.section.mediaQuery]||e.logic.default})}),a.detectChanges())}))}}},e.prototype._displayDetermineDims=function(e){var t,n=e.zSymbol,r=e.dims,i=e.neededTargets,a=e.css,o=e.logic;t=this.zChildren;var s={vertical:null,horizontal:null,current:null},u=i.filter(function(e,n){return"false"===t[e].extras.judima.topLevelZChild});0===u.length&&r.forEach(function(e,n){s.current=Object($.k)({type:"identify",items:i,min:function(n){return{key:n,value:Object($.m)(t[n].css[e[0]])}},max:function(n){return{key:n,value:Object($.m)(t[n].css[e[0]])+Object($.m)(t[n].css[e[1]])}}}),a[e[0]]=s.current.min.value,a[e[1]]=s.current.max.value-s.current.min.value,s[Object.keys(s)[n]]=s.current}),Object.entries(o).forEach(function(e,r){var i,l=e[0],c=e[1];["metadata"].includes(l)||("number"==typeof c&&0===u.length?["width","height"].includes(l)?a[l]=(c*a[l]).toString()+"px":["top","left"].includes(l)&&(a[l]=(c+a[l]).toString()+"px"):"function"==typeof c&&(a[l]=c({zSymbol:n,css:a,delta:s,zChildren:t,metadata:null===(i=o.metadata)||void 0===i?void 0:i[l],minMaxDelta:$.k}).toString()+"px"))})},e.prototype.ngOnDestroy=function(){var e,t;if("true"===(null===(e=this.extras)||void 0===e?void 0:e.confirm)){var n=this,r=n.ryber,i=n.extras,a=n.subscriptions;Object($.l)({type:["full"],fn:function(){if("true"===r.appCO0.metadata.navigation.full.navigated)return"return"},ryber:r}),a.forEach(function(e,t){e.unsubscribe()}),delete this.subscriptions,"display"===i.type&&"target"===(null===(t=i.display)||void 0===t?void 0:t.type)&&Object($.r)({ryber:r})}},e.prototype.getRecursedDisplays=function(e){var t,n,r,i,a,o,s=this,u=e.x,l=e.zChildren;return void 0!==(null===(n=null===(t=l[u].extras.appLatch)||void 0===t?void 0:t.display)||void 0===n?void 0:n.targets)?Object($.i)([u,null===(i=null===(r=l[u].extras.appLatch)||void 0===r?void 0:r.display)||void 0===i?void 0:i.targets.map(function(e,t){return s.getRecursedDisplays({x:e,zChildren:l})})],1/0):void 0===(null===(o=null===(a=l[u].extras.appLatch)||void 0===a?void 0:a.display)||void 0===o?void 0:o.targets)?[u]:void 0},e.\u0275fac=function(t){return new(t||e)(h.ub(xe.a),h.ub(h.f),h.ub(h.i))},e.\u0275dir=h.pb({type:e,selectors:[["","appLatch",""]],inputs:{latch:"latch"}}),e}(),Tc=n("93si"),Mc=["myVal"];function Cc(e,t){if(1&e&&h.vb(0,"div",5,6),2&e){var n=h.Gb().index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[0][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[0][n],"appNest"))("webVitals",i.ryber.appAvailble(r.extras[0][n],"appWebVitals"))("vanillaTilt",i.ryber.appAvailble(r.extras[0][n],"appVanillaTilt"))("deltaNode",i.ryber.appAvailble(r.extras[0][n],"appDeltaNode"))("section",i.ryber.appAvailble(r.extras[0][n],"appSection"))("navigation",i.ryber.appAvailble(r.extras[0][n],"appNavigation"))("visible",i.ryber.appAvailble(r.extras[0][n],"appVisible"))("components",i.ryber.appAvailble(r.extras[0][n],"appComponents"))("attribute",i.ryber.appAvailble(r.extras[0][n],"appAttribute"))("three",i.ryber.appAvailble(r.extras[0][n],"appThree"))("awsLogin",i.ryber.appAvailble(r.extras[0][n],"appAwsLogin"))("socialLogin",i.ryber.appAvailble(r.extras[0][n],"appSocialLogin"))("ngStyle",r.ngCss[0][n])}}function Ac(e,t){if(1&e&&h.vb(0,"img",8,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[0][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[0][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[0][n],"appDeltaNode"))("ngStyle",r.ngCss[0][n])}}function jc(e,t){if(1&e&&h.Ub(0,Ac,2,6,"img",7),2&e){var n=h.Gb().index,r=h.Ob(5),i=h.Gb().$implicit;h.Jb("ngIf","imgBoard"===i.bool[0][n])("ngIfElse",r)}}function Lc(e,t){if(1&e&&h.vb(0,"video",8,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[0][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[0][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[0][n],"appDeltaNode"))("ngStyle",r.ngCss[0][n])}}function Pc(e,t){if(1&e&&h.Ub(0,Lc,2,6,"video",7),2&e){var n=h.Gb().index,r=h.Ob(7),i=h.Gb().$implicit;h.Jb("ngIf","videoBoard"===i.bool[0][n])("ngIfElse",r)}}function Nc(e,t){if(1&e&&h.vb(0,"canvas",10,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[0][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[0][n],"appNest"))("webVitals",i.ryber.appAvailble(r.extras[0][n],"appWebVitals"))("vanillaTilt",i.ryber.appAvailble(r.extras[0][n],"appVanillaTilt"))("deltaNode",i.ryber.appAvailble(r.extras[0][n],"appDeltaNode"))("section",i.ryber.appAvailble(r.extras[0][n],"appSection"))("navigation",i.ryber.appAvailble(r.extras[0][n],"appNavigation"))("visible",i.ryber.appAvailble(r.extras[0][n],"appVisible"))("components",i.ryber.appAvailble(r.extras[0][n],"appComponents"))("attribute",i.ryber.appAvailble(r.extras[0][n],"appAttribute"))("ngStyle",r.ngCss[0][n])}}function Rc(e,t){if(1&e&&h.Ub(0,Nc,2,13,"canvas",9),2&e){var n=h.Gb().index,r=h.Gb().$implicit;h.Jb("ngIf","canvasBoard"===r.bool[0][n])}}function Ic(e,t){if(1&e&&(h.xb(0),h.Ub(1,Cc,2,16,"div",1),h.Ub(2,jc,1,2,"ng-template",null,2,h.Vb),h.Ub(4,Pc,1,2,"ng-template",null,3,h.Vb),h.Ub(6,Rc,1,1,"ng-template",null,4,h.Vb),h.wb()),2&e){var n=t.index,r=h.Ob(3),i=h.Gb().$implicit;h.mb(1),h.Jb("ngIf","divBoard"===i.bool[0][n])("ngIfElse",r)}}function Dc(e,t){}function zc(e,t){1&e&&h.Ub(0,Dc,0,0,"ng-template")}function Bc(e,t){if(1&e&&h.vb(0,"h1",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function Fc(e,t){if(1&e&&h.Ub(0,Bc,2,8,"h1",38),2&e){var n=h.Gb().index,r=h.Ob(5),i=h.Gb().$implicit;h.Jb("ngIf","h1"===i.bool[1][n])("ngIfElse",r)}}function Hc(e,t){if(1&e&&h.vb(0,"h2",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function Vc(e,t){if(1&e&&h.Ub(0,Hc,2,8,"h2",38),2&e){var n=h.Gb().index,r=h.Ob(7),i=h.Gb().$implicit;h.Jb("ngIf","h2"===i.bool[1][n])("ngIfElse",r)}}function Uc(e,t){if(1&e&&h.vb(0,"h3",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function Gc(e,t){if(1&e&&h.Ub(0,Uc,2,8,"h3",38),2&e){var n=h.Gb().index,r=h.Ob(9),i=h.Gb().$implicit;h.Jb("ngIf","h3"===i.bool[1][n])("ngIfElse",r)}}function Wc(e,t){if(1&e&&h.vb(0,"h4",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function qc(e,t){if(1&e&&h.Ub(0,Wc,2,8,"h4",38),2&e){var n=h.Gb().index,r=h.Ob(11),i=h.Gb().$implicit;h.Jb("ngIf","h4"===i.bool[1][n])("ngIfElse",r)}}function Jc(e,t){if(1&e&&h.vb(0,"h5",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function Zc(e,t){if(1&e&&h.Ub(0,Jc,2,8,"h5",38),2&e){var n=h.Gb().index,r=h.Ob(13),i=h.Gb().$implicit;h.Jb("ngIf","h5"===i.bool[1][n])("ngIfElse",r)}}function Xc(e,t){if(1&e&&h.vb(0,"h6",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function Yc(e,t){if(1&e&&h.Ub(0,Xc,2,8,"h6",38),2&e){var n=h.Gb().index,r=h.Ob(15),i=h.Gb().$implicit;h.Jb("ngIf","h6"===i.bool[1][n])("ngIfElse",r)}}function Qc(e,t){if(1&e&&h.vb(0,"a",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function Kc(e,t){if(1&e&&h.Ub(0,Qc,2,8,"a",38),2&e){var n=h.Gb().index,r=h.Ob(17),i=h.Gb().$implicit;h.Jb("ngIf","a"===i.bool[1][n])("ngIfElse",r)}}function $c(e,t){if(1&e&&h.vb(0,"p",41,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("navigation",i.ryber.appAvailble(r.extras[1][n],"appNavigation"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function eh(e,t){if(1&e&&h.Ub(0,$c,2,10,"p",40),2&e){var n=h.Gb().index,r=h.Ob(19),i=h.Gb().$implicit;h.Jb("ngIf","p"===i.bool[1][n])("ngIfElse",r)}}function th(e,t){if(1&e&&h.vb(0,"code",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function nh(e,t){if(1&e&&h.Ub(0,th,2,8,"code",38),2&e){var n=h.Gb().index,r=h.Ob(21),i=h.Gb().$implicit;h.Jb("ngIf","code"===i.bool[1][n])("ngIfElse",r)}}function rh(e,t){if(1&e&&h.vb(0,"span",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function ih(e,t){if(1&e&&h.Ub(0,rh,2,8,"span",38),2&e){var n=h.Gb().index,r=h.Ob(23),i=h.Gb().$implicit;h.Jb("ngIf","span"===i.bool[1][n])("ngIfElse",r)}}function ah(e,t){if(1&e&&h.vb(0,"strong",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function oh(e,t){if(1&e&&h.Ub(0,ah,2,8,"strong",38),2&e){var n=h.Gb().index,r=h.Ob(25),i=h.Gb().$implicit;h.Jb("ngIf","strong"===i.bool[1][n])("ngIfElse",r)}}function sh(e,t){if(1&e&&h.vb(0,"input",43,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("ngStyle",r.ngCss[1][n])}}function uh(e,t){if(1&e&&h.Ub(0,sh,2,7,"input",42),2&e){var n=h.Gb().index,r=h.Ob(27),i=h.Gb().$implicit;h.Jb("ngIf","i"===i.bool[1][n])("ngIfElse",r)}}function lh(e,t){if(1&e&&h.vb(0,"textarea",45,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function ch(e,t){if(1&e&&h.Ub(0,lh,2,7,"textarea",44),2&e){var n=h.Gb().index,r=h.Ob(29),i=h.Gb().$implicit;h.Jb("ngIf","ta"===i.bool[1][n])("ngIfElse",r)}}function hh(e,t){if(1&e&&h.vb(0,"canvas",45,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function dh(e,t){if(1&e&&h.Ub(0,hh,2,7,"canvas",44),2&e){var n=h.Gb().index,r=h.Ob(31),i=h.Gb().$implicit;h.Jb("ngIf","c"===i.bool[1][n])("ngIfElse",r)}}function ph(e,t){if(1&e&&h.vb(0,"label",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function fh(e,t){if(1&e&&h.Ub(0,ph,2,8,"label",38),2&e){var n=h.Gb().index,r=h.Ob(33),i=h.Gb().$implicit;h.Jb("ngIf","l"===i.bool[1][n])("ngIfElse",r)}}function vh(e,t){if(1&e&&h.vb(0,"ul",39,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function mh(e,t){if(1&e&&h.Ub(0,vh,2,8,"ul",38),2&e){var n=h.Gb().index,r=h.Ob(35),i=h.Gb().$implicit;h.Jb("ngIf","ul"===i.bool[1][n])("ngIfElse",r)}}function yh(e,t){if(1&e&&h.vb(0,"form",47,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))}}function gh(e,t){if(1&e&&h.Ub(0,yh,2,8,"form",46),2&e){var n=h.Gb().index,r=h.Ob(37),i=h.Gb().$implicit;h.Jb("ngIf","f"===i.bool[1][n])("ngIfElse",r)}}function bh(e,t){if(1&e&&h.vb(0,"div",49,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",null==r.text[1][n]?null:r.text[1][n].item,h.Qb)}}function _h(e,t){if(1&e&&h.Ub(0,bh,2,8,"div",48),2&e){var n=h.Gb().index,r=h.Ob(39),i=h.Gb().$implicit;h.Jb("ngIf","div"===i.bool[1][n])("ngIfElse",r)}}function xh(e,t){if(1&e&&h.vb(0,"img",45,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function wh(e,t){if(1&e&&h.Ub(0,xh,2,7,"img",44),2&e){var n=h.Gb().index,r=h.Ob(41),i=h.Gb().$implicit;h.Jb("ngIf","img"===i.bool[1][n])("ngIfElse",r)}}function Sh(e,t){if(1&e&&h.vb(0,"button",49,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])("innerHTML",r.text[1][n].item,h.Qb)}}function kh(e,t){if(1&e&&h.Ub(0,Sh,2,8,"button",48),2&e){var n=h.Gb().index,r=h.Ob(43),i=h.Gb().$implicit;h.Jb("ngIf","b"===i.bool[1][n])("ngIfElse",r)}}function Oh(e,t){if(1&e&&h.vb(0,"embed",45,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function Eh(e,t){if(1&e&&h.Ub(0,Oh,2,7,"embed",44),2&e){var n=h.Gb().index,r=h.Ob(45),i=h.Gb().$implicit;h.Jb("ngIf","embed"===i.bool[1][n])("ngIfElse",r)}}function Th(e,t){if(1&e&&h.vb(0,"video",51,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function Mh(e,t){if(1&e&&h.Ub(0,Th,2,7,"video",50),2&e){var n=h.Gb().index,r=h.Ob(47),i=h.Gb().$implicit;h.Jb("ngIf","video"===i.bool[1][n])("ngIfElse",r)}}function Ch(e,t){if(1&e&&h.vb(0,"audio",45,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function Ah(e,t){if(1&e&&h.Ub(0,Ch,2,7,"audio",44),2&e){var n=h.Gb().index,r=h.Ob(49),i=h.Gb().$implicit;h.Jb("ngIf","audio"===i.bool[1][n])("ngIfElse",r)}}function jh(e,t){if(1&e&&h.vb(0,"i",45,6),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("nest",i.ryber.appAvailble(r.extras[1][n],"appNest"))("deltaNode",i.ryber.appAvailble(r.extras[1][n],"appDeltaNode"))("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch"))("ngStyle",r.ngCss[1][n])}}function Lh(e,t){if(1&e&&h.Ub(0,jh,2,7,"i",44),2&e){var n=h.Gb().index,r=h.Gb().$implicit,i=h.Gb();h.Jb("ngIf","icon"===r.bool[1][n])("ngIfElse",i.elseBlock27)}}function Ph(e,t){if(1&e&&h.vb(0,"app-components",55),2&e){var n=h.Gb(3).index,r=h.Gb().$implicit;h.nb(null==r.extras[1][n].options||null==r.extras[1][n].options.component?null:r.extras[1][n].options.component.class),h.Jb("options",r.extras[1][n].options)("ngStyle",null==r.extras[1][n].options||null==r.extras[1][n].options.component?null:r.extras[1][n].options.component.style)}}function Nh(e,t){if(1&e&&(h.zb(0,"div",53,6),h.Ub(2,Ph,1,5,"app-components",54),h.yb()),2&e){var n=h.Gb(2).index,r=h.Gb().$implicit,i=h.Gb();h.nb(r.val[1][n]),h.Jb("ngStyle",r.ngCss[1][n])("latch",i.ryber.appAvailble(r.extras[1][n],"appLatch")),h.mb(2),h.Jb("ngIf","true"!==(null==r.extras[1][n].options?null:r.extras[1][n].options.lazyLoad))}}function Rh(e,t){if(1&e&&h.Ub(0,Nh,3,6,"div",52),2&e){var n=h.Gb().index,r=h.Gb().$implicit;h.Jb("ngIf","app-components"===r.bool[1][n])}}function Ih(e,t){if(1&e&&(h.xb(0),h.Ub(1,zc,1,0,void 0,11),h.Ub(2,Fc,1,2,"ng-template",null,12,h.Vb),h.Ub(4,Vc,1,2,"ng-template",null,13,h.Vb),h.Ub(6,Gc,1,2,"ng-template",null,14,h.Vb),h.Ub(8,qc,1,2,"ng-template",null,15,h.Vb),h.Ub(10,Zc,1,2,"ng-template",null,16,h.Vb),h.Ub(12,Yc,1,2,"ng-template",null,17,h.Vb),h.Ub(14,Kc,1,2,"ng-template",null,18,h.Vb),h.Ub(16,eh,1,2,"ng-template",null,19,h.Vb),h.Ub(18,nh,1,2,"ng-template",null,20,h.Vb),h.Ub(20,ih,1,2,"ng-template",null,21,h.Vb),h.Ub(22,oh,1,2,"ng-template",null,22,h.Vb),h.Ub(24,uh,1,2,"ng-template",null,23,h.Vb),h.Ub(26,ch,1,2,"ng-template",null,24,h.Vb),h.Ub(28,dh,1,2,"ng-template",null,25,h.Vb),h.Ub(30,fh,1,2,"ng-template",null,26,h.Vb),h.Ub(32,mh,1,2,"ng-template",null,27,h.Vb),h.Ub(34,gh,1,2,"ng-template",null,28,h.Vb),h.Ub(36,_h,1,2,"ng-template",null,29,h.Vb),h.Ub(38,wh,1,2,"ng-template",null,30,h.Vb),h.Ub(40,kh,1,2,"ng-template",null,31,h.Vb),h.Ub(42,Eh,1,2,"ng-template",null,32,h.Vb),h.Ub(44,Mh,1,2,"ng-template",null,33,h.Vb),h.Ub(46,Ah,1,2,"ng-template",null,34,h.Vb),h.Ub(48,Lh,1,2,"ng-template",null,35,h.Vb),h.Ub(50,Rh,1,1,"ng-template",36,37,h.Vb),h.wb()),2&e){var n=t.$implicit,r=t.index,i=h.Ob(3),a=h.Gb().$implicit,o=h.Gb();h.mb(1),h.Jb("ngIf",null===n)("ngIfElse",i),h.mb(49),h.Jb("ngIf","app-components"===a.bool[1][r])("ngIfElse",o.elseBlock30)}}function Dh(e,t){if(1&e&&(h.xb(0),h.Ub(1,Ic,8,2,"ng-container",0),h.Ub(2,Ih,52,4,"ng-container",0),h.wb()),2&e){var n=t.$implicit;h.mb(1),h.Jb("ngForOf",n.quantity[0]),h.mb(1),h.Jb("ngForOf",n.quantity[1])}}var zh=function(){function e(e,t,n){this.ryber=e,this.ref=t,this.renderer=n,this.foo={},this.typesES="formES",this.subscriptions=[]}return e.prototype.ngOnInit=function(){_e.a.component.form.lifecycleHooks&&console.log(this.appTV+" ngOnInit fires on mount")},e.prototype.ngAfterViewInit=function(){var e=this,t=this,n=t.ryber,r=t.appTV,i=t.ref,a=t.templateMyElements,o=t.subscriptions;_e.a.component.form.lifecycleHooks&&console.log(r+" ngAfterViewInit fires on mount"),n.formCO.forEach(function(t,s){var u,l,c,h,d,p;if(t===r){var f=e.zChildInit(),v=e._topLevelZChildInit(),m=e._formatZChildInit(),y=e.staticZKeysGen(f);(null===(l=null===(u=_e.a.component.form)||void 0===u?void 0:u.drag)||void 0===l?void 0:l.includes(s))&&e.toPlace(f),(null===(h=null===(c=_e.a.component.form)||void 0===c?void 0:c.highlights)||void 0===h?void 0:h.includes(s))&&e.highlights(f,2),e.directivesSendData({directivesZChild:f,templateMyElements:a,ref:i,options:{type:["latch"]}});var g,b,_,x,w,S,k=Object(G.a)(Object(G.a)({},n.appCO0.metadata.ryber.sectionDefault),null===(p=null===(d=f["&#8353"])||void 0===d?void 0:d.extras)||void 0===p?void 0:p.section);Object.keys(k).forEach(function(e,t){k[e]=+k[e]}),k.area=k.left+k.width,k.prevLeft=k.left,"return"===Object($.l)({type:["full"],fn:function(){if("true"===n.appCO0.metadata.navigation.full.navigated&&"true"===n[r].metadata.judima.init)return"return"},ryber:n}).full?(g=n[r].metadata.judima.desktop.stack.keep,x=n[r].metadata.judima.desktop.xContain.align.filter(function(e,t){return 0!==e.length})):(n[r].metadata.judima.init="true",n[r].metadata.order=n[r].metadata.order.filter(function(e,t){var n,r,i;return!("true"===(null===(i=null===(r=null===(n=f[e])||void 0===n?void 0:n.extras)||void 0===r?void 0:r.judima)||void 0===i?void 0:i.formatIgnore))}),n[r].metadata.order.forEach(function(e,t){var n=f[e].element.getBoundingClientRect();f[e].cssDefault.height=n.height.toString()+"px",f[e].cssDefault.width=n.width.toString()+"px",f[e].cssDefault.left=n.left.toString()+"px",f[e].cssDefault.top=n.top.toString()+"px",i.detectChanges()}),g=[],b=[],_=Object.keys(v).slice(1,2)[0],x=[],w=[],S=0,n[r].metadata.order.forEach(function(t,n){var r,i,a=f[t].extras.component;if(Object.keys(a).forEach(function(e,t){isNaN(a[e])||(a[e]=+a[e])}),f[t].css.height=void 0!==a.height?a.height.toString()+"px":f[t].cssDefault.height,f[t].css.width=void 0!==a.width?a.width.toString()+"px":f[t].cssDefault.width,f[t].css.left=void 0!==a.left?a.left.toString()+"px":f[t].cssDefault.left,f[t].css.top=void 0!==a.top?a.top.toString()+"px":f[t].cssDefault.top,void 0!==(null===(i=null===(r=f[t])||void 0===r?void 0:r.css)||void 0===i?void 0:i.width)&&Object($.m)(f[t].css.width)>k.width&&(f[t].css.width=k.width.toString()+"px"),S+=void 0===a.split?Object($.m)(f[t].css.width):a.split/k.split*k.width,f[t].css.width=a.split===k.split?void 0===a.split?f[t].css.width:(a.split/k.split*k.width).toString()+"px":void 0===a.split?f[t].css.width:(a.split/k.split*k.width-k.gap).toString()+"px",b.push([t,_]),w.push(t),["date","ta","i"].includes(f[t].bool)||void 0!==a.height||(f[t].css.height=null,e.ref.detectChanges(),f[t].css.height=f[t].element.getBoundingClientRect().height.toString()+"px",e.ref.detectChanges()),S>k.width&&n!==Object.keys(v).slice(2).length-1||"true"===a.next&&n!==Object.keys(v).slice(2).length-1){S=Object($.m)(v[t].css.width);var o=b.pop();g.push.apply(g,Object(G.d)(b)),_=b.reduce(function(e,t,n){return Object($.m)(v[t[0]].css.height)>e[1]&&(e=[t[0],Object($.m)(v[t[0]].css.height)]),e},["",0])[0],b=[[o[0],_]];var s=w.pop();x.push(w),w=[s]}else S<k.width&&n===Object.keys(v).slice(2).length-1&&"true"!==a.next?(S=Object($.m)(v[t].css.width),g.push.apply(g,Object(G.d)(b)),_=b.reduce(function(e,t,n){return Object($.m)(v[t[0]].css.height)>e[1]?[t[0],Object($.m)(v[t[0]].css.height)]:e},["",0])[0],b=[],x.push(w),w=[]):n!==Object.keys(v).slice(2).length-1&&"true"!==a.next||(S=Object($.m)(v[t].css.width),o=b.pop(),g.push.apply(g,Object(G.d)(b)),_=b.reduce(function(e,t,n){return Object($.m)(v[t[0]].css.height)>e[1]?[t[0],Object($.m)(v[t[0]].css.height)]:e},["",0])[0],b=[[o[0],_]],g.push.apply(g,Object(G.d)(b)),s=w.pop(),x.push(w),x.push(w=[s]))}),x.forEach(function(e,t){var n=(k.width-e.reduce(function(e,t,n){return e+Object($.m)(f[t].css.width)},0))/(e.length-1),r=e.reduce(function(e,t,n){var r,i,a,o,s,u;return e+(Object($.m)(f[t].css.width)+(void 0===(null===(i=null===(r=f[t].extras)||void 0===r?void 0:r.component)||void 0===i?void 0:i.split)||6===(null===(o=null===(a=f[t].extras)||void 0===a?void 0:a.component)||void 0===o?void 0:o.split)?0:(null===(u=null===(s=f[t].extras)||void 0===s?void 0:s.component)||void 0===u?void 0:u.gap)||k.gap))},0);e.forEach(function(t,i){var a,o,s,u;void 0===(null===(o=null===(a=f[t].extras)||void 0===a?void 0:a.component)||void 0===o?void 0:o.left)&&(f[t].css.left=0===i?k.left+"px":(Object($.m)(f[e[i-1]].css.left)+Object($.m)(f[e[i-1]].css.width)+(r>=k.width?n:(null===(u=null===(s=f[t].extras)||void 0===s?void 0:s.component)||void 0===u?void 0:u.gap)||k.gap)).toString()+"px")})}),i.detectChanges(),y.forEach(function(e,t){"true"!==f[e].extras.judima.formatIgnore&&(["img"].includes(f[e].bool)||(f[e].css.height=f[e].element.getBoundingClientRect().height.toString()+"px"),f[e].css.width=f[e].element.getBoundingClientRect().width.toString()+"px",f[e].cssDefault.height=f[e].css.height,f[e].cssDefault.width=f[e].css.width,f[e].cssDefault.left=f[e].css.left,f[e].cssDefault.top=f[e].css.top)}),i.detectChanges(),n[r].metadata.judima.desktop.stack.keep=g,n[r].metadata.judima.desktop.xContain.align=x);var O=n[r.valueOf()].metadata.order,E=[];O.forEach(function(e,t){void 0!==f[e].extras.component.top&&(E[t+1]=f[e].extras.component.top),void 0===E[t+1]&&(E[t+1]=k.stack)});var T=e.ryber[e.appTV].metadata.latch.updateZChild.subscribe(function(t){var a=e.ryber[e.appTV];switch(Object($.q)(Object(G.a)({co:a},t)),f=e.zChildInit(),v=e._topLevelZChildInit(),e.ryber[e.appTV].metadata.latch.zChild=e._latchZChildInit(),e.directivesSendData({directivesZChild:f,options:{type:["latch"]},ref:i,templateMyElements:e.templateMyElements}),Object($.h)({event:"resize",element:window}),n[r].metadata.section.mediaQuery){case"desktop":e.positionBoard({zChild:v,section:k,mediaQuery:e.desktopSection});break;case"mobile":e.positionBoard({zChild:v,section:k,mediaQuery:e.mobileSection})}}),M=n[r].metadata.deltaNode.updateZChild.subscribe(function(t){var a,o,u=n[r];switch(Object($.q)({co:u,exclude:["cssDefault"]}),e.ref.detectChanges(),f=e.zChildInit(),v=e._topLevelZChildInit(),e.ryber[e.appTV].metadata.latch.zChild=e._latchZChildInit(),(null===(o=null===(a=_e.a.component.form)||void 0===a?void 0:a.drag)||void 0===o?void 0:o.includes(s))&&e.toPlace(f),e.directivesSendData({directivesZChild:f,options:{type:["deltaNode"]},ref:i,templateMyElements:e.templateMyElements}),e._deltaNodeBootstrap({zChild:f}),e.ryber[e.appTV].metadata.deltaNode.component.confirm="true",Object($.h)({event:"resize",element:window}),n[r].metadata.section.mediaQuery){case"desktop":e.positionBoard({zChild:v,section:k,mediaQuery:e.desktopSection});break;case"mobile":e.positionBoard({zChild:v,section:k,mediaQuery:e.mobileSection})}}),C=Object(G.d)(["&#8353"],O),A=function(){var t;if("SPA"===n.appCO0.metadata.navigation.type)return(null===(t=n[n.formCO[s-1]])||void 0===t?void 0:t.metadata[e.appTV].movingSubject)||Object(we.a)(window,"resize");if("full"===n.appCO0.metadata.navigation.type){var i=Array.from(n.appViewNavigation.routes[n.appCurrentNav]);return i[0]===r?Object(we.a)(window,"resize"):n[i[i.indexOf(r)-1]].metadata[e.appTV].movingSubject}}(),j=Object(Se.a)([A,n.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuerySubject]).subscribe(function(t){var a,o,u,l,c,h,d,p,y,b,_=t[0];if(_ instanceof Event&&(_={boardHeight:"0px",boardTop:"0px"}),Object.keys(m).length!==Object.keys(f).length-2){var w=function(t){var i=e.ryber[e.appTV].metadata.deltaNode,a=i.current,o=i.groups,s=i.component;if("false"===s.confirm)return t;e.ryber[e.appTV].metadata.deltaNode.component.confirm="false";var u=o[null==a?void 0:a.group],l=t.finalKeep,c=t.finalSpacing,h=t.finalAlign,d=$.e.determineKeepGroups,p=$.e.inspectKeep,v=$.e.logicKeep;return null!==a&&"add prepare"===u.hooks.directive?(u.hooks.component.has("remove prepare")&&u.hooks.component.clear(),u.hooks.component.add("add prepare"),s.keep={groups:[{items:[],index:[],oneExists:"false"}]},p({zSymbols:"target",component:s,finalKeep:l}),d({component:s}),v({hook:u.hooks.component,zSymbolsMap:"deltasMap",component:s,finalKeep:l,zChild:f}),s.keep.groups.reverse().forEach(function(e,t){var n=e.index[0]||C.length;C.splice.apply(C,Object(G.d)([n+1,0],e.newItems.map(function(e,t){return e[0]}))),n=e.index[0]||l.length,l.splice.apply(l,Object(G.d)([n,0],e.newItems))}),h.map(function(e,t){return e.map(function(e,t){return s.deltasMap[e]}).filter(function(e,t){return void 0!==e})}).filter(function(e,t){return 0!==e.length}).forEach(function(e,t){h.push(e)}),s.deltas.forEach(function(t,i){var o,s,u,l=Object(G.d)([[]],e.ryber[e.appTV].metadata.deltaNode.groups[a.group].deltas).reduce(function(e,n,r){return n.includes(t)?r:e})-1;(null===(s=null===(o=f[t].extras)||void 0===o?void 0:o.appLatch)||void 0===s?void 0:s.display)&&(f[t].extras.appLatch.display.init="false"),null===(u=f[t].extras.appDeltaNode.options)||void 0===u||u.modify({zChild:f,x:t,index:l,hook:"templateComponent",groupIndex:i,co:n[r]}),void 0!==f[t].extras.appDeltaNode.options&&(f[t].extras.appDeltaNode.options.index=l)}),h=h.map(function(e,t){var n=e;return e.forEach(function(e,r){"false"===f[e].extras.component.next&&(h[t-1].push(e),n.splice(r,1),f[e].extras.component.next="keepFalse")}),n}).filter(function(e,t){return 0!==e.length}),l=l.map(function(e,t){var n=h.reduce(function(t,n,r){return n.includes(e[0])?r:t},-1),r=h[n].filter(function(t,n){return t!==e[0]&&"keepFalse"!==f[t].extras.component.next}),i=l.filter(function(e,t){return e[0]===r[0]})[0];return e[1]=(null==i?void 0:i[1])||e[1],e}),u.hooks.component.delete("add prepare"),u.hooks.directive="add done",u.hooks.component.add("add desktop done"),u.hooks.component.add("add mobile done")):null!==a&&"remove prepare"===u.hooks.directive&&(u.hooks.component.has("add prepare")&&u.hooks.component.clear(),u.hooks.component.add("remove prepare"),s.keep={groups:[{items:[],index:[]}]},p({zSymbols:"deltas",component:s,finalKeep:l}),d({component:s}),v({hook:u.hooks.component,zSymbolsMap:"targetMap",component:s,finalKeep:l}),s.keep.groups.reverse().forEach(function(e,t){var n=e.index[0]+1||C.length;C.splice(n-e.items.length,e.items.length),l.splice((n=e.index[0]||l.length)-e.items.length,e.items.length)}),h=h.filter(function(e,t){return e.map(function(e,t){return s.targetMap[e]}).includes(void 0)}),u.hooks.component.delete("remove prepare"),u.hooks.directive="remove done",u.hooks.component.add("remove desktop done"),u.hooks.component.add("remove mobile done")),x=h,{finalKeep:l,finalSpacing:c,finalAlign:h}}({finalKeep:g,finalSpacing:E,finalAlign:x}),S=w.finalKeep,O=w.finalAlign;"stack"===n.appCO0.metadata.ryber.sectionDefault.app.type?Object($.m)(getComputedStyle(f["&#8353"].element).width)>k.width?(n[r].metadata.section.mediaQuery="desktop",e.desktopMediaQuery({zChild:f,keep:g,finalKeep:S,finalZChildKeys:C,finalAlign:O,section:k,ref:i,align:x,topLevelZChild:v,moving:_,ryber:n,appTV:r})):Object($.m)(getComputedStyle(f["&#8353"].element).width)>0&&(n[r].metadata.section.mediaQuery="mobile",e.mobileMediaQuery({finalZChildKeys:C,zChild:f,section:k,topLevelZChild:v,moving:_,ref:i,ryber:n,appTV:r})):"custom"===n.appCO0.metadata.ryber.sectionDefault.app.type&&("mobile"!==n.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuery?(n[r].metadata.section.mediaQuery="desktop",e.desktopMediaQuery({zChild:f,keep:g,finalKeep:S,finalZChildKeys:C,finalAlign:O,section:k,ref:i,align:x,topLevelZChild:v,moving:_,ryber:n,appTV:r})):"desktop"!==n.appCO0.metadata.ryber.sectionDefault.app.width.mediaQuery&&(n[r].metadata.section.mediaQuery="mobile",e.mobileMediaQuery({finalZChildKeys:C,zChild:f,section:k,topLevelZChild:v,moving:_,ref:i,ryber:n,appTV:r,sectionType:"custom"})))}if(s===(null===(o=null===(a=_e.a.component)||void 0===a?void 0:a[r.split("C")[0].valueOf()])||void 0===o?void 0:o.panelView)&&e.currentScroll(f),"SPA"===n.appCO0.metadata.navigation.type)null===(h=null===(l=null===(u=n[r].metadata)||void 0===u?void 0:u[e.ryber.formCO[s+1]])||void 0===l?void 0:(c=l.movingSubject).next)||void 0===h||h.call(c,{boardTop:f["&#8353"].css.top,boardHeight:f["&#8353"].css.height});else if("full"===n.appCO0.metadata.navigation.type){var T=Array.from(n.appViewNavigation.routes[n.appCurrentNav]);null===(b=null===(p=null===(d=n[r].metadata)||void 0===d?void 0:d[T[T.indexOf(r)+1]])||void 0===p?void 0:(y=p.movingSubject).next)||void 0===b||b.call(y,{boardTop:f["&#8353"].css.top,boardHeight:f["&#8353"].css.height})}});o.push(T,M,j),Object.entries({zChild:f,topLevelZChild:v}).forEach(function(e,t){var i=e[0],a=e[1];_e.a.component.form[i].includes(s)&&(console.log(i+" for "+r,a),console.log(n[r].metadata))})}}),n.appViewComplete.next(void("full"!==n.appCO0.metadata.navigation.type&&n.appViewCompleteArray.push(r)))},e.prototype.ngOnDestroy=function(){_e.a.component.form.lifecycleHooks&&console.log(this.appTV+" ngOnDestroy fires on dismount");var e=this.ryber,t=this.appTV;Object.values(this.ryber[this.typesES]).forEach(function(e,t){Object.values(e).forEach(function(e,t){void 0!==e.unsubscribe&&e.unsubscribe()})});try{var n=e[t].metadata.judima.desktop.stack.keep.map(function(e,t){return e[0]});e[t].metadata.order=n}catch(r){}this.subscriptions.forEach(function(e,t){try{e.unsubscribe()}catch(r){}}),delete this.subscriptions},e.prototype.desktopMediaQuery=function(e){var t,n=e.zChild,r=e.keep,i=e.finalKeep,a=e.finalZChildKeys,o=e.finalAlign,s=e.section,u=e.ref,l=e.topLevelZChild,c=e.moving,h=e.ryber,d=e.appTV,p=this.desktopSection=Object(G.a)(Object(G.a)({},h.appCO0.metadata.ryber.sectionDefault.desktop),n["&#8353"].extras.judima.desktop);Object.keys(n).slice(2).forEach(function(e,t){"true"!==n[e].extras.judima.formatIgnore&&(n[e].css.height=n[e].cssDefault.height,n[e].css.width=n[e].cssDefault.width,n[e].css["font-size"]=n[e].cssDefault["font-size"])}),u.detectChanges(),r=i;for(var f={zChildKeys:a,ref:u,zChild:n,spacing:Object(G.d)(Array.from(a,function(e,t){return void 0!==n[e].extras.component.top?n[e].extras.component.top:s.stack})),options:{overlapFix:{confirm:"false",flag:"false"}},keep:i,type:"keepSomeAligned",heightInclude:Object(G.d)([null],Array.from(o[0],function(e,t){return"f"}),Array.from(Object($.i)(o.slice(1),1/0),function(e,t){return"t"}))},v="true";"true"===v;)f.keep=r,f.options.overlapFix.flag="false",r=(t=Object($.s)(f)).keep,v=t.overlapFixFlag,this.ref.detectChanges();h[d].metadata.judima.desktop.stack.keep=Object($.n)(f.keep);var m={preserve:{align:o,zChild:n,ref:u,width:s.width,left:s.left},type:"preserve"};Object($.t)(m),h[d].metadata.judima.desktop.xContain.align=Object($.n)(m.preserve.align),this.positionBoard({zChild:l,section:s,mediaQuery:p});var y=Object($.s)({type:"yPosition",yPosition:{zChild:l,moving:{top:c.boardTop,height:c.boardHeight},ref:u,ryber:h,appTV:d}});h[d].metadata.board=Object($.a)({zChild:n,section:s}),h[d].metadata.board.diff=null==y?void 0:y.diff,h[d].metadata.board.point=null==y?void 0:y.point,h[d].metadata.ngAfterViewInitFinished.next("")},e.prototype.mobileMediaQuery=function(e){var t=this,n=e.finalZChildKeys,r=e.zChild,i=e.section,a=e.topLevelZChild,o=e.moving,s=e.ref,u=e.ryber,l=e.appTV,c=r["&#8353"];"custom"===e.sectionType&&(c=u.appCO0.metadata.ryber.sectionDefault.app.custom.board);var h=this.mobileSection=Object(G.a)(Object(G.a)({},u.appCO0.metadata.ryber.sectionDefault.mobile),r["&#8353"].extras.judima.mobile);n.slice(1).forEach(function(e,t){var n,i,a,o,u,l,d,p,f,v;r[e].css.width=((null===(i=null===(n=r[e].extras.judima)||void 0===n?void 0:n.mobile)||void 0===i?void 0:i.width)||h.width||((null===(o=null===(a=r[e].extras.judima)||void 0===a?void 0:a.mobile)||void 0===o?void 0:o.widthRatio)||h.widthRatio)*Object($.m)(getComputedStyle(c.element).width)).toString()+"px",s.detectChanges(),r[e].css.left=((null===(l=null===(u=r[e].extras.judima)||void 0===u?void 0:u.mobile)||void 0===l?void 0:l.left)||Object($.u)({target:Object($.m)(r[e].css.width),contain:Object($.m)(getComputedStyle(c.element).width),targetPos:(null===(p=null===(d=r[e].extras.judima)||void 0===d?void 0:d.mobile)||void 0===p?void 0:p.containPos)||.5,containPos:(null===(v=null===(f=r[e].extras.judima)||void 0===f?void 0:f.mobile)||void 0===v?void 0:v.containPos)||.5})).toString()+"px"}),s.detectChanges(),n.reduce(function(e,t,n){var i,a,o;return"true"===(null===(o=null===(a=null===(i=r[t])||void 0===i?void 0:i.extras)||void 0===a?void 0:a.appFocusFont)||void 0===o?void 0:o.mobileShrink)&&e.push(t),e},[]).forEach(function(e,t){r[e].css["font-size"]=Object($.o)({default:Object($.m)(r[e].cssDefault["font-size"]),containActual:Object($.m)(getComputedStyle(c.element).width),containDefault:540,type:"nonUniform",misc:[.052,.06],mediaQuery:[379,286,0]}).toString()+"px"}),this.ref.detectChanges(),Object.keys(r).slice(2).forEach(function(e,n){var i,a,o;"false"===(null===(a=null===(i=r[e].extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.formatIgnore)&&"none"!==r[e].css.display&&(["p","ta","c","h1","a"].includes(r[e].bool)&&(r[e].css.height=null,r[e].css.display="table",t.ref.detectChanges(),r[e].css.height=r[e].element.getBoundingClientRect().height.toString()+"px"),void 0!==(null===(o=r[e].extras.judima.mobile)||void 0===o?void 0:o.height)&&(r[e].css.height=r[e].extras.judima.mobile.height.toString()+"px",s.detectChanges()))});var d=n.reduce(function(e,t,n){return["ta","c"].includes(r[t].bool)&&e.push(r[t]),e},[]);Object($.p)({item:{target:d,prop:Object(G.d)(Array.from(Array(d.length),function(){return"height"}))},values:Object(G.d)(Array.from(Array(d.length),function(){return[[1190,163],[770,303],[495,343],[391,385],[305,426],[216,487],[175,650]]})),measure:{target:c.element,prop:"width"}}),s.detectChanges(),Object($.s)({zChildKeys:n,ref:this.ref,zChild:r,spacing:n.map(function(e,t){var n,i;return void 0!==(null===(i=null===(n=r[e].extras.judima)||void 0===n?void 0:n.mobile)||void 0===i?void 0:i.top)?r[e].extras.judima.mobile.top:h.stack}),type:"simpleStack",heightInclude:[null,"f","t"]}),s.detectChanges(),this.positionBoard({zChild:a,section:i,mediaQuery:h});var p=Object($.s)({type:"yPosition",yPosition:{zChild:a,moving:{top:o.boardTop,height:o.boardHeight},ref:s,ryber:u,appTV:l,mediaQuery:"mobile"}});u[l].metadata.board=Object($.a)({zChild:r,section:i}),u[l].metadata.board.diff=null==p?void 0:p.diff,u[l].metadata.board.point=null==p?void 0:p.point,u[l].metadata.ngAfterViewInitFinished.next("")},e.prototype.positionBoard=function(e){var t=e.zChild,n=e.section,r=e.mediaQuery,i=this,a=i.ryber,o=i.appTV,s=i.ref,u=Object.keys(t).slice(2);u=u.reduce(function(e,n,r){if("true"===t[n].extras.judima.formatIgnore)return e;var i=Object($.m)(t[n].css.top)+Object($.m)(t[n].css.height);return i>e[1]&&(e=[n,i]),e},["",0])[0],t["&#8353"].css.height=void 0!==t["&#8353"].extras.component.height?t["&#8353"].extras.component.height.toString()+"px":(Object($.m)(t[u].css.top)+Object($.m)(t[u].css.height)+((null==r?void 0:r.footerSpace)||0)-Object($.m)(t["&#8353"].css.top)).toString()+"px",s.detectChanges(),a[o].metadata.board=Object($.a)({zChild:t,section:n})},e.prototype._deltaNodeBootstrap=function(e){var t,n=this,r=e.zChild,i=this.ryber[this.appTV].metadata.deltaNode,a=i.current,o=i.component,s=i.groups[null==a?void 0:a.group];if(null!==a&&s.hooks.directive.includes("prepare")){null===(t=null==a?void 0:a.deltas)||void 0===t||t.forEach(function(e,t){var i,o=Object(G.d)([[]],n.ryber[n.appTV].metadata.deltaNode.groups[a.group].deltas).reduce(function(t,n,r){return n.includes(e)?r:t})-1;null===(i=r[e].extras.appDeltaNode.options)||void 0===i||i.modify({zChild:r,x:e,index:o,groupIndex:t,hook:"deltaNodeBootstrap"})}),o.deltas=null==a?void 0:a.deltas.filter(function(e,t){var n,i,a;return"true"!==(null===(a=null===(i=null===(n=r[e])||void 0===n?void 0:n.extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.formatIgnore)});var u=0;s.hooks.directive.includes("add prepare")&&(u+=1),o.target=s.deltas.length<=u?null==s?void 0:s.targets.filter(function(e,t){var n,i,a;return"true"!==(null===(a=null===(i=null===(n=r[e[0]])||void 0===n?void 0:n.extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.formatIgnore)}).map(function(e,t){return e[0]}):s.deltas[s.deltas.length-(u+1)].filter(function(e,t){var n,i,a;return"true"!==(null===(a=null===(i=null===(n=r[e])||void 0===n?void 0:n.extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.formatIgnore)}),o.targetMap=Object.fromEntries(o.deltas.map(function(e,t){return[e,o.target[t]]})),o.deltasMap=Object.fromEntries(o.target.map(function(e,t){return[e,o.deltas[t]]}))}},e.prototype._topLevelZChildInit=function(){var e=this.zChildInit();return Object.keys(e).forEach(function(t,n){var r,i,a;"false"===(null===(a=null===(i=null===(r=e[t])||void 0===r?void 0:r.extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.topLevelZChild)&&delete e[t]}),e},e.prototype._formatZChildInit=function(){var e=this.zChildInit();return Object.keys(e).forEach(function(t,n){var r,i,a;"true"!==(null===(a=null===(i=null===(r=e[t])||void 0===r?void 0:r.extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.formatIgnore)&&delete e[t]}),e},e.prototype._latchZChildInit=function(){var e=this.zChildInit();return Object.keys(e).filter(function(t,n){var r,i,a;"false"===(null===(a=null===(i=null===(r=e[t])||void 0===r?void 0:r.extras)||void 0===i?void 0:i.judima)||void 0===a?void 0:a.format)&&delete e[t]}),e},e.prototype.directivesSendData=function(e){var t=e.directivesZChild,n=e.templateMyElements,r=e.ref,i=e.options,a=this.ryber,o=this.appTV;Object.keys(t).forEach(function(e,n){null!=t[e].extras&&Object.values(t[e].extras).forEach(function(t,n){"true"===(null==t?void 0:t.zSymbolNeeded)&&(t.zSymbol=e)})}),a[o.valueOf()].metadata.zChildrenSubject.next({options:i,directivesZChild:t,templateMyElements:n,ref:r})},e.prototype.zChildInit=function(e){return Object($.d)({appTV:this.appTV,myElements:this.templateMyElements._results,myContainers:this.templateMyContainers._results,ryber:this.ryber,zProps:{extras:"true",val:"true",quantity:"true",viewContainerRef:"true"}})},e.prototype.staticZKeysGen=function(e){return Object.entries(e).filter(function(e,t){return 3===e[1].quantity}).map(function(e,t){return e[0]}).slice(2)},e.prototype.toPlace=function(e){return Object.keys(e).filter(function(e,t){return null!==e.match("&#")}).slice(2).forEach(function(t,n){Object($.f)(e[t].element)})},e.prototype.highlights=function(e,t){Array.from(Array(2),function(e,t){return"&#"+(8354+t)}).forEach(function(t,n){e[t].css["background-color"]="red"})},e.prototype.currentScroll=function(e,t){var n=null;void 0!==t&&(n=Object.keys(e).reduce(function(e,n,r,i){return r===t&&(e=n),e})),scrollTo(0,Object($.m)(getComputedStyle(e[null===n?"&#8353":n].element).top)-30)},e.\u0275fac=function(t){return new(t||e)(h.ub(xe.a),h.ub(h.f),h.ub(h.x))},e.\u0275cmp=h.ob({type:e,selectors:[["app-form"]],viewQuery:function(e,t){if(1&e&&(h.Zb(Mc,1,h.i),h.Zb(Mc,1,h.G)),2&e){var n=void 0;h.Nb(n=h.Fb())&&(t.templateMyElements=n),h.Nb(n=h.Fb())&&(t.templateMyContainers=n)}},inputs:{appTV:"appTV"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["appNest","","appWebVitals","","appVanillaTilt","","appDeltaNode","","appSection","","appNavigation","","appVisible","","appComponents","","appAttribute","","dev-additions","","appThree","","appAwsLogin","","appSocialLogin","","dev-additions","",3,"nest","webVitals","vanillaTilt","deltaNode","section","navigation","visible","components","attribute","three","awsLogin","socialLogin","class","ngStyle",4,"ngIf","ngIfElse"],["boardBlock0",""],["boardBlock1",""],["boardBlock2",""],["appNest","","appWebVitals","","appVanillaTilt","","appDeltaNode","","appSection","","appNavigation","","appVisible","","appComponents","","appAttribute","","dev-additions","","appThree","","appAwsLogin","","appSocialLogin","","dev-additions","",3,"nest","webVitals","vanillaTilt","deltaNode","section","navigation","visible","components","attribute","three","awsLogin","socialLogin","ngStyle"],["myVal",""],["appNest","","appDeltaNode","",3,"nest","deltaNode","class","ngStyle",4,"ngIf","ngIfElse"],["appNest","","appDeltaNode","",3,"nest","deltaNode","ngStyle"],["appNest","","appWebVitals","","appVanillaTilt","","appDeltaNode","","appSection","","appNavigation","","appVisible","","appComponents","","appAttribute","",3,"nest","webVitals","vanillaTilt","deltaNode","section","navigation","visible","components","attribute","class","ngStyle",4,"ngIf"],["appNest","","appWebVitals","","appVanillaTilt","","appDeltaNode","","appSection","","appNavigation","","appVisible","","appComponents","","appAttribute","",3,"nest","webVitals","vanillaTilt","deltaNode","section","navigation","visible","components","attribute","ngStyle"],[4,"ngIf","ngIfElse"],["elseBlock1",""],["elseBlock2",""],["elseBlock3",""],["elseBlock4",""],["elseBlock5",""],["elseBlock6",""],["elseBlock7",""],["elseBlock8",""],["elseBlock9",""],["elseBlock10",""],["elseBlock11",""],["elseBlock12",""],["elseBlock13",""],["elseBlock14",""],["elseBlock15",""],["elseBlock16",""],["elseBlock17",""],["elseBlock18",""],["elseBlock19",""],["elseBlock20",""],["elseBlock22",""],["elseBlock23",""],["elseBlock24",""],["elseBlock25",""],[3,"ngIf","ngIfElse"],["elseBlock28",""],["appNest","","appDeltaNode","","appLatch","",3,"nest","deltaNode","latch","class","ngStyle","innerHTML",4,"ngIf","ngIfElse"],["appNest","","appDeltaNode","","appLatch","",3,"nest","deltaNode","latch","ngStyle","innerHTML"],["appNest","","appDeltaNode","","appNest","","appNavigation","","appLatch","",3,"nest","deltaNode","navigation","latch","class","ngStyle","innerHTML",4,"ngIf","ngIfElse"],["appNest","","appDeltaNode","","appNest","","appNavigation","","appLatch","",3,"nest","deltaNode","navigation","latch","ngStyle","innerHTML"],["appDeltaNode","","appLatch","","appNest","",3,"deltaNode","latch","nest","class","ngStyle",4,"ngIf","ngIfElse"],["appDeltaNode","","appLatch","","appNest","",3,"deltaNode","latch","nest","ngStyle"],["appNest","","appDeltaNode","","appLatch","",3,"nest","deltaNode","latch","class","ngStyle",4,"ngIf","ngIfElse"],["appNest","","appDeltaNode","","appLatch","",3,"nest","deltaNode","latch","ngStyle"],["appNest","","appDeltaNode","","appLatch","",3,"nest","class","ngStyle","innerHTML","deltaNode","latch",4,"ngIf","ngIfElse"],["appNest","","appDeltaNode","","appLatch","",3,"nest","ngStyle","innerHTML","deltaNode","latch"],["appDeltaNode","","appNest","","appLatch","",3,"deltaNode","nest","latch","class","ngStyle","innerHTML",4,"ngIf","ngIfElse"],["appDeltaNode","","appNest","","appLatch","",3,"deltaNode","nest","latch","ngStyle","innerHTML"],["controls","","appDeltaNode","","appNest","","appLatch","",3,"deltaNode","nest","latch","class","ngStyle",4,"ngIf","ngIfElse"],["controls","","appDeltaNode","","appNest","","appLatch","",3,"deltaNode","nest","latch","ngStyle"],["appLatch","",3,"class","ngStyle","latch",4,"ngIf"],["appLatch","",3,"ngStyle","latch"],[3,"options","class","ngStyle",4,"ngIf"],[3,"options","ngStyle"]],template:function(e,t){1&e&&h.Ub(0,Dh,3,2,"ng-container",0),2&e&&h.Jb("ngForOf",t.ryber[t.appTV].quantity[1])},directives:[c.d,c.e,ke,Oe,Ge,We,qe,Ye,Ke,$e,lc,xc,Oc,c.f,Ec,Tc.ComponentsComponent],encapsulation:2,changeDetection:0}),e}(),Bh=["myTemp"];function Fh(e,t){if(1&e&&(h.xb(0),h.vb(1,"app-form",2,3),h.wb()),2&e){var n=h.Gb().$implicit,r=h.Gb();h.mb(1),h.nb(n),h.Jb("appTV",n)("ngStyle",r.ryber[n].quantity[0][0].ngCss[0][0])}}var Hh=function(e){return{item:e}};function Vh(e,t){if(1&e&&(h.xb(0),h.Ub(1,Fh,3,4,"ng-container",1),h.wb()),2&e){var n=t.$implicit,r=h.Gb();h.mb(1),h.Jb("ngIf",r.ryber.appViewNavigation.routerMatcher(h.Mb(1,Hh,n)))}}var Uh=function(){function e(e,t){this.ryber=e,this.ref=t,this.title="Judima",this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e,t=this;_e.a.component.app.lifecycleHooks&&console.log("app ngOnInit fires on mount ");var n=this,r=n.ryber,i=n.subscriptions;r.ref=n.ref,(e=r.appCO0.metadata.scripts).push.apply(e,Object(G.d)(r.appAddScripts({scripts:[].filter(function(e,t){return 0!==t})}))),Object($.g)(r,r.appCO0.metadata.ES),this.CO$=J.a.apply(void 0,Object(G.d)(r.appCO0.metadata.CO.map(function(e,n){return t.ryber[e.valueOf()]}))).subscribe(function(e){Object($.c)(r,e,function(e){var t=e.co;["mainBackground"].includes(t.quantity[1][1].signature)&&(t.quantity[0][0].ngCss[0][0]["z-index"]=0),t.metadata.judima={desktop:{stack:{keep:null},xContain:{align:null}},init:"false"},t.metadata.board={},t.metadata.formData={},t.metadata.refresh={},t.metadata.latch={updateZChild:new Z.a,zChild:{},falseDestroy:[],display:{suffix:"display_",deltaNode:{}}},t.metadata.deltaNode={updateZChild:new X.a,groups:{},current:null,component:{confirm:"false"},falseDestroy:[]},t.metadata.section={mediaQuery:null},t.metadata.navigation={groups:{},group:{},suffix:"_nav_"},t.metadata.nest={groups:{}},t.metadata.templateDirective={group:{},suffix:"_tD_"},t.metadata.visible={group:{},suffix:"_vI_"},t.metadata.vanillaTilt={group:{},suffix:"_vT_"},t.metadata.components={group:{},suffix:"_vT_"},t.metadata.attribute={group:{},suffix:"_attr_",current:new X.a},t.metadata.three={group:{},suffix:"_three_"},t.metadata.awsLogin={group:{},suffix:"_aws_"},t.metadata.socialLogin={group:{},suffix:"_sL_"},t.metadata.zChildrenSubject=(new X.a).pipe(ie(function(e){t.metadata.zChildren=e.directivesZChild,t.metadata.templateMyElements=e.templateMyElements,t.metadata.ref=e.ref,t.metadata.zChildren$=Object(Y.a)(e.directivesZChild)})),t.metadata.ngAfterViewInitFinished=new X.a})}),i.push(this.CO$),"true"===r.appReloaded&&(r.appCurrentNav=r.appCO0.metadata.navigation.full.startURL),i.push(r.appViewComplete.subscribe(function(){""===window.name&&(window.name="/"),"true"!==t.ryber.appReloaded&&(window.name=t.ryber.appCurrentNav),"full"===r.appCO0.metadata.navigation.type?r.appViewNavigation.routes[r.appCurrentNav].size===r.appViewNavigation.routeLengths[r.appCurrentNav]&&(Array.from(r.appViewNavigation.routes[r.appCurrentNav]).forEach(function(e,t){document.querySelector("."+e)&&r.appViewCompleteArray.push(e)}),t.routeDispatch({arr:Array.from(r.appViewNavigation.routes[r.appCurrentNav]).sort()})):"SPA"===r.appCO0.metadata.navigation.type&&t.routeDispatch({arr:Object(G.d)(r.formCO).sort()})}))},e.prototype.routeDispatch=function(e){var t=this,n=e.arr;n=n.sort(),this.ryber.appViewCompleteArray=this.ryber.appViewCompleteArray.sort(),0===n.filter(function(e,n){return t.ryber.appViewCompleteArray[n]!==e}).length&&n.length===this.ryber.appViewCompleteArray.length&&(Object($.h)({element:window,event:"resize"}),this.ryber.appViewCompleteArray=[],"true"===this.ryber.appReloaded&&(this.ryber.appReloaded="false"))},e.prototype.ngAfterViewInit=function(){_e.a.component.app.lifecycleHooks&&console.log("app ngAfterViewInit fires on mount ");var e=this,t=e.ryber,n=t.http;if(e.subscriptions.push(e.templateMyComponents.changes.subscribe(function(e){t.appCO0.metadata.navigation.full.navigated="false"})),n.post(_e.a.backend.url,JSON.stringify({env:"refreshPage"}),{withCredentials:!0,headers:{"Content-Type":"text/plain"}}).pipe(le(1)).subscribe({next:function(e){t.appCO0.metadata.awsLogin.accessToken=e.access_token},error:t.aws.refreshPage.error}),!_e.a.production){var r=Object(Y.a)([]).pipe(me(500));(function(){return K()(Y.a.apply(void 0,arguments))})(r.pipe(ie(function(){Object($.h)({element:document.querySelectorAll(".a_p_p_MenuItem")[2],event:"click"})})),r.pipe(me(3e3),ie(function(){var e=document.querySelectorAll(".a_p_p_SocialAcctLoginButtonPod")[0];Object($.h)({element:e,event:"click"})}))).subscribe()}},e.prototype.ngOnDestroy=function(){_e.a.component.app.lifecycleHooks&&console.log("app ngOnDestroy fires on dismount"),this.subscriptions.forEach(function(e,t){try{e.unsubscribe()}catch(n){}}),delete this.subscriptions},e.\u0275fac=function(t){return new(t||e)(h.ub(xe.a),h.ub(h.f))},e.\u0275cmp=h.ob({type:e,selectors:[["app-root"]],viewQuery:function(e,t){var n;1&e&&h.Zb(Bh,1,h.i),2&e&&h.Nb(n=h.Fb())&&(t.templateMyComponents=n)},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"appTV","ngStyle"],["myTemp",""]],template:function(e,t){1&e&&(h.Ub(0,Vh,2,3,"ng-container",0),h.Hb(1,"async")),2&e&&h.Jb("ngForOf",h.Ib(1,1,t.ryber.formCO$))},directives:[c.d,c.e,zh,c.f],pipes:[c.a],encapsulation:2}),e}(),Gh=function e(){Object(o.a)(this,e)},Wh=function e(){Object(o.a)(this,e)},qh="*";function Jh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Zh(e){return{type:6,styles:e,offset:null}}function Xh(e){Promise.resolve(null).then(e)}var Yh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return Object(s.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Xh(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Qh=function(){function e(t){var n=this;Object(o.a)(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,a=0,s=this.players.length;0==s?Xh(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==s&&n._onFinish()}),e.onDestroy(function(){++i==s&&n._onDestroy()}),e.onStart(function(){++a==s&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return Object(s.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Kh="!",$h=n("8vcG");function ed(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function td(e){switch(e.length){case 0:return new Yh;case 1:return e[0];default:return new Qh(e)}}function nd(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,l=null;if(r.forEach(function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach(function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),s){case Kh:s=i[n];break;case qh:s=a[n];break;default:s=t.normalizeStyleValue(n,r,s,o)}c[r]=s}),r||s.push(c),l=c,u=n}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function rd(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&id(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&id(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&id(n,"destroy",e))})}}function id(e,t,n){var r=n.totalTime,i=ad(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),a=e._data;return null!=a&&(i._data=a),i}function ad(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function od(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function sd(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var ud=function(e,t){return!1},ld=function(e,t){return!1},cd=function(e,t,n){return[]},hd=ed();(hd||"undefined"!=typeof Element)&&(ud=function(e,t){return e.contains(t)},ld=function(){if(hd||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:ld}(),cd=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),a=0;a<i.length;a++)r.push(i[a]);else{var o=e.querySelector(t);o&&r.push(o)}return r});var dd=null,pd=!1;function fd(e){dd||(dd=("undefined"!=typeof document?document.body:null)||{},pd=!!dd.style&&"WebkitAppearance"in dd.style);var t=!0;return dd.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in dd.style)&&pd&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in dd.style),t}var vd=ld,md=ud,yd=cd;function gd(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var bd=function(){var e=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"validateStyleProperty",value:function(e){return fd(e)}},{key:"matchesElement",value:function(e,t){return vd(e,t)}},{key:"containsElement",value:function(e,t){return md(e,t)}},{key:"query",value:function(e,t,n){return yd(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new Yh(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),_d=function(){var e=function e(){Object(o.a)(this,e)};return e.NOOP=new bd,e}(),xd="ng-enter",wd="ng-leave",Sd="ng-trigger",kd=".ng-trigger",Od="ng-animating",Ed=".ng-animating";function Td(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Md(parseFloat(t[1]),t[2])}function Md(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Cd(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=Md(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(i=Md(parseFloat(s),o[4]));var u=o[5];u&&(a=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:a}}(e,t,n)}function Ad(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function jd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else Ad(e,n);return n}function Ld(e,t,n){return n?t+":"+n+";":""}function Pd(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=Ld(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Ld(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function Nd(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=Vd(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),ed()&&Pd(e))}function Rd(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=Vd(t);e.style[n]=""}),ed()&&Pd(e))}function Id(e){return Array.isArray(e)?1==e.length?e[0]:Jh(e):e}var Dd=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function zd(e){var t=[];if("string"==typeof e){for(var n;n=Dd.exec(e);)t.push(n[1]);Dd.lastIndex=0}return t}function Bd(e,t,n){var r=e.toString(),i=r.replace(Dd,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function Fd(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Hd=/-+([a-z0-9])/g;function Vd(e){return e.replace(Hd,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function Ud(e,t){return 0===e||0===t}function Gd(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],a=[];if(r.forEach(function(e){i.hasOwnProperty(e)||a.push(e),i[e]=n[e]}),a.length)for(var o=function(){var n=t[s];a.forEach(function(t){n[t]=qd(e,t)})},s=1;s<t.length;s++)o()}return t}function Wd(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function qd(e,t){return window.getComputedStyle(e)[t]}var Jd="*",Zd=new Set(["true","1"]),Xd=new Set(["false","0"]);function Yd(e,t){var n=Zd.has(e)||Xd.has(e),r=Zd.has(t)||Xd.has(t);return function(i,a){var o=e==Jd||e==i,s=t==Jd||t==a;return!o&&n&&"boolean"==typeof i&&(o=i?Zd.has(e):Xd.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?Zd.has(t):Xd.has(t)),o&&s}}var Qd=":self",Kd=new RegExp("s*".concat(Qd,"s*,?"),"g");function $d(e,t,n){return new ep(e).build(t,n)}var ep=function(){function e(t){Object(o.a)(this,e),this._driver=t}return Object(s.a)(e,[{key:"build",value:function(e,t){var n=new tp(t);return this._resetContextStyleTimingState(n),Wd(this,Id(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,a.push(n.visitState(s,t))}),s.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,a=r||{};if(n.styles.forEach(function(e){if(np(e)){var t=e;Object.keys(t).forEach(function(e){zd(t[e]).forEach(function(e){a.hasOwnProperty(e)||i.add(e)})})}}),i.size){var o=Fd(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,a=Wd(this,Id(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=i[1],o=i[2],s=i[3];t.push(Yd(a,s)),"<"!=o[0]||a==Jd&&s==Jd||t.push(Yd(s,a))}(e,i,r)}):i.push(n),i),animation:a,queryCount:t.queryCount,depCount:t.depCount,options:rp(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Wd(n,e,t)}),options:rp(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,a=e.steps.map(function(e){t.currentTime=r;var a=Wd(n,e,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:a,options:rp(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return ip(Cd(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=ip(0,0,"");return i.dynamic=!0,i.strValue=r,i}return ip((n=n||Cd(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Zh({});if(5==i.type)n=this.visitKeyframes(i,t);else{var a=e.styles,o=!1;if(!a){o=!0;var s={};r.easing&&(s.easing=r.easing),a=Zh(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(a,t);u.isEmptyStep=o,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==qh?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(np(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var a in t)if(t[a].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var o,s,u,l=t.collectedStyles[t.currentQuerySelector],c=l[r],h=!0;c&&(a!=i&&a>=c.startTime&&i<=c.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(c.startTime,'ms" and "').concat(c.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(i,'ms"')),h=!1),a=c.startTime),h&&(l[r]={startTime:a,endTime:i}),t.options&&(o=t.errors,s=t.options.params||{},(u=zd(e[r])).length&&u.forEach(function(e){s.hasOwnProperty(e)||o.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,a=[],o=!1,s=!1,u=0,l=e.steps.map(function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(np(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(np(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,o=o||c<u,u=c,a.push(c),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var d=c-1,p=t.currentTime,f=t.currentAnimateTimings,v=f.duration;return l.forEach(function(e,i){var o=h>0?i==d?1:h*i:a[i],s=o*v;t.currentTime=p+f.delay+s,f.duration=s,n._validateStyleAst(e,t),e.offset=o,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Wd(this,Id(e.animation),t),options:rp(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:rp(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rp(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return e==Qd});return t&&(e=e.replace(Kd,"")),[e=e.replace(/@\*/g,kd).replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,Ed),t]}(e.selector),a=Object(ct.a)(i,2),o=a[0],s=a[1];t.currentQuerySelector=n.length?n+" "+o:o,od(t.collectedStyles,t.currentQuerySelector,{});var u=Wd(this,Id(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:u,originalSelector:e.selector,options:rp(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cd(e.timings,t.errors,!0);return{type:12,animation:Wd(this,Id(e.animation),t),timings:n,options:null}}}]),e}(),tp=function e(t){Object(o.a)(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function np(e){return!Array.isArray(e)&&"object"==typeof e}function rp(e){var t;return e?(e=Ad(e)).params&&(e.params=(t=e.params)?Ad(t):null):e={},e}function ip(e,t,n){return{duration:e,delay:t,easing:n}}function ap(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var op=function(){function e(){Object(o.a)(this,e),this._map=new Map}return Object(s.a)(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,Object($h.a)(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),sp=new RegExp(":enter","g"),up=new RegExp(":leave","g");function lp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new cp).buildKeyframes(e,t,n,r,i,a,o,s,u,l)}var cp=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,a,o,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new op;var c=new dp(e,t,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([a],null,c.errors,s),Wd(this,n,c);var h=c.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,c.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[ap(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?Td(n.duration):null,a=null!=n.delay?Td(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,a);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Wd(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&((i=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hp);var o=Td(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return Wd(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?Td(e.options.delay):0;e.steps.forEach(function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),Wd(n,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return Cd(t.params?Bd(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){a.forwardTime((e.offset||0)*i),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Td(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hp);var o=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);a&&s.delayNextStep(a),r===t.element&&(u=s.currentTimeline),Wd(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,a=Math.abs(i.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;Wd(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),hp={},dp=function(){function e(t,n,r,i,a,s,u,l){Object(o.a)(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=s,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new pp(this._driver,n,0),u.push(this.currentTimeline)}return Object(s.a)(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=Td(r.duration)),null!=r.delay&&(i.delay=Td(r.delay));var a=r.params;if(a){var o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(e){t&&o.hasOwnProperty(e)||(o[e]=Bd(a[e],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,a=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=hp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new fp(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,a){var o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(sp,"."+this._enterClassName)).replace(up,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,Object($h.a)(s))}return i||0!=o.length||a.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),o}}]),e}(),pp=function(){function e(t,n,r,i){Object(o.a)(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return Object(s.a)(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||qh,t._currentKeyframe[e]=qh}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},o=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]=qh}):jd(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(o).forEach(function(e){var t=Bd(o[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:qh),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(a,o){var s=jd(a,!0);Object.keys(s).forEach(function(e){var r=s[e];r==Kh?t.add(e):r==qh&&n.add(e)}),r||(s.offset=o/e.duration),i.push(s)});var a=t.size?Fd(t.values()):[],o=n.size?Fd(n.values()):[];if(r){var s=i[0],u=Ad(s);s.offset=0,u.offset=1,i=[s,u]}return ap(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}]),e}(),fp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,s,u){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return Object(o.a)(this,n),(l=t.call(this,e,r,u.delay)).element=r,l.keyframes=i,l.preStyleProps=a,l.postStyleProps=s,l._stretchStartingKeyframe=c,l.timings={duration:u.duration,delay:u.delay,easing:u.easing},l}return Object(s.a)(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=r+n,s=n/o,u=jd(e[0],!1);u.offset=0,a.push(u);var l=jd(e[0],!1);l.offset=vp(s),a.push(l);for(var c=e.length-1,h=1;h<=c;h++){var d=jd(e[h],!1);d.offset=vp((n+d.offset*r)/o),a.push(d)}r=o,n=0,i="",e=a}return ap(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(pp);function vp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var mp=function e(){Object(o.a)(this,e)},yp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"normalizePropertyName",value:function(e,t){return Vd(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",a=n.toString().trim();if(gp[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+i}}]),n}(mp),gp=function(){return function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function bp(e,t,n,r,i,a,o,s,u,l,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}var _p={},xp=function(){function e(t,n,r){Object(o.a)(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return Object(s.a)(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],a=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,r,i,a,o,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||_p,d=this.buildStyles(n,o&&o.params||_p,c),p=s&&s.params||_p,f=this.buildStyles(r,p,c),v=new Set,m=new Map,y=new Map,g="void"===r,b={params:Object.assign(Object.assign({},h),p)},_=l?[]:lp(e,t,this.ast.animation,i,a,d,f,b,u,c),x=0;if(_.forEach(function(e){x=Math.max(e.duration+e.delay,x)}),c.length)return bp(t,this._triggerName,n,r,g,d,f,[],[],m,y,x,c);_.forEach(function(e){var n=e.element,r=od(m,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=od(y,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&v.add(n)});var w=Fd(v.values());return bp(t,this._triggerName,n,r,g,d,f,_,w,m,y,x)}}]),e}(),wp=function(){function e(t,n){Object(o.a)(this,e),this.styles=t,this.defaultParams=n}return Object(s.a)(e,[{key:"buildStyles",value:function(e,t){var n={},r=Ad(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach(function(e){var a=i[e];a.length>1&&(a=Bd(a,r,t)),n[e]=a})}}),n}}]),e}(),Sp=function(){function e(t,n){var r=this;Object(o.a)(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){r.states[e.name]=new wp(e.style,e.options&&e.options.params||{})}),kp(this.states,"true","1"),kp(this.states,"false","0"),n.transitions.forEach(function(e){r.transitionFactories.push(new xp(t,e,r.states))}),this.fallbackTransition=new xp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object(s.a)(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function kp(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Op=new op,Ep=function(){function e(t,n,r){Object(o.a)(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return Object(s.a)(e,[{key:"register",value:function(e,t){var n=[],r=$d(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=nd(this._driver,this._normalizer,r,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],s=new Map;if(o?(n=lp(this._driver,t,o,xd,wd,{},{},i,Op,a)).forEach(function(e){var t=od(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,qh)})});var u=n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}),l=td(u);return this._playersById[e]=l,l.onDestroy(function(){return r.destroy(e)}),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=ad(t,"","","");return rd(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),Tp="ng-animate-queued",Mp="ng-animate-disabled",Cp=".ng-animate-disabled",Ap="ng-star-inserted",jp=[],Lp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Np=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(o.a)(this,e),this.namespaceId=n;var r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=Fp(i),r){var a=Ad(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return Object(s.a)(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),Rp="void",Ip=new Np(Rp),Dp=function(){function e(t,n,r){Object(o.a)(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wp(n,this._hostClassName)}return Object(s.a)(e,[{key:"listen",value:function(e,t,n,r){var i,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=od(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);var u=od(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Wp(e,Sd),Wp(e,"ng-trigger-"+t),u[t]=Ip),function(){a._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete u[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new Bp(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Wp(e,Sd),Wp(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],l=new Np(n,this.id),c=n&&n.hasOwnProperty("value");!c&&u&&l.absorbOptions(u.options),s[t]=l,u||(u=Ip);var h=l.value===Rp;if(h||u.value!==l.value){var d=od(this._engine.playersByElement,e,[]);d.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var p=a.matchTransition(u.value,l.value,e,l.params),f=!1;if(!p){if(!i)return;p=a.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:u,toState:l,player:o,isFallbackTransition:f}),f||(Wp(e,Tp),o.onStart(function(){qp(e,Tp)})),o.onDone(function(){var t=r.players.indexOf(o);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(o);i>=0&&n.splice(i,1)}}),this.players.push(o),d.push(o),o}if(!Xp(u.params,l.params)){var v=[],m=a.matchStyles(u.value,u.params,v),y=a.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(function(){Rd(e,m),Nd(e,y)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,kd,!0);r.forEach(function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,Rp,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&td(o).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var a=n.name;if(!i.has(a)){i.add(a);var o=t._triggers[a].fallbackTransition,s=r[a]||Ip,u=new Np(Rp),l=new Bp(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:o,fromState:s,toState:u,player:l,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==Lp||(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Wp(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var a=r.element,o=t._elementListeners.get(a);o&&o.forEach(function(t){if(t.name==r.triggerName){var n=ad(a,r.triggerName,r.fromState.value,r.toState.value);n._data=e,rd(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),zp=function(){function e(t,n,r){Object(o.a)(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return Object(s.a)(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new Dp(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=n[r[i]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,r){if(Hp(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(Hp(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wp(e,Mp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qp(e,Mp))}},{key:"removeNode",value:function(e,t,n,r){if(Hp(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return Hp(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,kd,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,Ed,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return td(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Lp,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,Cp)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Cp,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++){var i=this.collectedEnterElements[r];Wp(i,Ap)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var a=[];try{n=this._flushAnimations(a,t)}finally{for(var o=0;o<a.length;o++)a[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++){var u=this.collectedLeaveElements[s];this.processLeaveNode(u)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var l=this._whenQuietFns;this._whenQuietFns=[],n.length?td(n).onDone(function(){l.forEach(function(e){return e()})}):l.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new op,i=[],a=new Map,o=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])});var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Gp(d,this.collectedEnterElements),f=new Map,v=0;p.forEach(function(e,t){var n=xd+v++;f.set(t,n),e.forEach(function(e){return Wp(e,n)})});for(var m=[],y=new Set,g=new Set,b=0;b<this.collectedLeaveElements.length;b++){var _=this.collectedLeaveElements[b],x=_.__ng_removed;x&&x.setForRemoval&&(m.push(_),y.add(_),x.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach(function(e){return y.add(e)}):g.add(_))}var w=new Map,S=Gp(d,Array.from(y));S.forEach(function(e,t){var n=wd+v++;w.set(t,n),e.forEach(function(e){return Wp(e,n)})}),e.push(function(){p.forEach(function(e,t){var n=f.get(t);e.forEach(function(e){return qp(e,n)})}),S.forEach(function(e,t){var n=w.get(t);e.forEach(function(e){return qp(e,n)})}),m.forEach(function(e){n.processLeaveNode(e)})});for(var k=[],O=[],E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach(function(e){var t=e.player,a=e.element;if(k.push(t),n.collectedEnterElements.length){var c=a.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var d=!h||!n.driver.containsElement(h,a),p=w.get(a),v=f.get(a),m=n._buildInstruction(e,r,v,p,d);if(m.errors&&m.errors.length)O.push(m);else{if(d)return t.onStart(function(){return Rd(a,m.fromStyles)}),t.onDestroy(function(){return Nd(a,m.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return Rd(a,m.fromStyles)}),t.onDestroy(function(){return Nd(a,m.toStyles)}),void i.push(t);m.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(a,m.timelines),o.push({instruction:m,player:t,element:a}),m.queriedElements.forEach(function(e){return od(s,e,[]).push(t)}),m.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),m.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(O.length){var T=[];O.forEach(function(e){T.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return T.push("- ".concat(e,"\n"))})}),k.forEach(function(e){return e.destroy()}),this.reportError(T)}var M=new Map,C=new Map;o.forEach(function(e){var t=e.element;r.has(t)&&(C.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,M))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){od(M,t,[]).push(e),e.destroy()})});var A=m.filter(function(e){return Yp(e,u,l)}),j=new Map;Up(j,this.driver,g,l,qh).forEach(function(e){Yp(e,u,l)&&A.push(e)});var L=new Map;p.forEach(function(e,t){Up(L,n.driver,new Set(e),u,Kh)}),A.forEach(function(e){var t=j.get(e),n=L.get(e);j.set(e,Object.assign(Object.assign({},t),n))});var P=[],N=[],R={};o.forEach(function(e){var t=e.element,o=e.player,s=e.instruction;if(r.has(t)){if(c.has(t))return o.onDestroy(function(){return Nd(t,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=R;if(C.size>1){for(var l=t,h=[];l=l.parentNode;){var d=C.get(l);if(d){u=d;break}h.push(l)}h.forEach(function(e){return C.set(e,u)})}var p=n._buildAnimation(o.namespaceId,s,M,a,L,j);if(o.setRealPlayer(p),u===R)P.push(o);else{var f=n.playersByElement.get(u);f&&f.length&&(o.parentPlayer=td(f)),i.push(o)}}else Rd(t,s.fromStyles),o.onDestroy(function(){return Nd(t,s.toStyles)}),N.push(o),c.has(t)&&i.push(o)}),N.forEach(function(e){var t=a.get(e.element);if(t&&t.length){var n=td(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var I=0;I<m.length;I++){var D=m[I],z=D.__ng_removed;if(qp(D,wd),!z||!z.hasAnimation){var B=[];if(s.size){var F=s.get(D);F&&F.length&&B.push.apply(B,Object($h.a)(F));for(var H=this.driver.query(D,Ed,!0),V=0;V<H.length;V++){var U=s.get(H[V]);U&&U.length&&B.push.apply(B,Object($h.a)(U))}}var G=B.filter(function(e){return!e.destroyed});G.length?Jp(this,D,G):this.processLeaveNode(D)}}return m.length=0,P.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var u=!i||i==Rp;s.forEach(function(e){e.queued||(u||e.triggerName==r)&&a.push(e)})}}return(n||r)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=Object(ut.a)(t.timelines);try{var l=function(){var e=r.value.element,u=e!==a,l=od(n,e,[]);i._getPreviousPlayers(e,u,o,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}Rd(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var o=this,s=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,d=t.timelines.map(function(t){var d=t.element;c.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new Yh(t.duration,t.delay);var f,v,m=d!==u,y=(f=(n.get(d)||jp).map(function(e){return e.getRealPlayer()}),v=[],Zp(f,v),v).filter(function(e){return!!e.element&&e.element===d}),g=i.get(d),b=a.get(d),_=nd(o.driver,o._normalizer,d,t.keyframes,g,b),x=o._buildPlayer(t,_,y);if(t.subTimeline&&r&&h.add(d),m){var w=new Bp(e,s,d);w.setRealPlayer(x),l.push(w)}return x});l.forEach(function(e){od(o.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var a=r.indexOf(n);r.splice(a,1)}0==r.length&&delete e[t]}return r}(o.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return Wp(e,Od)});var p=td(d);return p.onDestroy(function(){c.forEach(function(e){return qp(e,Od)}),Nd(u,t.toStyles)}),h.forEach(function(e){od(r,e,[]).push(p)}),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Yh(e.duration,e.delay)}}]),e}(),Bp=function(){function e(t,n,r){Object(o.a)(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Yh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return Object(s.a)(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return rd(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){od(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Fp(e){return null!=e?e:null}function Hp(e){return e&&1===e.nodeType}function Vp(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Up(e,t,n,r,i){var a=[];n.forEach(function(e){return a.push(Vp(e))});var o=[];r.forEach(function(n,r){var a={};n.forEach(function(e){var n=a[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Pp,o.push(r))}),e.set(r,a)});var s=0;return n.forEach(function(e){return Vp(e,a[s++])}),o}function Gp(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function a(e){if(!e)return 1;var t=i.get(e);if(t)return t;var o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:a(o),i.set(e,t),t}return t.forEach(function(e){var t=a(e);1!==t&&n.get(t).push(e)}),n}function Wp(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function qp(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Jp(e,t,n){td(n).onDone(function(){return e.processLeaveNode(t)})}function Zp(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof Qh?Zp(r.players,t):t.push(r)}}function Xp(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}function Yp(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var Qp=function(){function e(t,n,r){var i=this;Object(o.a)(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new zp(t,n,r),this._timelineEngine=new Ep(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return Object(s.a)(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var a=e+"-"+r,o=this._triggerCache[a];if(!o){var s=[],u=$d(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t){return new Sp(e,t)}(r,u),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=sd(n),a=Object(ct.a)(i,2);this._timelineEngine.command(a[0],t,a[1],r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var a=sd(n),o=Object(ct.a)(a,2);return this._timelineEngine.listen(o[0],t,o[1],i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Kp(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=ef(t[0]),t.length>1&&(r=ef(t[t.length-1]))):t&&(n=ef(t)),n||r?new $p(e,n,r):null}var $p=function(){var e=function(){function e(t,n,r){Object(o.a)(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return Object(s.a)(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Nd(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Nd(this._element,this._initialStyles),this._endStyles&&(Nd(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Rd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rd(this._element,this._endStyles),this._endStyles=null),Nd(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function ef(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];tf(i)&&((t=t||{})[i]=e[i])}return t}function tf(e){return"display"===e||"position"===e}var nf="animation",rf="animationend",af=function(){function e(t,n,r,i,a,s,u){var l=this;Object(o.a)(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=a,this._fillMode=s,this._onDoneFn=u,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return Object(s.a)(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=hf(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)","===e.charAt(n)&&0}(n),t="".concat(n,", ").concat(t)),cf(e,"",t),lf(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){of(this._element,this._name,"paused")}},{key:"resume",value:function(){of(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=sf(this._element,this._name);this._position=e*this._duration,cf(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),lf(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._name,(r=uf(n=hf(e=this._element,"").split(","),t))>=0&&(n.splice(r,1),cf(e,"",n.join(","))))}}]),e}();function of(e,t,n){cf(e,"PlayState",n,sf(e,t))}function sf(e,t){var n=hf(e,"");return n.indexOf(",")>0?uf(n.split(","),t):uf([n],t)}function uf(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function lf(e,t,n){n?e.removeEventListener(rf,t):e.addEventListener(rf,t)}function cf(e,t,n,r){var i=nf+t;if(null!=r){var a=e.style[i];if(a.length){var o=a.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function hf(e,t){return e.style[nf+t]||""}var df=function(){function e(t,n,r,i,a,s,u,l){Object(o.a)(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=u,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+a,this._buildStyler()}return Object(s.a)(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new af(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:qd(e.element,r))})}this.currentSnapshot=t}}]),e}(),pf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=gd(r),i}return Object(s.a)(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),Object(i.a)(Object(a.a)(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),Object(i.a)(Object(a.a)(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,Object(i.a)(Object(a.a)(n.prototype),"destroy",this).call(this))}}]),n}(Yh),ff="gen_css_kf_",vf=function(){function e(){Object(o.a)(this,e),this._count=0,this._head=document.querySelector("head")}return Object(s.a)(e,[{key:"validateStyleProperty",value:function(e){return fd(e)}},{key:"matchesElement",value:function(e,t){return vd(e,t)}},{key:"containsElement",value:function(e,t){return md(e,t)}},{key:"query",value:function(e,t,n){return yd(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return gd(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var a=document.createElement("style");return a.textContent=r,a}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(e){return e instanceof df}),s={};Ud(n,r)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var u=mf(t=Gd(e,t,s));if(0==n)return new pf(e,u);var l="".concat(ff).concat(this._count++),c=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(c);var h=Kp(e,t),d=new df(e,t,l,n,r,i,u,h);return d.onDestroy(function(){return yf(c)}),d}}]),e}();function mf(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}function yf(e){e.parentNode.removeChild(e)}var gf=function(){function e(t,n,r,i){Object(o.a)(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return Object(s.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:qd(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),bf=function(){function e(){Object(o.a)(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_f().toString()),this._cssKeyframesDriver=new vf}return Object(s.a)(e,[{key:"validateStyleProperty",value:function(e){return fd(e)}},{key:"matchesElement",value:function(e,t){return vd(e,t)}},{key:"containsElement",value:function(e,t){return md(e,t)}},{key:"query",value:function(e,t,n){return yd(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0,s=!o&&!this._isNativeImpl;if(s)return this._cssKeyframesDriver.animate(e,t,n,r,i,a);var u=0==r?"both":"forwards",l={duration:n,delay:r,fill:u};i&&(l.easing=i);var c={},h=a.filter(function(e){return e instanceof gf});Ud(n,r)&&h.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return c[e]=t[e]})});var d=Kp(e,t=Gd(e,t=t.map(function(e){return jd(e,!1)}),c));return new gf(e,t,l,d)}}]),e}();function _f(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var xf=function(){var e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:h.H.None,styles:[],data:{animation:[]}}),i}return Object(s.a)(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Jh(e):e;return kf(this._renderer,null,t,"register",[n]),new wf(t,this._renderer)}}]),n}(Gh);return e.\u0275fac=function(t){return new(t||e)(h.Bb(h.y),h.Bb(c.c))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),wf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return Object(s.a)(n,[{key:"create",value:function(e,t){return new Sf(this._id,e,t||{},this._renderer)}}]),n}(Wh),Sf=function(){function e(t,n,r,i){Object(o.a)(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return Object(s.a)(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kf(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function kf(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Of="@",Ef="@.disabled",Tf=function(){var e=function(){function e(t,n,r){Object(o.a)(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return Object(s.a)(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Mf("",r,this.engine),this._rendererCache.set(r,i)),i}var a=t.id,o=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,e),t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(a,o,e,r.name,r)}),new Cf(this,o,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var t=Object(ct.a)(e,2);(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Bb(h.y),h.Bb(Qp),h.Bb(h.t))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),Mf=function(){function e(t,n,r){Object(o.a)(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return Object(s.a)(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){t.charAt(0)==Of&&t==Ef?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Cf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a){var s;return Object(o.a)(this,n),(s=t.call(this,r,i,a)).factory=e,s.namespaceId=r,s}return Object(s.a)(n,[{key:"setProperty",value:function(e,t,n){t.charAt(0)==Of?"."==t.charAt(1)&&t==Ef?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,a=this;if(t.charAt(0)==Of){var o=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),s=t.substr(1),u="";if(s.charAt(0)!=Of){var l=(i=(r=s).indexOf("."),[r.substring(0,i),r.substr(i+1)]),c=Object(ct.a)(l,2);s=c[0],u=c[1]}return this.engine.listen(this.namespaceId,o,s,u,function(e){a.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),n}(Mf),Af=function(){var e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(o.a)(this,n),t.call(this,e.body,r,i)}return n}(Qp);return e.\u0275fac=function(t){return new(t||e)(h.Bb(c.c),h.Bb(_d),h.Bb(mp))},e.\u0275prov=h.qb({token:e,factory:e.\u0275fac}),e}(),jf=new h.m("AnimationModuleType"),Lf=[{provide:Gh,useClass:xf},{provide:mp,useFactory:function(){return new yp}},{provide:Qp,useClass:Af},{provide:h.y,useFactory:function(e,t,n){return new Tf(e,t,n)},deps:[A,Qp,h.t]}],Pf=[{provide:_d,useFactory:function(){return"function"==typeof _f()?new bf:new vf}},{provide:jf,useValue:"BrowserAnimations"}].concat(Lf),Nf=([{provide:_d,useClass:bd},{provide:jf,useValue:"NoopAnimations"}].concat(Lf),function(){var e=function e(){Object(o.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.sb({type:e}),e.\u0275inj=h.rb({providers:Pf,imports:[U]}),e}()),Rf=n("0hV+"),If=[];"true"===_e.a.testingAcct.confirm&&(If=[{provide:h.j,useClass:W}]),Object.entries(console).forEach(function(e,t){var n=Object(G.c)(e,2);"function"==typeof n[1]&&(console[n[0]]=function(){})});var Df=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.sb({type:e,bootstrap:[Uh]}),e.\u0275inj=h.rb({providers:If,imports:[[U,q.b,Nf,Rf.b]]}),e}();_e.a.production&&Object(h.J)(),H().bootstrapModule(Df).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zx2A:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d});var r=n("MGFw"),i=n("WtWf"),a=n("mvVQ"),o=n("/E8u"),s=n("7o/Q"),u=n("HDdC"),l=n("SeVD"),c=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this)).parent=e,i}return Object(i.a)(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(s.a),h=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(s.a);function d(e,t){if(!t.closed){if(e instanceof u.a)return e.subscribe(t);var n;try{n=Object(l.a)(e)(t)}catch(r){t.error(r)}return n}}}},[[0,0]]]);
//# sourceMappingURL=main.218469e1260958e10fd8.js.map